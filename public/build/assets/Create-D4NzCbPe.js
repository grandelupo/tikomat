import{r as h,j as e,a as xe,U as Ke,v as Xs,$ as qs,Y as Fe}from"./app-CJMXdsrp.js";import{a as we,u as he,c as es,B as I}from"./button-Dvwlut3j.js";import{C as G,b as J,c as Q,a as Z,d as Js}from"./card-DBaFaNz4.js";import{I as T}from"./input-QXCk4a_Z.js";import{L as n}from"./label-ChCqZbS5.js";import{T as ne}from"./textarea-ZgnNUZ1S.js";import{C as v}from"./checkbox-B19UVDRP.js";import{R as K,a as U}from"./radio-group-gnOwI0fY.js";import{A as je,a as ve}from"./alert-Boj1WX5u.js";import{e as Qs,f as de,L as Pe,g as Xe,h as Zs,X as Ks,A as et,I as st}from"./app-layout-BrmgjW0Q.js";import{X as tt}from"./x-DKMLDWVq.js";import{S as at}from"./separator-DyXCU9HI.js";import{B as X}from"./badge-CXUnZyme.js";import{P as ce}from"./index-BvvR__Kj.js";import{c as ss,P as pe,a as oe,u as ts,C as lt,b as rt}from"./index-wZy0QyAo.js";import{e as nt,S as te,a as ae,b as le,c as re,d as P,C as ot}from"./select-Bc80MhvU.js";import{D as as,b as ls,c as rs,d as ns}from"./dialog-KiMerTvP.js";import{C as me}from"./cloud-BHVhJtUc.js";import{C as qe}from"./circle-check-big-XZjVgEh9.js";import{S as ct}from"./search-DWWJ8K84.js";import{F as Je}from"./file-video-CHhoSEVi.js";import{C as os}from"./calendar-C1FufTT0.js";import{D as it}from"./download-CMsjyAvX.js";import{P as dt}from"./plus-CEDCgt8c.js";import{I as cs,S as ht,T as is}from"./tag-CZXJjFaZ.js";import{T as ds}from"./triangle-alert-BMlLZbCP.js";import{H as be}from"./hash-5hJM3bny.js";import{U as hs}from"./users-CW9dkUaR.js";import{M as Ae}from"./message-circle-DjP0vlPl.js";import{C as ms,P as xs}from"./palette-CyzHVBhb.js";import{C as us}from"./clock-CYNSMXB0.js";import{Z as mt}from"./zap-CRi6HWAx.js";import{E as xt}from"./eye-iRTfoVvx.js";import{S as ut}from"./workflow-uTfI7MjS.js";import{C as pt}from"./chevron-down-DT1wY6fQ.js";import{A as ft}from"./arrow-left-DILhi7VJ.js";import{U as gt}from"./upload-CJ3ePjG6.js";import{F as ps}from"./facebook-Dl7_fozo.js";import{V as jt}from"./video-nwABEMUD.js";import{I as vt}from"./instagram-DyK-Y_Vg.js";import{Y as bt}from"./youtube-BAqMhHGN.js";import"./index-xFiM6Y7h.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],yt=we("Folder",Nt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Qe=we("HardDrive",wt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fs=we("MapPin",Ct);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],kt=we("Music",St);function Tt(s,o){return h.useReducer((l,c)=>o[l][c]??l,s)}var _e="ScrollArea",[gs,Ka]=ss(_e),[Ft,q]=gs(_e),js=h.forwardRef((s,o)=>{const{__scopeScrollArea:l,type:c="hover",dir:r,scrollHideDelay:t=600,...a}=s,[i,x]=h.useState(null),[p,u]=h.useState(null),[f,j]=h.useState(null),[C,E]=h.useState(null),[D,V]=h.useState(null),[y,_]=h.useState(0),[Y,W]=h.useState(0),[H,M]=h.useState(!1),[g,R]=h.useState(!1),S=he(o,z=>x(z)),L=Qs(r);return e.jsx(Ft,{scope:l,type:c,dir:L,scrollHideDelay:t,scrollArea:i,viewport:p,onViewportChange:u,content:f,onContentChange:j,scrollbarX:C,onScrollbarXChange:E,scrollbarXEnabled:H,onScrollbarXEnabledChange:M,scrollbarY:D,onScrollbarYChange:V,scrollbarYEnabled:g,onScrollbarYEnabledChange:R,onCornerWidthChange:_,onCornerHeightChange:W,children:e.jsx(ce.div,{dir:L,...a,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":Y+"px",...s.style}})})});js.displayName=_e;var vs="ScrollAreaViewport",bs=h.forwardRef((s,o)=>{const{__scopeScrollArea:l,children:c,nonce:r,...t}=s,a=q(vs,l),i=h.useRef(null),x=he(o,i,a.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(ce.div,{"data-radix-scroll-area-viewport":"",...t,ref:x,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...s.style},children:e.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});bs.displayName=vs;var ee="ScrollAreaScrollbar",Ee=h.forwardRef((s,o)=>{const{forceMount:l,...c}=s,r=q(ee,s.__scopeScrollArea),{onScrollbarXEnabledChange:t,onScrollbarYEnabledChange:a}=r,i=s.orientation==="horizontal";return h.useEffect(()=>(i?t(!0):a(!0),()=>{i?t(!1):a(!1)}),[i,t,a]),r.type==="hover"?e.jsx(Pt,{...c,ref:o,forceMount:l}):r.type==="scroll"?e.jsx(At,{...c,ref:o,forceMount:l}):r.type==="auto"?e.jsx(Ns,{...c,ref:o,forceMount:l}):r.type==="always"?e.jsx(Re,{...c,ref:o}):null});Ee.displayName=ee;var Pt=h.forwardRef((s,o)=>{const{forceMount:l,...c}=s,r=q(ee,s.__scopeScrollArea),[t,a]=h.useState(!1);return h.useEffect(()=>{const i=r.scrollArea;let x=0;if(i){const p=()=>{window.clearTimeout(x),a(!0)},u=()=>{x=window.setTimeout(()=>a(!1),r.scrollHideDelay)};return i.addEventListener("pointerenter",p),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(x),i.removeEventListener("pointerenter",p),i.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),e.jsx(pe,{present:l||t,children:e.jsx(Ns,{"data-state":t?"visible":"hidden",...c,ref:o})})}),At=h.forwardRef((s,o)=>{const{forceMount:l,...c}=s,r=q(ee,s.__scopeScrollArea),t=s.orientation==="horizontal",a=Se(()=>x("SCROLL_END"),100),[i,x]=Tt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(i==="idle"){const p=window.setTimeout(()=>x("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(p)}},[i,r.scrollHideDelay,x]),h.useEffect(()=>{const p=r.viewport,u=t?"scrollLeft":"scrollTop";if(p){let f=p[u];const j=()=>{const C=p[u];f!==C&&(x("SCROLL"),a()),f=C};return p.addEventListener("scroll",j),()=>p.removeEventListener("scroll",j)}},[r.viewport,t,x,a]),e.jsx(pe,{present:l||i!=="hidden",children:e.jsx(Re,{"data-state":i==="hidden"?"hidden":"visible",...c,ref:o,onPointerEnter:oe(s.onPointerEnter,()=>x("POINTER_ENTER")),onPointerLeave:oe(s.onPointerLeave,()=>x("POINTER_LEAVE"))})})}),Ns=h.forwardRef((s,o)=>{const l=q(ee,s.__scopeScrollArea),{forceMount:c,...r}=s,[t,a]=h.useState(!1),i=s.orientation==="horizontal",x=Se(()=>{if(l.viewport){const p=l.viewport.offsetWidth<l.viewport.scrollWidth,u=l.viewport.offsetHeight<l.viewport.scrollHeight;a(i?p:u)}},10);return ue(l.viewport,x),ue(l.content,x),e.jsx(pe,{present:c||t,children:e.jsx(Re,{"data-state":t?"visible":"hidden",...r,ref:o})})}),Re=h.forwardRef((s,o)=>{const{orientation:l="vertical",...c}=s,r=q(ee,s.__scopeScrollArea),t=h.useRef(null),a=h.useRef(0),[i,x]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=ks(i.viewport,i.content),u={...c,sizes:i,onSizesChange:x,hasThumb:p>0&&p<1,onThumbChange:j=>t.current=j,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:j=>a.current=j};function f(j,C){return Lt(j,a.current,i,C)}return l==="horizontal"?e.jsx(_t,{...u,ref:o,onThumbPositionChange:()=>{if(r.viewport&&t.current){const j=r.viewport.scrollLeft,C=Ze(j,i,r.dir);t.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:j=>{r.viewport&&(r.viewport.scrollLeft=j)},onDragScroll:j=>{r.viewport&&(r.viewport.scrollLeft=f(j,r.dir))}}):l==="vertical"?e.jsx(Et,{...u,ref:o,onThumbPositionChange:()=>{if(r.viewport&&t.current){const j=r.viewport.scrollTop,C=Ze(j,i);t.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:j=>{r.viewport&&(r.viewport.scrollTop=j)},onDragScroll:j=>{r.viewport&&(r.viewport.scrollTop=f(j))}}):null}),_t=h.forwardRef((s,o)=>{const{sizes:l,onSizesChange:c,...r}=s,t=q(ee,s.__scopeScrollArea),[a,i]=h.useState(),x=h.useRef(null),p=he(o,x,t.onScrollbarXChange);return h.useEffect(()=>{x.current&&i(getComputedStyle(x.current))},[x]),e.jsx(ws,{"data-orientation":"horizontal",...r,ref:p,sizes:l,style:{bottom:0,left:t.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:t.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ce(l)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.x),onDragScroll:u=>s.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(t.viewport){const j=t.viewport.scrollLeft+u.deltaX;s.onWheelScroll(j),Fs(j,f)&&u.preventDefault()}},onResize:()=>{x.current&&t.viewport&&a&&c({content:t.viewport.scrollWidth,viewport:t.viewport.offsetWidth,scrollbar:{size:x.current.clientWidth,paddingStart:ye(a.paddingLeft),paddingEnd:ye(a.paddingRight)}})}})}),Et=h.forwardRef((s,o)=>{const{sizes:l,onSizesChange:c,...r}=s,t=q(ee,s.__scopeScrollArea),[a,i]=h.useState(),x=h.useRef(null),p=he(o,x,t.onScrollbarYChange);return h.useEffect(()=>{x.current&&i(getComputedStyle(x.current))},[x]),e.jsx(ws,{"data-orientation":"vertical",...r,ref:p,sizes:l,style:{top:0,right:t.dir==="ltr"?0:void 0,left:t.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ce(l)+"px",...s.style},onThumbPointerDown:u=>s.onThumbPointerDown(u.y),onDragScroll:u=>s.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(t.viewport){const j=t.viewport.scrollTop+u.deltaY;s.onWheelScroll(j),Fs(j,f)&&u.preventDefault()}},onResize:()=>{x.current&&t.viewport&&a&&c({content:t.viewport.scrollHeight,viewport:t.viewport.offsetHeight,scrollbar:{size:x.current.clientHeight,paddingStart:ye(a.paddingTop),paddingEnd:ye(a.paddingBottom)}})}})}),[Rt,ys]=gs(ee),ws=h.forwardRef((s,o)=>{const{__scopeScrollArea:l,sizes:c,hasThumb:r,onThumbChange:t,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:x,onDragScroll:p,onWheelScroll:u,onResize:f,...j}=s,C=q(ee,l),[E,D]=h.useState(null),V=he(o,S=>D(S)),y=h.useRef(null),_=h.useRef(""),Y=C.viewport,W=c.content-c.viewport,H=de(u),M=de(x),g=Se(f,10);function R(S){if(y.current){const L=S.clientX-y.current.left,z=S.clientY-y.current.top;p({x:L,y:z})}}return h.useEffect(()=>{const S=L=>{const z=L.target;(E==null?void 0:E.contains(z))&&H(L,W)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[Y,E,W,H]),h.useEffect(M,[c,M]),ue(E,g),ue(C.content,g),e.jsx(Rt,{scope:l,scrollbar:E,hasThumb:r,onThumbChange:de(t),onThumbPointerUp:de(a),onThumbPositionChange:M,onThumbPointerDown:de(i),children:e.jsx(ce.div,{...j,ref:V,style:{position:"absolute",...j.style},onPointerDown:oe(s.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),y.current=E.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),R(S))}),onPointerMove:oe(s.onPointerMove,R),onPointerUp:oe(s.onPointerUp,S=>{const L=S.target;L.hasPointerCapture(S.pointerId)&&L.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=_.current,C.viewport&&(C.viewport.style.scrollBehavior=""),y.current=null})})})}),Ne="ScrollAreaThumb",Cs=h.forwardRef((s,o)=>{const{forceMount:l,...c}=s,r=ys(Ne,s.__scopeScrollArea);return e.jsx(pe,{present:l||r.hasThumb,children:e.jsx(Ot,{ref:o,...c})})}),Ot=h.forwardRef((s,o)=>{const{__scopeScrollArea:l,style:c,...r}=s,t=q(Ne,l),a=ys(Ne,l),{onThumbPositionChange:i}=a,x=he(o,f=>a.onThumbChange(f)),p=h.useRef(void 0),u=Se(()=>{p.current&&(p.current(),p.current=void 0)},100);return h.useEffect(()=>{const f=t.viewport;if(f){const j=()=>{if(u(),!p.current){const C=It(f,i);p.current=C,i()}};return i(),f.addEventListener("scroll",j),()=>f.removeEventListener("scroll",j)}},[t.viewport,u,i]),e.jsx(ce.div,{"data-state":a.hasThumb?"visible":"hidden",...r,ref:x,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:oe(s.onPointerDownCapture,f=>{const C=f.target.getBoundingClientRect(),E=f.clientX-C.left,D=f.clientY-C.top;a.onThumbPointerDown({x:E,y:D})}),onPointerUp:oe(s.onPointerUp,a.onThumbPointerUp)})});Cs.displayName=Ne;var Oe="ScrollAreaCorner",Ss=h.forwardRef((s,o)=>{const l=q(Oe,s.__scopeScrollArea),c=!!(l.scrollbarX&&l.scrollbarY);return l.type!=="scroll"&&c?e.jsx(Dt,{...s,ref:o}):null});Ss.displayName=Oe;var Dt=h.forwardRef((s,o)=>{const{__scopeScrollArea:l,...c}=s,r=q(Oe,l),[t,a]=h.useState(0),[i,x]=h.useState(0),p=!!(t&&i);return ue(r.scrollbarX,()=>{var f;const u=((f=r.scrollbarX)==null?void 0:f.offsetHeight)||0;r.onCornerHeightChange(u),x(u)}),ue(r.scrollbarY,()=>{var f;const u=((f=r.scrollbarY)==null?void 0:f.offsetWidth)||0;r.onCornerWidthChange(u),a(u)}),p?e.jsx(ce.div,{...c,ref:o,style:{width:t,height:i,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function ye(s){return s?parseInt(s,10):0}function ks(s,o){const l=s/o;return isNaN(l)?0:l}function Ce(s){const o=ks(s.viewport,s.content),l=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,c=(s.scrollbar.size-l)*o;return Math.max(c,18)}function Lt(s,o,l,c="ltr"){const r=Ce(l),t=r/2,a=o||t,i=r-a,x=l.scrollbar.paddingStart+a,p=l.scrollbar.size-l.scrollbar.paddingEnd-i,u=l.content-l.viewport,f=c==="ltr"?[0,u]:[u*-1,0];return Ts([x,p],f)(s)}function Ze(s,o,l="ltr"){const c=Ce(o),r=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,t=o.scrollbar.size-r,a=o.content-o.viewport,i=t-c,x=l==="ltr"?[0,a]:[a*-1,0],p=nt(s,x);return Ts([0,a],[0,i])(p)}function Ts(s,o){return l=>{if(s[0]===s[1]||o[0]===o[1])return o[0];const c=(o[1]-o[0])/(s[1]-s[0]);return o[0]+c*(l-s[0])}}function Fs(s,o){return s>0&&s<o}var It=(s,o=()=>{})=>{let l={left:s.scrollLeft,top:s.scrollTop},c=0;return function r(){const t={left:s.scrollLeft,top:s.scrollTop},a=l.left!==t.left,i=l.top!==t.top;(a||i)&&o(),l=t,c=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(c)};function Se(s,o){const l=de(s),c=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(c.current),[]),h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(l,o)},[l,o])}function ue(s,o){const l=de(o);ts(()=>{let c=0;if(s){const r=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(l)});return r.observe(s),()=>{window.cancelAnimationFrame(c),r.unobserve(s)}}},[s,l])}var Ps=js,Vt=bs,Mt=Ss;const As=h.forwardRef(({className:s,children:o,...l},c)=>e.jsxs(Ps,{ref:c,className:es("relative overflow-hidden",s),...l,children:[e.jsx(Vt,{className:"h-full w-full rounded-[inherit]",children:o}),e.jsx(_s,{}),e.jsx(Mt,{})]}));As.displayName=Ps.displayName;const _s=h.forwardRef(({className:s,orientation:o="vertical",...l},c)=>e.jsx(Ee,{ref:c,orientation:o,className:es("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:e.jsx(Cs,{className:"relative flex-1 rounded-full bg-border"})}));_s.displayName=Ee.displayName;function zt({onFileImported:s,isOpen:o,onClose:l}){const[c,r]=h.useState([]),[t,a]=h.useState(""),[i,x]=h.useState([]),[p,u]=h.useState(!1),[f,j]=h.useState(""),[C,E]=h.useState("");h.useEffect(()=>{o&&D()},[o]);const D=async()=>{try{const g=await xe.get("/cloud-storage/connected");r(g.data)}catch(g){console.error("Failed to load connected accounts:",g)}},V=g=>{window.location.href=`/cloud-storage/${g}/auth`},y=async g=>{u(!0),a(g);try{const R=await xe.get(`/cloud-storage/${g}/files`,{params:{limit:50}});x(R.data.files)}catch(R){console.error("Failed to load files:",R),alert("Failed to load files from "+g)}finally{u(!1)}},_=async g=>{j(g.id);try{const R=await xe.post(`/cloud-storage/${t}/import`,{file_id:g.id,file_name:g.name});if(R.data.success){const S=new Blob([],{type:g.mimeType||"video/mp4"}),L=new File([S],g.name,{type:g.mimeType||"video/mp4"});L.tempPath=R.data.temp_path,L.isCloudImport=!0,s(L,g.name),l()}}catch(R){console.error("Failed to import file:",R),alert("Failed to import file: "+g.name)}finally{j("")}},Y=g=>{if(!g)return"Unknown size";const R=["Bytes","KB","MB","GB"],S=Math.floor(Math.log(g)/Math.log(1024));return Math.round(g/Math.pow(1024,S)*100)/100+" "+R[S]},W=g=>g?new Date(g).toLocaleDateString():"Unknown date",H=i.filter(g=>g.name.toLowerCase().includes(C.toLowerCase())),M=g=>c.some(R=>R.provider===g);return e.jsx(as,{open:o,onOpenChange:l,children:e.jsxs(ls,{className:"max-w-4xl max-h-[80vh] flex flex-col",children:[e.jsx(rs,{children:e.jsxs(ns,{className:"flex items-center",children:[e.jsx(me,{className:"w-5 h-5 mr-2"}),"Import from Cloud Storage"]})}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:t?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>a(""),children:"â† Back"}),e.jsxs("h3",{className:"text-lg font-semibold ml-2",children:[t==="google_drive"?"Google Drive":"Dropbox"," Files"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ct,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(T,{placeholder:"Search videos...",value:C,onChange:g=>E(g.target.value),className:"w-64"})]})]}),e.jsx(at,{className:"mb-4"}),p?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading files..."})]})}):e.jsx(As,{className:"flex-1",children:e.jsx("div",{className:"space-y-2",children:H.length>0?H.map(g=>e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Je,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:g.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:Y(g.size)}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(os,{className:"w-3 h-3 mr-1"}),W(g.modifiedTime||g.modified)]})]})]})]}),e.jsx(I,{onClick:()=>_(g),disabled:f===g.id,size:"sm",children:f===g.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"Import"]})})]})},g.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Je,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No video files found"})]})})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Connect and import videos from your cloud storage accounts."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(G,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2 text-blue-500"}),"Google Drive"]}),M("google_drive")&&e.jsxs(X,{variant:"secondary",className:"bg-green-100 text-green-700",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),e.jsxs(Z,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import videos from your Google Drive account."}),M("google_drive")?e.jsx(I,{onClick:()=>y("google_drive"),className:"w-full",children:"Browse Files"}):e.jsx(I,{onClick:()=>V("google_drive"),variant:"outline",className:"w-full",children:"Connect Google Drive"})]})]}),e.jsxs(G,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qe,{className:"w-5 h-5 mr-2 text-blue-600"}),"Dropbox"]}),M("dropbox")&&e.jsxs(X,{variant:"secondary",className:"bg-green-100 text-green-700",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),e.jsxs(Z,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import videos from your Dropbox account."}),M("dropbox")?e.jsx(I,{onClick:()=>y("dropbox"),className:"w-full",children:"Browse Files"}):e.jsx(I,{onClick:()=>V("dropbox"),variant:"outline",className:"w-full",children:"Connect Dropbox"})]})]})]})]})})]})})}const Bt=[{id:"google_drive",name:"Google Drive",description:"Upload videos to Google Drive"},{id:"dropbox",name:"Dropbox",description:"Upload videos to Dropbox"}];function Ht({isOpen:s,onClose:o,onSelectionChange:l,selectedProviders:c,selectedFolders:r}){const[t,a]=h.useState([]),[i,x]=h.useState(!1),[p,u]=h.useState(""),[f,j]=h.useState({}),[C,E]=h.useState({}),[D,V]=h.useState({}),[y,_]=h.useState(""),[Y,W]=h.useState("");h.useEffect(()=>{s&&H()},[s]),h.useEffect(()=>{const d=()=>{if(new URLSearchParams(window.location.search).get("oauth_completed")==="cloud_storage"){setTimeout(()=>{H()},500);const F=window.location.pathname;window.history.replaceState({},"",F)}};if(s){d();const b=()=>{H()};return window.addEventListener("focus",b),()=>{window.removeEventListener("focus",b)}}},[s]);const H=async()=>{try{const d=await xe.get("/cloud-storage/connected");a(d.data)}catch(d){console.error("Failed to load connected accounts:",d)}},M=d=>{u(d),window.location.href=`/cloud-storage/${d}/auth?redirect=folder_picker`},g=d=>t.some(b=>b.provider===d),R=d=>t.find(b=>b.provider===d),S=async(d,b,F)=>{x(!0);try{const N={};d==="google_drive"&&b&&(N.parent_id=b),d==="dropbox"&&F&&(N.path=F);const B=await xe.get(`/cloud-storage/${d}/folders`,{params:N});j(O=>({...O,[d]:B.data.folders}))}catch(N){console.error("Failed to load folders:",N)}finally{x(!1)}},L=(d,b)=>{const F=d==="google_drive"?b.id:b.path||"";E(N=>({...N,[d]:F})),V(N=>({...N,[d]:[...N[d]||[],{id:b.id,name:b.name}]})),S(d,b.id,b.path)},z=(d,b)=>{const N=(D[d]||[]).slice(0,b+1);V(O=>({...O,[d]:N}));const B=N[N.length-1];B?(E(O=>({...O,[d]:B.id})),S(d,B.id,B.id)):(E(O=>({...O,[d]:""})),S(d))},fe=async d=>{if(y.trim()){W(d);try{const b={name:y},F=C[d];d==="google_drive"?b.parent_id=F||null:d==="dropbox"&&(b.parent_path=F||""),(await xe.post(`/cloud-storage/${d}/folders`,b)).data.success&&(S(d,F,F),_(""))}catch(b){console.error("Failed to create folder:",b)}finally{W("")}}},Te=(d,b)=>{let F=[...c],N={...r};b?(F.includes(d)||F.push(d),S(d)):(F=F.filter(B=>B!==d),delete N[d]),l(F,N)},w=(d,b)=>{const F={...r};F[d]=b,l(c,F)};return e.jsx(as,{open:s,onOpenChange:o,children:e.jsxs(ls,{className:"max-w-4xl max-h-[80vh] flex flex-col",children:[e.jsx(rs,{children:e.jsxs(ns,{className:"flex items-center",children:[e.jsx(me,{className:"w-5 h-5 mr-2"}),"Select Cloud Storage Folders"]})}),e.jsx("div",{className:"flex-1 overflow-auto space-y-6",children:Bt.map(d=>{var N,B;const b=g(d.id),F=R(d.id);return e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:b?e.jsxs(e.Fragment,{children:[e.jsx(v,{id:d.id,checked:c.includes(d.id),onCheckedChange:O=>Te(d.id,O)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium",children:d.name}),e.jsx(lt,{className:"w-4 h-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:F==null?void 0:F.provider_email})]})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-muted rounded opacity-50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-muted-foreground",children:d.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r[d.id]&&e.jsx(X,{variant:"secondary",children:"Folder selected"}),!b&&e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>M(d.id),disabled:p===d.id,className:"flex items-center space-x-1",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:p===d.id?"Connecting...":"Connect"})]})]})]}),b&&c.includes(d.id)&&e.jsxs("div",{className:"space-y-3",children:[D[d.id]&&D[d.id].length>0&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[e.jsx("button",{onClick:()=>z(d.id,-1),className:"hover:text-foreground",children:"Root"}),D[d.id].map((O,ge)=>e.jsxs(Ke.Fragment,{children:[e.jsx(Xe,{className:"w-3 h-3"}),e.jsx("button",{onClick:()=>z(d.id,ge),className:"hover:text-foreground",children:O.name})]},O.id))]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(T,{placeholder:"New folder name",value:y,onChange:O=>_(O.target.value),className:"flex-1"}),e.jsxs(I,{size:"sm",onClick:()=>fe(d.id),disabled:!y.trim()||Y===d.id,children:[e.jsx(dt,{className:"w-4 h-4"}),"Create"]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium",children:"Upload to folder:"}),e.jsx("div",{className:"mt-1",children:e.jsx(I,{variant:r[d.id]?"outline":"default",size:"sm",onClick:()=>w(d.id,""),children:"Root folder"})})]}),i?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Loading folders..."}):e.jsxs("div",{className:"grid gap-2 max-h-40 overflow-y-auto",children:[(N=f[d.id])==null?void 0:N.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded border hover:bg-muted/50",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yt,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:O.name})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(I,{variant:r[d.id]===O.id?"default":"outline",size:"sm",onClick:()=>w(d.id,O.id),children:"Select"}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>L(d.id,O),children:e.jsx(Xe,{className:"w-4 h-4"})})]})]},O.id)),((B=f[d.id])==null?void 0:B.length)===0&&e.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No folders found"})]})]}),!b&&e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsxs("p",{className:"mb-3",children:["Connect ",d.name," to select upload folders"]}),e.jsxs(I,{onClick:()=>M(d.id),disabled:p===d.id,className:"inline-flex items-center space-x-2",children:[e.jsx(Pe,{className:"w-4 h-4"}),e.jsx("span",{children:p===d.id?"Connecting...":`Connect ${d.name}`})]})]})]},d.id)})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[e.jsx(I,{variant:"outline",onClick:o,children:"Cancel"}),e.jsx(I,{onClick:o,children:"Done"})]})]})})}var ke="Collapsible",[Ut,el]=ss(ke),[Yt,De]=Ut(ke),Es=h.forwardRef((s,o)=>{const{__scopeCollapsible:l,open:c,defaultOpen:r,disabled:t,onOpenChange:a,...i}=s,[x,p]=rt({prop:c,defaultProp:r??!1,onChange:a,caller:ke});return e.jsx(Yt,{scope:l,disabled:t,contentId:Zs(),open:x,onOpenToggle:h.useCallback(()=>p(u=>!u),[p]),children:e.jsx(ce.div,{"data-state":Ie(x),"data-disabled":t?"":void 0,...i,ref:o})})});Es.displayName=ke;var Rs="CollapsibleTrigger",Os=h.forwardRef((s,o)=>{const{__scopeCollapsible:l,...c}=s,r=De(Rs,l);return e.jsx(ce.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":Ie(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...c,ref:o,onClick:oe(s.onClick,r.onOpenToggle)})});Os.displayName=Rs;var Le="CollapsibleContent",Ds=h.forwardRef((s,o)=>{const{forceMount:l,...c}=s,r=De(Le,s.__scopeCollapsible);return e.jsx(pe,{present:l||r.open,children:({present:t})=>e.jsx(Wt,{...c,ref:o,present:t})})});Ds.displayName=Le;var Wt=h.forwardRef((s,o)=>{const{__scopeCollapsible:l,present:c,children:r,...t}=s,a=De(Le,l),[i,x]=h.useState(c),p=h.useRef(null),u=he(o,p),f=h.useRef(0),j=f.current,C=h.useRef(0),E=C.current,D=a.open||i,V=h.useRef(D),y=h.useRef(void 0);return h.useEffect(()=>{const _=requestAnimationFrame(()=>V.current=!1);return()=>cancelAnimationFrame(_)},[]),ts(()=>{const _=p.current;if(_){y.current=y.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const Y=_.getBoundingClientRect();f.current=Y.height,C.current=Y.width,V.current||(_.style.transitionDuration=y.current.transitionDuration,_.style.animationName=y.current.animationName),x(c)}},[a.open,c]),e.jsx(ce.div,{"data-state":Ie(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!D,...t,ref:u,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...s.style},children:D&&r})});function Ie(s){return s?"open":"closed"}var $t=Es;function Gt({...s}){return e.jsx($t,{"data-slot":"collapsible",...s})}function Xt({...s}){return e.jsx(Os,{"data-slot":"collapsible-trigger",...s})}function qt({...s}){return e.jsx(Ds,{"data-slot":"collapsible-content",...s})}function Jt({options:s,onChange:o}){const l=(t,a)=>{o({...s,[t]:a})},c=[{id:"1",name:"Film & Animation"},{id:"2",name:"Autos & Vehicles"},{id:"10",name:"Music"},{id:"15",name:"Pets & Animals"},{id:"17",name:"Sports"},{id:"19",name:"Travel & Events"},{id:"20",name:"Gaming"},{id:"22",name:"People & Blogs"},{id:"23",name:"Comedy"},{id:"24",name:"Entertainment"},{id:"25",name:"News & Politics"},{id:"26",name:"Howto & Style"},{id:"27",name:"Education"},{id:"28",name:"Science & Technology"}],r=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"zh",name:"Chinese"}];return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-red-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"YouTube Advanced Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsxs(K,{value:s.privacy||"public",onValueChange:t=>l("privacy",t),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"public",id:"public"}),e.jsx(n,{htmlFor:"public",children:"Public - Anyone can search for and view"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"unlisted",id:"unlisted"}),e.jsx(n,{htmlFor:"unlisted",children:"Unlisted - Anyone with the link can view"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"private",id:"private"}),e.jsx(n,{htmlFor:"private",children:"Private - Only you can view"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Video Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"isShort",checked:s.isShort||!1,onCheckedChange:t=>l("isShort",t)}),e.jsxs(n,{htmlFor:"isShort",className:"flex items-center",children:["YouTube Short",e.jsx(X,{variant:"secondary",className:"ml-2",children:"Vertical video <60s"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"madeForKids",checked:s.madeForKids||!1,onCheckedChange:t=>l("madeForKids",t)}),e.jsxs(n,{htmlFor:"madeForKids",className:"flex items-center",children:["Made for kids",e.jsx(X,{variant:"outline",className:"ml-2",children:"COPPA"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"category",children:"Category"}),e.jsxs(te,{value:s.categoryId||"24",onValueChange:t=>l("categoryId",t),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select category"})}),e.jsx(re,{children:c.map(t=>e.jsx(P,{value:t.id,children:t.name},t.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"tags",children:"Tags (comma-separated)"}),e.jsx(T,{id:"tags",value:s.tags||"",onChange:t=>l("tags",t.target.value),placeholder:"gaming, tutorial, entertainment"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Help people discover your video with relevant tags"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"language",children:"Video Language"}),e.jsxs(te,{value:s.defaultLanguage||"en",onValueChange:t=>l("defaultLanguage",t),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select language"})}),e.jsx(re,{children:r.map(t=>e.jsx(P,{value:t.code,children:t.name},t.code))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"customThumbnail",children:"Custom Thumbnail"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(cs,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx(T,{id:"customThumbnail",type:"file",accept:"image/*",onChange:t=>{var a;return l("customThumbnail",(a=t.target.files)==null?void 0:a[0])},className:"hidden"}),e.jsxs(n,{htmlFor:"customThumbnail",className:"cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload thumbnail"}),e.jsx("span",{className:"block text-xs text-gray-500",children:"PNG, JPG up to 2MB (1280x720 recommended)"})]})]}),s.customThumbnail&&e.jsxs("p",{className:"text-sm text-green-600",children:["Selected: ",s.customThumbnail.name]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Interaction Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"commentsDisabled",checked:s.commentsDisabled||!1,onCheckedChange:t=>l("commentsDisabled",t)}),e.jsx(n,{htmlFor:"commentsDisabled",children:"Disable comments"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"ratingsDisabled",checked:s.ratingsDisabled||!1,onCheckedChange:t=>l("ratingsDisabled",t)}),e.jsx(n,{htmlFor:"ratingsDisabled",children:"Disable ratings (likes/dislikes)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"embeddable",checked:s.embeddable!==!1,onCheckedChange:t=>l("embeddable",t)}),e.jsx(n,{htmlFor:"embeddable",children:"Allow embedding on other websites"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"license",children:"License"}),e.jsxs(te,{value:s.license||"youtube",onValueChange:t=>l("license",t),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select license"})}),e.jsxs(re,{children:[e.jsx(P,{value:"youtube",children:"Standard YouTube License"}),e.jsx(P,{value:"creativeCommon",children:"Creative Commons - Attribution"})]})]})]})]})]})}const Qt={facebook:["#facebook","#fb","#instagram","#ig","#twitter","#tiktok","#youtube","#snapchat","#pinterest","#x","facebook","fb","instagram","ig","twitter","tiktok","youtube","snapchat","pinterest","x"],instagram:["#facebook","#fb","#twitter","#tiktok","#youtube","#snapchat","#pinterest","#x","facebook","fb","twitter","tiktok","youtube","snapchat","pinterest","x"],tiktok:["#facebook","#fb","#instagram","#ig","#twitter","#youtube","#snapchat","#pinterest","#x","facebook","fb","instagram","ig","twitter","youtube","snapchat","pinterest","x"],youtube:["#facebook","#fb","#instagram","#ig","#twitter","#tiktok","#snapchat","#pinterest","#x","facebook","fb","instagram","ig","twitter","tiktok","snapchat","pinterest","x"],x:["#facebook","#fb","#instagram","#ig","#tiktok","#youtube","#snapchat","#pinterest","facebook","fb","instagram","ig","tiktok","youtube","snapchat","pinterest"],snapchat:["#facebook","#fb","#instagram","#ig","#twitter","#tiktok","#youtube","#pinterest","#x","facebook","fb","instagram","ig","twitter","tiktok","youtube","pinterest","x"],pinterest:["#facebook","#fb","#instagram","#ig","#twitter","#tiktok","#youtube","#snapchat","#x","facebook","fb","instagram","ig","twitter","tiktok","youtube","snapchat","x"]};function Zt(s,o){const l=Qt[s];if(!l)return!1;const c=o.toLowerCase().replace("#","");return l.includes(c)||l.includes(o)}function Kt(s){const o=/#\w+/g;return s.match(o)||[]}function ea(s,o){return Kt(o).filter(c=>Zt(s,c))}function sa(s){return{facebook:"Facebook",instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",x:"X (Twitter)",snapchat:"Snapchat",pinterest:"Pinterest"}[s]||s}function Ve({platform:s,content:o,onDismiss:l,className:c=""}){const r=ea(s,o);if(r.length===0)return null;const t=sa(s),a=r.map(i=>`'${i}'`).join(", ");return e.jsxs(je,{variant:"destructive",className:`${c}`,children:[e.jsx(ds,{className:"h-4 w-4"}),e.jsxs(ve,{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Forbidden Hashtags Detected"}),e.jsx("br",{}),"The following hashtags are not allowed on ",t,": ",a,". They will be automatically removed when you publish."]}),l&&e.jsx("button",{onClick:l,className:"ml-2 flex-shrink-0 p-1 hover:bg-red-100 rounded","aria-label":"Dismiss warning",children:e.jsx(Ks,{className:"h-3 w-3"})})]})]})}function ta({options:s,onChange:o}){const l=s||{},c=(a,i)=>{o({...l,[a]:i})},r=[{id:"PUBLIC_TO_EVERYONE",name:"Public",description:"Anyone can see your video"},{id:"FRIENDS",name:"Friends",description:"Only your friends can see your video"},{id:"SELF_ONLY",name:"Private",description:"Only you can see your video"}],t=()=>{let a="";if(l.caption&&(a+=l.caption+" "),l.hashtags){const i=Array.isArray(l.hashtags)?l.hashtags.join(" "):l.hashtags;a+=i}return a};return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5"}),"TikTok Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsx(Ve,{platform:"tiktok",content:t()}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsx(K,{value:s.privacy||"PUBLIC_TO_EVERYONE",onValueChange:a=>c("privacy",a),children:r.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:a.id,id:a.id}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:a.id,className:"font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"caption",className:"flex items-center",children:[e.jsx(be,{className:"w-4 h-4 mr-1"}),"Caption & Hashtags"]}),e.jsx(ne,{id:"caption",value:s.caption||"",onChange:a=>c("caption",a.target.value),placeholder:"Write a caption... #trending #viral #fyp",rows:3,maxLength:2200}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.caption||"").length,"/2200 characters"]}),e.jsx("p",{className:"text-xs text-amber-600",children:"Note: Platform-specific hashtags like #facebook, #instagram, #youtube will be automatically removed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"music",className:"flex items-center",children:[e.jsx(kt,{className:"w-4 h-4 mr-1"}),"Music/Sound"]}),e.jsx(T,{id:"music",value:s.music||"",onChange:a=>c("music",a.target.value),placeholder:"Add trending music or sound"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Interaction Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"allowDuet",checked:s.allowDuet!==!1,onCheckedChange:a=>c("allowDuet",a)}),e.jsxs(n,{htmlFor:"allowDuet",className:"flex items-center",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),"Allow duets"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"allowComments",checked:s.allowComments!==!1,onCheckedChange:a=>c("allowComments",a)}),e.jsxs(n,{htmlFor:"allowComments",className:"flex items-center",children:[e.jsx(Ae,{className:"w-4 h-4 mr-1"}),"Allow comments"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"allowStitch",checked:s.allowStitch!==!1,onCheckedChange:a=>c("allowStitch",a)}),e.jsxs(n,{htmlFor:"allowStitch",className:"flex items-center",children:[e.jsx(ht,{className:"w-4 h-4 mr-1"}),"Allow stitch"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"coverTimestamp",children:"Cover Image Time"}),e.jsx(T,{id:"coverTimestamp",type:"number",min:"1",max:"60",value:s.coverTimestamp||1,onChange:a=>c("coverTimestamp",parseInt(a.target.value)||1),placeholder:"Seconds from start"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Select which frame to use as the cover image (1-60 seconds)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Content Disclosure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"brandedContent",checked:s.brandedContent||!1,onCheckedChange:a=>c("brandedContent",a)}),e.jsxs(n,{htmlFor:"brandedContent",children:["Branded content/Paid partnership",e.jsx(X,{variant:"outline",className:"ml-2",children:"Disclosure required"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"contentWarning",checked:s.contentWarning||!1,onCheckedChange:a=>c("contentWarning",a)}),e.jsx(n,{htmlFor:"contentWarning",children:"Content may not be suitable for all audiences"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"audience",children:"Target Audience"}),e.jsxs(te,{value:s.audience||"everyone",onValueChange:a=>c("audience",a),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select audience"})}),e.jsxs(re,{children:[e.jsx(P,{value:"everyone",children:"Everyone"}),e.jsx(P,{value:"teen",children:"Teens (13-17)"}),e.jsx(P,{value:"adult",children:"Adults (18+)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"autoCaption",checked:s.autoCaption!==!1,onCheckedChange:a=>c("autoCaption",a)}),e.jsx(n,{htmlFor:"autoCaption",children:"Auto-generate captions"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically create captions for accessibility"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Some advanced features may require TikTok Business API access or may not be available in all regions."]})})]})]})}function aa({options:s,onChange:o}){const l=(t,a)=>{o({...s,[t]:a})},c=[{id:"REELS",name:"Instagram Reel",description:"Short-form vertical video"},{id:"VIDEO",name:"Instagram Video",description:"Regular video post"},{id:"STORY",name:"Instagram Story",description:"24-hour temporary content"}],r=()=>{let t="";if(s.caption&&(t+=s.caption+" "),s.hashtags){const a=Array.isArray(s.hashtags)?s.hashtags.join(" "):s.hashtags;t+=a}return t};return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-pink-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Instagram Advanced Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsx(Ve,{platform:"instagram",content:r()}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Video Type"}),e.jsx(K,{value:s.videoType||"REELS",onValueChange:t=>l("videoType",t),children:c.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:t.id,id:t.id}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:t.id,className:"font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"caption",className:"flex items-center",children:[e.jsx(be,{className:"w-4 h-4 mr-1"}),"Caption & Hashtags"]}),e.jsx(ne,{id:"caption",value:s.caption||"",onChange:t=>l("caption",t.target.value),placeholder:"Write a caption... #instagram #reels #viral",rows:4,maxLength:2200}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.caption||"").length,"/2200 characters"]}),e.jsx("p",{className:"text-xs text-amber-600",children:"Note: Platform-specific hashtags like #facebook, #tiktok, #youtube will be automatically removed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"location",className:"flex items-center",children:[e.jsx(fs,{className:"w-4 h-4 mr-1"}),"Location"]}),e.jsx(T,{id:"location",value:s.location||"",onChange:t=>l("location",t.target.value),placeholder:"Add location (e.g., New York, NY)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Help people discover your content by location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"altText",children:"Alt Text (Accessibility)"}),e.jsx(ne,{id:"altText",value:s.altText||"",onChange:t=>l("altText",t.target.value),placeholder:"Describe your video for visually impaired users",rows:2,maxLength:100}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.altText||"").length,"/100 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"coverImage",children:"Cover Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(cs,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx(T,{id:"coverImage",type:"file",accept:"image/*",onChange:t=>{var a;return l("coverImage",(a=t.target.files)==null?void 0:a[0])},className:"hidden"}),e.jsxs(n,{htmlFor:"coverImage",className:"cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload cover image"}),e.jsx("span",{className:"block text-xs text-gray-500",children:"JPEG, PNG (1080x1080 recommended)"})]})]}),s.coverImage&&e.jsxs("p",{className:"text-sm text-green-600",children:["Selected: ",s.coverImage.name]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Audience & Interaction"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"allowComments",checked:s.allowComments!==!1,onCheckedChange:t=>l("allowComments",t)}),e.jsxs(n,{htmlFor:"allowComments",className:"flex items-center",children:[e.jsx(Ae,{className:"w-4 h-4 mr-1"}),"Allow comments"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"hideLikesAndViews",checked:s.hideLikesAndViews||!1,onCheckedChange:t=>l("hideLikesAndViews",t)}),e.jsx(n,{htmlFor:"hideLikesAndViews",children:"Hide like and view counts"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Content Disclosure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"brandedContent",checked:s.brandedContent||!1,onCheckedChange:t=>l("brandedContent",t)}),e.jsxs(n,{htmlFor:"brandedContent",children:["Paid partnership",e.jsx(X,{variant:"outline",className:"ml-2",children:"Required by law"})]})]}),s.brandedContent&&e.jsx(T,{placeholder:"Partner business name",value:s.partnerName||"",onChange:t=>l("partnerName",t.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"music",className:"flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM15.657 6.343a1 1 0 011.414 0A9.972 9.972 0 0119 12a9.972 9.972 0 01-1.929 5.657 1 1 0 11-1.414-1.414A7.971 7.971 0 0017 12c0-1.636-.492-3.154-1.343-4.243a1 1 0 010-1.414z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M13.828 8.172a1 1 0 011.414 0A5.983 5.983 0 0117 12a5.983 5.983 0 01-1.758 3.828 1 1 0 11-1.414-1.414A3.987 3.987 0 0015 12a3.987 3.987 0 00-1.172-2.828 1 1 0 010-1.414z",clipRule:"evenodd"})]}),"Background Music"]}),e.jsx(T,{id:"music",value:s.music||"",onChange:t=>l("music",t.target.value),placeholder:"Search Instagram's music library"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add trending music to increase reach"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"audienceRestriction",children:"Age Restriction"}),e.jsxs(te,{value:s.audienceRestriction||"none",onValueChange:t=>l("audienceRestriction",t),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select restriction"})}),e.jsxs(re,{children:[e.jsx(P,{value:"none",children:"No restriction"}),e.jsx(P,{value:"13+",children:"13+ years"}),e.jsx(P,{value:"18+",children:"18+ years"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"shareToFacebook",checked:s.shareToFacebook||!1,onCheckedChange:t=>l("shareToFacebook",t)}),e.jsx(n,{htmlFor:"shareToFacebook",children:"Also share to Facebook"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cross-post to your connected Facebook account"})]})]})]})}function la({options:s,onChange:o}){const l=(i,x)=>{try{const p={...s,[i]:x};o(p)}catch(p){console.error("Error updating Facebook option:",p)}},c=[{id:"EVERYONE",name:"Public",description:"Anyone on or off Facebook"},{id:"ALL_FRIENDS",name:"Friends",description:"Your friends on Facebook"},{id:"FRIENDS_OF_FRIENDS",name:"Friends of friends",description:"Your friends and their friends"},{id:"SELF",name:"Only me",description:"Only you can see this"}],r=[{id:"REGULAR",name:"Regular Video",description:"Standard video post"},{id:"REEL",name:"Facebook Reel",description:"Short-form vertical video"}],t=s||{},a=()=>{let i="";if(t.message&&(i+=t.message+" "),t.tags){const x=Array.isArray(t.tags)?t.tags.join(" "):t.tags;i+=x}return i};return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook Advanced Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsx(Ve,{platform:"facebook",content:a()}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsx(K,{value:t.privacy||"EVERYONE",onValueChange:i=>l("privacy",i),children:c.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:i.id,id:`privacy-${i.id}`}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`privacy-${i.id}`,className:"font-medium",children:i.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.description})]})]},i.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Video Type"}),e.jsx(K,{value:t.videoType||"REGULAR",onValueChange:i=>l("videoType",i),children:r.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:i.id,id:`videoType-${i.id}`}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`videoType-${i.id}`,className:"font-medium",children:i.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.description})]})]},i.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"fb-message",children:"Post Caption"}),e.jsx(ne,{id:"fb-message",value:t.message||"",onChange:i=>l("message",i.target.value),placeholder:"What's on your mind?",rows:4,maxLength:63206}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.message||"").length,"/63206 characters"]}),e.jsx("p",{className:"text-xs text-amber-600",children:"Note: Platform-specific hashtags like #instagram, #tiktok, #youtube will be automatically removed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"fb-place",className:"flex items-center",children:[e.jsx(fs,{className:"w-4 h-4 mr-1"}),"Location"]}),e.jsx(T,{id:"fb-place",value:t.place||"",onChange:i=>l("place",i.target.value),placeholder:"Where are you?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"fb-tags",className:"flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1"}),"Tag People"]}),e.jsx(T,{id:"fb-tags",value:t.tags||"",onChange:i=>l("tags",i.target.value),placeholder:"Tag friends (comma-separated usernames)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Audience Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"fb-allowComments",checked:t.allowComments!==!1,onCheckedChange:i=>l("allowComments",i)}),e.jsxs(n,{htmlFor:"fb-allowComments",className:"flex items-center",children:[e.jsx(Ae,{className:"w-4 h-4 mr-1"}),"Allow comments"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"fb-allowSharing",checked:t.allowSharing!==!1,onCheckedChange:i=>l("allowSharing",i)}),e.jsx(n,{htmlFor:"fb-allowSharing",children:"Allow sharing"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Content Settings"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"fb-brandedContent",checked:t.brandedContent||!1,onCheckedChange:i=>l("brandedContent",i)}),e.jsxs(n,{htmlFor:"fb-brandedContent",children:["Branded content",e.jsx(X,{variant:"outline",className:"ml-2",children:"Paid partnership"})]})]})})]})]})]})}function ra({options:s,onChange:o}){const l=(r,t)=>{o({...s,[r]:t})},c=[{id:"everyone",name:"Everyone",description:"Anyone can reply"},{id:"following",name:"People you follow",description:"Only people you follow"},{id:"mentioned",name:"Only people you mention",description:"Only mentioned users"}];return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"X Advanced Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"text",className:"flex items-center",children:[e.jsx(be,{className:"w-4 h-4 mr-1"}),"Post Text"]}),e.jsx(ne,{id:"text",value:s.text||"",onChange:r=>l("text",r.target.value),placeholder:"What's happening?",rows:3,maxLength:280}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.text||"").length,"/280 characters"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Who can reply?"}),e.jsx(K,{value:s.replySettings||"everyone",onValueChange:r=>l("replySettings",r),children:c.map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:r.id,id:r.id}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:r.id,className:"font-medium",children:r.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.description})]})]},r.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Content Warnings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"possiblySensitive",checked:s.possiblySensitive||!1,onCheckedChange:r=>l("possiblySensitive",r)}),e.jsxs(n,{htmlFor:"possiblySensitive",className:"flex items-center",children:[e.jsx(ds,{className:"w-4 h-4 mr-1 text-orange-500"}),"Mark as sensitive content"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground ml-6",children:"For content that may be sensitive (violence, adult content, etc.)"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"includePoll",checked:s.includePoll||!1,onCheckedChange:r=>l("includePoll",r)}),e.jsx(n,{htmlFor:"includePoll",children:"Add a poll to this post"})]}),s.includePoll&&e.jsxs("div",{className:"space-y-3 ml-6 p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pollOption1",children:"Poll Option 1"}),e.jsx(T,{id:"pollOption1",value:s.pollOption1||"",onChange:r=>l("pollOption1",r.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pollOption2",children:"Poll Option 2"}),e.jsx(T,{id:"pollOption2",value:s.pollOption2||"",onChange:r=>l("pollOption2",r.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pollOption3",children:"Poll Option 3 (Optional)"}),e.jsx(T,{id:"pollOption3",value:s.pollOption3||"",onChange:r=>l("pollOption3",r.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pollOption4",children:"Poll Option 4 (Optional)"}),e.jsx(T,{id:"pollOption4",value:s.pollOption4||"",onChange:r=>l("pollOption4",r.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pollDuration",children:"Poll Duration"}),e.jsxs(te,{value:s.pollDuration||"1440",onValueChange:r=>l("pollDuration",r),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select duration"})}),e.jsxs(re,{children:[e.jsx(P,{value:"60",children:"1 hour"}),e.jsx(P,{value:"360",children:"6 hours"}),e.jsx(P,{value:"720",children:"12 hours"}),e.jsx(P,{value:"1440",children:"1 day"}),e.jsx(P,{value:"2880",children:"2 days"}),e.jsx(P,{value:"4320",children:"3 days"}),e.jsx(P,{value:"10080",children:"7 days"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"addLocation",checked:s.addLocation||!1,onCheckedChange:r=>l("addLocation",r)}),e.jsx(n,{htmlFor:"addLocation",children:"Add location to post"})]}),s.addLocation&&e.jsx(T,{placeholder:"Enter location",value:s.location||"",onChange:r=>l("location",r.target.value),className:"ml-6"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"isThread",checked:s.isThread||!1,onCheckedChange:r=>l("isThread",r)}),e.jsx(n,{htmlFor:"isThread",children:"This is part of a thread"})]}),s.isThread&&e.jsxs("div",{className:"ml-6 p-3 border rounded-lg space-y-2",children:[e.jsx(n,{htmlFor:"threadId",children:"Reply to Tweet ID (optional)"}),e.jsx(T,{id:"threadId",value:s.threadId||"",onChange:r=>l("threadId",r.target.value),placeholder:"Tweet ID to reply to"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to create a new thread"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"boostTweet",checked:s.boostTweet||!1,onCheckedChange:r=>l("boostTweet",r)}),e.jsxs(n,{htmlFor:"boostTweet",children:["Boost this tweet",e.jsx(X,{variant:"secondary",className:"ml-2",children:"Paid feature"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Promote your tweet to reach more people (requires Twitter Ads account)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"altText",children:"Alt Text for Video (Accessibility)"}),e.jsx(ne,{id:"altText",value:s.altText||"",onChange:r=>l("altText",r.target.value),placeholder:"Describe your video for visually impaired users",rows:2,maxLength:1e3}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.altText||"").length,"/1000 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"superFollowsOnly",checked:s.superFollowsOnly||!1,onCheckedChange:r=>l("superFollowsOnly",r)}),e.jsxs(n,{htmlFor:"superFollowsOnly",children:["Super Follows only",e.jsx(X,{variant:"outline",className:"ml-2",children:"Premium"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only your Super Followers can see this tweet"})]})]})]})}function na({options:s,onChange:o}){const l=(a,i)=>{try{const x={...s,[a]:i};o(x)}catch(x){console.error("Error updating Snapchat option:",x)}},c=[{id:"STORY",name:"My Story",description:"Share to your personal story"},{id:"SPOTLIGHT",name:"Spotlight",description:"Submit to Snapchat Spotlight for discovery"}],r=[{id:"3",name:"3 seconds",description:"Quick snap"},{id:"5",name:"5 seconds",description:"Standard duration"},{id:"10",name:"10 seconds",description:"Extended view"},{id:"unlimited",name:"Unlimited",description:"No time limit"}],t=s||{};return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center",children:[e.jsx(ms,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Snapchat Advanced Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Story Type"}),e.jsx(K,{value:t.storyType||"STORY",onValueChange:a=>l("storyType",a),children:c.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:a.id,id:`snapchat-story-${a.id}`}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`snapchat-story-${a.id}`,className:"font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"snapchat-duration",className:"flex items-center",children:[e.jsx(us,{className:"w-4 h-4 mr-1"}),"Story Duration"]}),e.jsxs(te,{value:t.duration||"5",onValueChange:a=>l("duration",a),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select duration"})}),e.jsx(re,{children:r.map(a=>e.jsxs(P,{value:a.id,children:[a.name," - ",a.description]},a.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"snapchat-caption",children:"Caption"}),e.jsx(ne,{id:"snapchat-caption",value:t.caption||"",onChange:a=>l("caption",a.target.value),placeholder:"Add a caption to your snap...",rows:3,maxLength:250}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.caption||"").length,"/250 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"snapchat-hashtags",children:"Hashtags"}),e.jsx(T,{id:"snapchat-hashtags",value:t.hashtags||"",onChange:a=>l("hashtags",a.target.value),placeholder:"#fun #snapchat #video"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate hashtags with spaces. Max 5 hashtags."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Snap Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"snapchat-allowScreenshot",checked:t.allowScreenshot!==!1,onCheckedChange:a=>l("allowScreenshot",a)}),e.jsx(n,{htmlFor:"snapchat-allowScreenshot",children:"Allow screenshots"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"snapchat-allowReplay",checked:t.allowReplay!==!1,onCheckedChange:a=>l("allowReplay",a)}),e.jsx(n,{htmlFor:"snapchat-allowReplay",children:"Allow replay"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"snapchat-saveToMemories",checked:t.saveToMemories||!1,onCheckedChange:a=>l("saveToMemories",a)}),e.jsx(n,{htmlFor:"snapchat-saveToMemories",children:"Save to Memories"})]})]})]}),t.storyType==="SPOTLIGHT"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{className:"text-base font-medium flex items-center",children:[e.jsx(mt,{className:"w-4 h-4 mr-1"}),"Spotlight Settings"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"snapchat-monetization",checked:t.monetization||!1,onCheckedChange:a=>l("monetization",a)}),e.jsxs(n,{htmlFor:"snapchat-monetization",children:["Enable monetization",e.jsx(X,{variant:"secondary",className:"ml-2",children:"Earn money"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"snapchat-publicProfile",checked:t.publicProfile||!1,onCheckedChange:a=>l("publicProfile",a)}),e.jsx(n,{htmlFor:"snapchat-publicProfile",children:"Show public profile"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"snapchat-audience",children:"Audience"}),e.jsxs(te,{value:t.audience||"FRIENDS",onValueChange:a=>l("audience",a),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select audience"})}),e.jsxs(re,{children:[e.jsx(P,{value:"FRIENDS",children:"Friends only"}),e.jsx(P,{value:"EVERYONE",children:"Everyone"}),e.jsx(P,{value:"CUSTOM",children:"Custom list"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"snapchat-shareLocation",checked:t.shareLocation||!1,onCheckedChange:a=>l("shareLocation",a)}),e.jsx(n,{htmlFor:"snapchat-shareLocation",children:"Share location"})]}),t.shareLocation&&e.jsx(T,{placeholder:"Enter location",value:t.location||"",onChange:a=>l("location",a.target.value)})]})]})]})}function oa({options:s,onChange:o}){const l=(a,i)=>{try{const x={...s,[a]:i};o(x)}catch(x){console.error("Error updating Pinterest option:",x)}},c=[{id:"STANDARD",name:"Standard Pin",description:"Regular video pin"},{id:"VIDEO",name:"Video Pin",description:"Optimized for video content"},{id:"STORY",name:"Story Pin",description:"Multi-page story format"}],r=[{id:"PUBLIC",name:"Public",description:"Anyone can see this pin"},{id:"SECRET",name:"Secret",description:"Only you and collaborators can see"}],t=s||{};return e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 mr-2 text-red-500"}),"Pinterest Advanced Options"]})}),e.jsxs(Z,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Pin Type"}),e.jsx(K,{value:t.pinType||"VIDEO",onValueChange:a=>l("pinType",a),children:c.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:a.id,id:`pinterest-pin-${a.id}`}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`pinterest-pin-${a.id}`,className:"font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pinterest-title",children:"Pin Title"}),e.jsx(T,{id:"pinterest-title",value:t.title||"",onChange:a=>l("title",a.target.value),placeholder:"Create an eye-catching title...",maxLength:100}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.title||"").length,"/100 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pinterest-description",children:"Pin Description"}),e.jsx(ne,{id:"pinterest-description",value:t.description||"",onChange:a=>l("description",a.target.value),placeholder:"Describe your video to help people discover it...",rows:4,maxLength:500}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.description||"").length,"/500 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pinterest-board",children:"Board"}),e.jsx(T,{id:"pinterest-board",value:t.boardName||"",onChange:a=>l("boardName",a.target.value),placeholder:"Board name (leave empty to use default)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:'If empty, will use existing board or create "Tikomat Videos"'})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{className:"text-base font-medium flex items-center",children:[e.jsx(xt,{className:"w-4 h-4 mr-1"}),"Board Privacy"]}),e.jsx(K,{value:t.boardPrivacy||"PUBLIC",onValueChange:a=>l("boardPrivacy",a),children:r.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:a.id,id:`pinterest-privacy-${a.id}`}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`pinterest-privacy-${a.id}`,className:"font-medium",children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"pinterest-keywords",className:"flex items-center",children:[e.jsx(is,{className:"w-4 h-4 mr-1"}),"Keywords & Tags"]}),e.jsx(T,{id:"pinterest-keywords",value:t.keywords||"",onChange:a=>l("keywords",a.target.value),placeholder:"video, tutorial, diy, creative, inspiration"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate keywords with commas. Use relevant terms people search for."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"pinterest-link",className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 mr-1"}),"Website Link (Optional)"]}),e.jsx(T,{id:"pinterest-link",value:t.link||"",onChange:a=>l("link",a.target.value),placeholder:"https://your-website.com",type:"url"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Link to your website or relevant page"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"pinterest-altText",children:"Alt Text (Accessibility)"}),e.jsx(T,{id:"pinterest-altText",value:t.altText||"",onChange:a=>l("altText",a.target.value),placeholder:"Describe your video for screen readers",maxLength:500}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t.altText||"").length,"/500 characters"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Pinterest Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"pinterest-allowComments",checked:t.allowComments!==!1,onCheckedChange:a=>l("allowComments",a)}),e.jsx(n,{htmlFor:"pinterest-allowComments",children:"Allow comments"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"pinterest-enableShopping",checked:t.enableShopping||!1,onCheckedChange:a=>l("enableShopping",a)}),e.jsxs(n,{htmlFor:"pinterest-enableShopping",children:["Enable shopping features",e.jsx(X,{variant:"outline",className:"ml-2",children:"Business accounts"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"pinterest-trackAnalytics",checked:t.trackAnalytics!==!1,onCheckedChange:a=>l("trackAnalytics",a)}),e.jsx(n,{htmlFor:"pinterest-trackAnalytics",children:"Track analytics"})]})]})]}),t.pinType==="STORY"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Story Pin Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"pinterest-allowStitching",checked:t.allowStitching!==!1,onCheckedChange:a=>l("allowStitching",a)}),e.jsx(n,{htmlFor:"pinterest-allowStitching",children:"Allow stitching"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"pinterest-showTitle",checked:t.showTitle!==!1,onCheckedChange:a=>l("showTitle",a)}),e.jsx(n,{htmlFor:"pinterest-showTitle",children:"Show title on pin"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{htmlFor:"pinterest-audience",className:"flex items-center",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),"Target Audience"]}),e.jsxs(te,{value:t.audience||"GENERAL",onValueChange:a=>l("audience",a),children:[e.jsx(ae,{children:e.jsx(le,{placeholder:"Select target audience"})}),e.jsxs(re,{children:[e.jsx(P,{value:"GENERAL",children:"General audience"}),e.jsx(P,{value:"WOMEN",children:"Women"}),e.jsx(P,{value:"MEN",children:"Men"}),e.jsx(P,{value:"TEENS",children:"Teens (13-17)"}),e.jsx(P,{value:"YOUNG_ADULTS",children:"Young adults (18-24)"}),e.jsx(P,{value:"ADULTS",children:"Adults (25-44)"}),e.jsx(P,{value:"SENIORS",children:"Seniors (45+)"})]})]})]})]})]})}const ca={youtube:Jt,tiktok:ta,instagram:aa,facebook:la,x:ra,snapchat:na,pinterest:oa};function ia({selectedPlatforms:s,advancedOptions:o,onAdvancedOptionsChange:l}){const[c,r]=h.useState(!1);return s.length===0?null:e.jsx(G,{className:"mt-6",children:e.jsxs(Gt,{open:c,onOpenChange:r,children:[e.jsx(Xt,{asChild:!0,children:e.jsx(J,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs(Q,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"w-5 h-5 mr-2"}),"Advanced Options",e.jsx("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:"Platform-specific settings"})]}),c?e.jsx(ot,{className:"w-5 h-5"}):e.jsx(pt,{className:"w-5 h-5"})]})})}),e.jsx(qt,{children:e.jsx(Z,{className:"pt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-specific settings for your video upload. Each platform has unique options that can help optimize your content's reach and engagement."}),e.jsx("div",{className:"space-y-6",children:s.map(t=>{const a=ca[t];return a?e.jsx("div",{children:e.jsx(a,{options:o[t]||{},onChange:i=>l(t,i)})},t):null})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg dark:bg-blue-950 dark:border-blue-800",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"ðŸ’¡ Pro Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"â€¢ YouTube: Use custom thumbnails and relevant tags to increase discoverability"}),e.jsx("li",{children:"â€¢ TikTok: Add trending hashtags and music to boost engagement"}),e.jsx("li",{children:"â€¢ Instagram: Use location tags and alt text for better accessibility"}),e.jsx("li",{children:"â€¢ Facebook: Target specific audiences and add call-to-actions"}),e.jsx("li",{children:"â€¢ Twitter: Keep tweet text concise and add polls for engagement"}),e.jsx("li",{children:"â€¢ Snapchat: Use Spotlight for discovery and enable monetization"}),e.jsx("li",{children:"â€¢ Pinterest: Add detailed descriptions and keywords for better search visibility"})]})]})]})})})]})})}const da={youtube:{name:"YouTube",icon:bt,color:"text-red-600"},instagram:{name:"Instagram",icon:vt,color:"text-pink-600"},tiktok:{name:"TikTok",icon:jt,color:"text-black"},facebook:{name:"Facebook",icon:ps,color:"text-blue-600"},snapchat:{name:"Snapchat",icon:ms,color:"text-yellow-500"},pinterest:{name:"Pinterest",icon:xs,color:"text-red-500"},x:{name:"X",icon:tt,color:"text-black"}};function sl({channel:s,availablePlatforms:o,defaultPlatforms:l,connectedPlatforms:c,allowedPlatforms:r,facebookPages:t}){var Me,ze,Be,He,Ue,Ye,We,$e,Ge;const a=Array.isArray(o)?o:[],i=Array.isArray(l)?l:[],x=Array.isArray(c)?c:[],p=Array.isArray(r)?r:[],u=Array.isArray(t)?t:[],[f,j]=h.useState(i),[C,E]=h.useState("now"),[D,V]=h.useState(!1);h.useRef(null);const[y,_]=h.useState({}),[Y,W]=h.useState(!1),[H,M]=h.useState(!1),[g,R]=h.useState({}),[S,L]=h.useState({}),[z,fe]=h.useState(((Me=u.find(m=>m.is_current_channel))==null?void 0:Me.page_id)||((ze=u[0])==null?void 0:ze.page_id)||""),Te=[{title:"My channels",href:"/dashboard"},{title:s.name,href:`/channels/${s.slug}`},{title:"Upload Video",href:`/channels/${s.slug}/videos/create`}],{data:w,setData:d,post:b,processing:F,errors:N,progress:B}=Xs({video:null,title:"",description:"",tags:[],platforms:i,publish_type:"now",publish_at:"",cloud_providers:[],cloud_folders:{},advanced_options:{},facebook_page_id:z});Ke.useEffect(()=>{d("facebook_page_id",z)},[z,d]);const O=(m,k)=>{let A;k?A=[...f,m]:A=f.filter($=>$!==m),j(A),d("platforms",A)},ge=m=>{fe(m),d("facebook_page_id",m)},Ls=m=>{E(m),d("publish_type",m),m==="now"&&d("publish_at","")},Is=m=>{m.preventDefault(),_({}),Us()&&b(`/channels/${s.slug}/videos`)},Vs=m=>{var A;const k=(A=m.target.files)==null?void 0:A[0];k&&d("video",k)},Ms=h.useCallback(m=>{m.preventDefault(),V(!1);const k=m.dataTransfer.files;if(k&&k[0]){const A=k[0];A.type.startsWith("video/")?d("video",A):alert("Please select a valid video file")}},[d]),zs=h.useCallback(m=>{m.preventDefault(),V(!0)},[]),Bs=h.useCallback(m=>{m.preventDefault(),V(!1)},[]),Hs=m=>m.size>100*1024*1024?"File size must be less than 100MB":m.type.startsWith("video/")?null:"Please select a valid video file",Us=()=>{const m={};if(w.title.trim()?w.title.length>255&&(m.title="Title must be less than 255 characters"):m.title="Title is required",w.description&&w.description.length>1e3&&(m.description="Description must be less than 1000 characters"),f.length===0&&(m.platforms="Please select at least one platform"),f.includes("facebook")&&!z&&(m.facebook_page_id="Please select a Facebook page"),C==="scheduled")if(!w.publish_at)m.publish_at="Please select a publish date and time";else{const k=new Date(w.publish_at),A=new Date,$=new Date(A.getTime()+5*6e4);k<=$&&(m.publish_at="Publish date must be at least 5 minutes from now")}if(!w.video)m.video="Please select a video file";else{const k=Hs(w.video);k&&(m.video=k)}return _(m),Object.keys(m).length===0},Ys=(m,k)=>{d("video",m),_(A=>({...A,video:""}))},Ws=(m,k)=>{const A={...S,[m]:k};L(A),d("advanced_options",A)};return e.jsxs(et,{breadcrumbs:Te,children:[e.jsx(qs,{title:"Upload Video"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Upload Video to ",s.name]}),e.jsx("p",{className:"text-muted-foreground",children:"Upload a video to publish across your connected social media platforms"})]}),e.jsx(Fe,{href:`/channels/${s.slug}`,children:e.jsxs(I,{variant:"outline",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),"Back to Channel"]})})]}),o.length===0&&e.jsxs(je,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950 dark:border-yellow-800",children:[e.jsx(st,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(ve,{className:"text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"No connected platforms:"})," You need to connect at least one social media platform to this channel before uploading videos.",e.jsx(Fe,{href:`/channels/${s.slug}`,className:"ml-1 underline",children:"Connect platforms now"})]})]}),r.length===1&&e.jsx(je,{className:"bg-blue-950/20 border-blue-800",children:e.jsxs(ve,{className:"text-blue-200",children:[e.jsx("strong",{children:"Free Plan:"})," You currently have access to YouTube only. Upgrade to Pro to unlock Instagram and TikTok publishing."]})}),e.jsxs(G,{className:"max-w-2xl",children:[e.jsxs(J,{children:[e.jsx(Q,{children:"Video Details"}),e.jsx(Js,{children:"Upload your video file and provide details for publishing"})]}),e.jsx(Z,{children:e.jsxs("form",{onSubmit:Is,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"video",children:"Video File"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${D?"border-blue-400 bg-blue-950/20":"border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500"}`,onDrop:Ms,onDragOver:zs,onDragLeave:Bs,children:[e.jsx(gt,{className:`mx-auto h-12 w-12 ${D?"text-blue-500":"text-gray-400 dark:text-gray-500"}`}),e.jsxs("div",{className:"mt-4",children:[e.jsxs(n,{htmlFor:"video",className:"cursor-pointer",children:[e.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-100",children:D?"Drop your video here":"Click to upload or drag and drop"}),e.jsx("span",{className:"mt-1 block text-xs text-gray-500 dark:text-gray-400",children:"MP4, MOV, AVI, WMV, WebM up to 100MB (max 60 seconds)"})]}),e.jsx(T,{id:"video",type:"file",accept:"video/*",onChange:Vs,className:"hidden"})]})]}),w.video&&e.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded border border-green-200 dark:text-green-400 dark:bg-green-900/20 dark:border-green-800",children:[e.jsx("strong",{children:"Selected:"})," ",w.video.name," (",(w.video.size/(1024*1024)).toFixed(2)," MB)"]}),(N.video||y.video)&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:N.video||y.video}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-px bg-gray-300 flex-1 dark:bg-gray-600"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or"}),e.jsx("div",{className:"h-px bg-gray-300 flex-1 dark:bg-gray-600"})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(I,{type:"button",variant:"outline",onClick:()=>W(!0),className:"w-full sm:w-auto",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Import from Cloud Storage"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Import videos from Google Drive or Dropbox"})]}),B&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-300",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[B.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${B.percentage}%`}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"title",children:"Title"}),e.jsx(T,{id:"title",value:w.title,onChange:m=>d("title",m.target.value),placeholder:"Enter video title"}),(N.title||y.title)&&e.jsx("p",{className:"text-sm text-red-600",children:N.title||y.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(ne,{id:"description",value:w.description,onChange:m=>d("description",m.target.value),placeholder:"Enter video description",rows:4}),(N.description||y.description)&&e.jsx("p",{className:"text-sm text-red-600",children:N.description||y.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"tags",children:"Tags (Optional)"}),e.jsx(T,{id:"tags",value:w.tags.join(", "),onChange:m=>{const k=m.target.value.split(",").map(A=>A.trim()).filter(A=>A);d("tags",k)},placeholder:"Enter tags separated by commas (e.g., video, content, viral)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add relevant tags to help with discoverability"}),(N.tags||y.tags)&&e.jsx("p",{className:"text-sm text-red-600",children:N.tags||y.tags})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{children:"Select Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which platforms to publish this video to"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(da).map(([m,k])=>{const A=k.icon,$=a.includes(m),se=x.includes(m),ie=p.includes(m),$s=f.includes(m);return e.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${$?"border-gray-300 dark:border-gray-600":"bg-muted border-border"}`,children:[e.jsx(v,{id:m,checked:$s,disabled:!$,onCheckedChange:Gs=>O(m,Gs)}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(A,{className:`h-5 w-5 ${k.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(n,{htmlFor:m,className:`font-medium cursor-pointer ${$?"":"text-gray-400 dark:text-gray-500"}`,children:k.name}),!ie&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Pro Only"}),ie&&!se&&e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-600 px-2 py-1 rounded dark:bg-yellow-900/30 dark:text-yellow-300",children:"Not Connected"})]}),!$&&e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:ie?"Connect this platform to your channel":"Upgrade to access this platform"})]})]})]},m)})}),(N.platforms||y.platforms)&&e.jsx("p",{className:"text-sm text-red-600",children:N.platforms||y.platforms}),a.length===0&&e.jsx(je,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800",children:e.jsx(ve,{className:"text-yellow-800 dark:text-yellow-200",children:"No platforms available for upload. Please connect at least one platform to this channel."})})]}),f.includes("facebook")&&u.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{children:"Select Facebook Page"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which Facebook page to publish this video to"}),e.jsx("div",{className:"space-y-2",children:u.map(m=>e.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg cursor-pointer transition-colors ${z===m.page_id?"border-blue-500 bg-blue-950/20":"border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500"}`,onClick:()=>ge(m.page_id),children:[e.jsx("input",{type:"radio",name:"facebook_page",value:m.page_id,checked:z===m.page_id,onChange:()=>ge(m.page_id),className:"text-blue-600"}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(ps,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:m.page_name}),m.is_current_channel&&e.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded dark:bg-green-900/30 dark:text-green-300",children:"Current Channel"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Page ID: ",m.page_id]})]})]})]},m.page_id))}),(N.facebook_page_id||y.facebook_page_id)&&e.jsx("p",{className:"text-sm text-red-600",children:N.facebook_page_id||y.facebook_page_id})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{children:"Publishing Options"}),e.jsxs(K,{value:C,onValueChange:Ls,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"now",id:"now"}),e.jsxs(n,{htmlFor:"now",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(us,{className:"h-4 w-4"}),e.jsx("span",{children:"Publish now"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"scheduled",id:"scheduled"}),e.jsxs(n,{htmlFor:"scheduled",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(os,{className:"h-4 w-4"}),e.jsx("span",{children:"Schedule for later"})]})]})]}),C==="scheduled"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"publish_at",children:"Publish Date & Time (Your Local Time)"}),e.jsx(T,{id:"publish_at",type:"datetime-local",value:w.publish_at,onChange:m=>d("publish_at",m.target.value),min:(()=>{const m=new Date;return m.setMinutes(m.getMinutes()+5),m.toISOString().slice(0,16)})()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time will be converted to your local timezone. Minimum: 5 minutes from now."}),(N.publish_at||y.publish_at)&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:N.publish_at||y.publish_at})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Cloud Storage Backup (Optional)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically backup your video to cloud storage services"})]}),(((Be=w.cloud_providers)==null?void 0:Be.length)||0)>0&&e.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>M(!0),children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Select Folders"]})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(v,{id:"google_drive",checked:((He=w.cloud_providers)==null?void 0:He.includes("google_drive"))||!1,onCheckedChange:m=>{const k=w.cloud_providers||[],A=w.cloud_folders||{};if(m)d("cloud_providers",[...k,"google_drive"]);else{const $=k.filter(ie=>ie!=="google_drive"),se={...A};delete se.google_drive,d("cloud_providers",$),d("cloud_folders",se),R(se)}}}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:e.jsx(me,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"google_drive",className:"font-medium",children:"Google Drive"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup to your Google Drive account"}),((Ue=w.cloud_folders)==null?void 0:Ue.google_drive)&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Upload to: ",w.cloud_folders.google_drive||"Root folder"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(v,{id:"dropbox",checked:((Ye=w.cloud_providers)==null?void 0:Ye.includes("dropbox"))||!1,onCheckedChange:m=>{const k=w.cloud_providers||[],A=w.cloud_folders||{};if(m)d("cloud_providers",[...k,"dropbox"]);else{const $=k.filter(ie=>ie!=="dropbox"),se={...A};delete se.dropbox,d("cloud_providers",$),d("cloud_folders",se),R(se)}}}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:e.jsx(me,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"dropbox",className:"font-medium",children:"Dropbox"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup to your Dropbox account"}),((We=w.cloud_folders)==null?void 0:We.dropbox)&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Upload to: ",w.cloud_folders.dropbox||"Root folder"]})]})]})]})]}),((($e=w.cloud_providers)==null?void 0:$e.length)||0)>0&&e.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 p-3 rounded border border-blue-200 dark:text-blue-400 dark:bg-blue-900/20 dark:border-blue-800",children:[e.jsx("strong",{children:"Selected:"})," ",(Ge=w.cloud_providers)==null?void 0:Ge.join(", "),Object.keys(w.cloud_folders||{}).length>0&&e.jsx("span",{children:" â€¢ Folders configured"})]})]}),e.jsx(ia,{selectedPlatforms:f,advancedOptions:S,onAdvancedOptionsChange:Ws}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(Fe,{href:`/channels/${s.slug}`,children:e.jsx(I,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(I,{type:"submit",disabled:F||!w.video||f.length===0||o.length===0,children:F?"Uploading...":"Upload Video"})]})]})})]})]}),e.jsx(zt,{isOpen:Y,onClose:()=>W(!1),onFileImported:Ys}),e.jsx(Ht,{isOpen:H,onClose:()=>M(!1),selectedProviders:w.cloud_providers||[],selectedFolders:w.cloud_folders||{},onSelectionChange:(m,k)=>{d("cloud_providers",m),d("cloud_folders",k),R(k)}})]})}export{sl as default};
