import{r as N,j as e,$ as b,Y as n,m as d}from"./app-JQfPiQC6.js";import{B as c}from"./button-DwQFgcjn.js";import{C as S,b as y,c as W,d as I,a as F}from"./card-5DvFNvw3.js";import{S as m,a as h,b as x,c as p,d as f}from"./select-DubJLe-9.js";import{I as j}from"./input-Bp6m1RwU.js";import{L as i}from"./label-BdrBaVuf.js";import{S as E}from"./switch-RzwTR1tS.js";import{A as P}from"./app-layout-B0yt_26H.js";import{X as V}from"./x-CyLKfNB1.js";import{A as Y}from"./arrow-left-CKdfcWtf.js";import{P as A,C as B}from"./palette-DymDmKfj.js";import{F as D}from"./facebook-BKHLOKY2.js";import{V as L}from"./video-CjKjrUHZ.js";import{I as T}from"./instagram-BRzFfA4V.js";import{Y as U}from"./youtube-CRuBvMOU.js";import"./index-B96FZ9VT.js";import"./index-Cvx2668i.js";import"./index-DbwAD9Rj.js";import"./chevron-down-DumqSbVj.js";import"./workflow-BXS4oswI.js";import"./circle-check-big-CWZ0z04O.js";import"./calendar-C8ppMUlT.js";import"./badge-cWu3GqhT.js";const $=[{title:"My channels",href:"/dashboard"},{title:"Workflow",href:"/workflow"},{title:"Edit Workflow",href:"#"}],u={youtube:U,instagram:T,tiktok:L,facebook:D,x:V,snapchat:B,pinterest:A};function me({workflow:a,channels:g,platforms:v}){const[r,t]=N.useState({name:a.name,description:a.description||"",channel_id:a.channel_id.toString(),source_platform:a.source_platform,target_platforms:a.target_platforms,is_active:a.is_active}),k=()=>{d.put(`/workflow/${a.id}`,r,{onSuccess:()=>{d.visit("/workflow")}})},l=v.filter(s=>s.connected);return e.jsxs(P,{breadcrumbs:$,children:[e.jsx(b,{title:`Edit Workflow: ${a.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{href:"/workflow",children:e.jsxs(c,{variant:"outline",size:"sm",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Back to Workflows"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Workflow"}),e.jsx("p",{className:"text-muted-foreground",children:"Update your automatic video syncing workflow"})]})]})}),e.jsxs(S,{children:[e.jsxs(y,{children:[e.jsx(W,{children:"Workflow Settings"}),e.jsx(I,{children:"Update the settings for your automatic video syncing workflow"})]}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Workflow Name"}),e.jsx(j,{id:"name",placeholder:"e.g., YouTube to Instagram",value:r.name,onChange:s=>t({...r,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"channel",children:"Channel"}),e.jsxs(m,{value:r.channel_id,onValueChange:s=>t({...r,channel_id:s}),children:[e.jsx(h,{children:e.jsx(x,{placeholder:"Select channel"})}),e.jsx(p,{children:g.map(s=>e.jsx(f,{value:s.id.toString(),children:s.name},s.id))})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(j,{id:"description",placeholder:"Brief description of this workflow",value:r.description,onChange:s=>t({...r,description:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"source",children:"Source Platform"}),e.jsxs(m,{value:r.source_platform,onValueChange:s=>t({...r,source_platform:s}),children:[e.jsx(h,{children:e.jsx(x,{placeholder:"Select source platform"})}),e.jsx(p,{children:l.map(s=>{const o=u[s.name];return e.jsx(f,{value:s.name,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),s.label]})},s.name)})})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"Target Platforms"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:l.filter(s=>s.name!==r.source_platform).map(s=>{const o=u[s.name],C=r.target_platforms.includes(s.name);return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:s.name,checked:C,onChange:_=>{_.target.checked?t({...r,target_platforms:[...r.target_platforms,s.name]}):t({...r,target_platforms:r.target_platforms.filter(w=>w!==s.name)})},className:"rounded"}),e.jsxs("label",{htmlFor:s.name,className:"flex items-center text-sm",children:[e.jsx(o,{className:"w-4 h-4 mr-1"}),s.label]})]},s.name)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{id:"active",checked:r.is_active,onCheckedChange:s=>t({...r,is_active:s})}),e.jsx(i,{htmlFor:"active",children:"Workflow is active"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(n,{href:"/workflow",children:e.jsx(c,{variant:"outline",children:"Cancel"})}),e.jsx(c,{onClick:k,children:"Update Workflow"})]})]})]})]})]})}export{me as default};
