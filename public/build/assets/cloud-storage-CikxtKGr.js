import{j as e,$ as g,m as N}from"./app-DDOxwmA9.js";import{C as l,b as u,c as h,d as C,a}from"./card-CUJ6-_Nq.js";import{a as w,B as c}from"./button-pFfP4m4I.js";import{B as v}from"./badge-Bwee8h8x.js";import{S as b}from"./separator-Do5BgKfr.js";import{A as k}from"./app-layout-CGCqwk4U.js";import{S,H as $}from"./layout-CJROdgoq.js";import{u as D}from"./use-toast-C9cR5VVh.js";import{C as E}from"./index-B8TENVID.js";import{E as d}from"./external-link-BLy0iK4E.js";import{C as r}from"./cloud-8GGoltVR.js";import"./index-ZOo0SAp5.js";import"./workflow-5bgfWcbK.js";import"./circle-check-big-yt5gleS_.js";import"./video-Ra3jV7c9.js";import"./calendar-BoTz84l-.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],z=w("Unlink",L),A=[{title:"Cloud Storage settings",href:"/settings/cloud-storage"}];function O({connectedAccounts:i,availableProviders:m}){const{toast:x}=D(),j=s=>i.some(t=>t.provider===s),p=s=>i.find(t=>t.provider===s),o=s=>{window.location.href=`/cloud-storage/${s}/auth?redirect=settings`},y=(s,t)=>{confirm(`Are you sure you want to disconnect ${t}? This will remove access to your ${t} files.`)&&N.delete(`/cloud-storage/${s}/disconnect`,{data:{from:"settings"},onSuccess:()=>{x({title:"Success",description:`${t} disconnected successfully`,variant:"success"})},onError:n=>{x({title:"Error",description:"Failed to disconnect. Please try again.",variant:"destructive"})}})},f=s=>{switch(s){case"google-drive":return e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:e.jsx(r,{className:"w-4 h-4 text-white"})});case"dropbox":return e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center",children:e.jsx(r,{className:"w-4 h-4 text-white"})});default:return e.jsx("div",{className:"w-8 h-8 bg-gray-500 rounded flex items-center justify-center",children:e.jsx(r,{className:"w-4 h-4 text-white"})})}};return e.jsxs(k,{breadcrumbs:A,children:[e.jsx(g,{title:"Cloud Storage Settings"}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx($,{title:"Cloud Storage",description:"Connect your cloud storage accounts to automatically upload your videos."}),e.jsx(b,{}),e.jsx("div",{className:"space-y-4",children:m.map(s=>{const t=j(s.id),n=p(s.id);return e.jsxs(l,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[f(s.icon),e.jsxs("div",{children:[e.jsxs(h,{className:"flex items-center space-x-2",children:[e.jsx("span",{children:s.name}),t&&e.jsxs(v,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),e.jsx(C,{children:s.description})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:t?e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>y(s.id,s.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),"Disconnect"]}):e.jsxs(c,{onClick:()=>o(s.id),size:"sm",children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),"Connect"]})})]})}),t&&n&&e.jsx(a,{className:"pt-0",children:e.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Account:"}),e.jsx("span",{className:"font-medium",children:n.provider_email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Connected:"}),e.jsx("span",{children:new Date(n.created_at).toLocaleDateString()})]})]})})}),!t&&e.jsx(a,{className:"pt-0",children:e.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[e.jsxs("p",{className:"mb-3",children:["Connect ",s.name," to select upload folders"]}),e.jsxs(c,{onClick:()=>o(s.id),className:"inline-flex items-center space-x-2",children:[e.jsx(d,{className:"w-4 h-4"}),e.jsxs("span",{children:["Connect ",s.name]})]})]})})]},s.id)})}),i.length===0&&e.jsx(l,{children:e.jsx(a,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(r,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No cloud storage connected"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect your cloud storage accounts to automatically upload and sync your videos."}),e.jsx("div",{className:"space-y-2",children:m.map(s=>e.jsxs(c,{onClick:()=>o(s.id),variant:"outline",className:"mr-2",children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),"Connect ",s.name]},s.id))})]})})}),e.jsxs(l,{children:[e.jsx(u,{children:e.jsx(h,{children:"About Cloud Storage"})}),e.jsxs(a,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"When you connect a cloud storage provider, you can choose to automatically upload your videos to those services during the video creation process."}),e.jsx("p",{children:"Your cloud storage credentials are securely stored and only used to upload files with your explicit permission."}),e.jsx("p",{children:"You can disconnect any provider at any time. This will not delete files that have already been uploaded."})]})]})]})})]})}export{O as default};
