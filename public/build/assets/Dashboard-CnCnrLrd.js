import{r as X,v as L,j as e,$ as V,m as p}from"./app-CBf7Yo4i.js";import{A as z}from"./app-layout-DH9UKU3X.js";import{B as o}from"./button-DixHikYi.js";import{C as u,b as f,c as j,d as g,a as N}from"./card-DjG7HCkE.js";import{B as E}from"./badge-CO-AXslz.js";import{I as H}from"./input-BscA9CeY.js";import{L as c}from"./label-BDmBOM3e.js";import{T as R}from"./textarea-D5pU2Mww.js";import{C as Z}from"./checkbox-B_SnwBY4.js";import{A as G,a as q}from"./alert-CYspmagP.js";import{D as J,a as K,b as Q,c as W,d as ee,e as se,f as ae}from"./dialog-C9VHA5O7.js";import{X as v}from"./x-BzFGxrnn.js";import{Z as te}from"./zap-DyiKkr_o.js";import{P as re}from"./plus-jOgccZmW.js";import{P as C,C as y}from"./palette-DpOjErOi.js";import{F as k}from"./facebook-CGbO74nu.js";import{V as w}from"./video-Ba-jhoFw.js";import{I as D}from"./instagram-B1mhT4X9.js";import{Y as _}from"./youtube-DrybDisM.js";import{C as b}from"./crown-C7aoNLz6.js";import"./index-DC_-e3CF.js";import"./index-CoVDqM6_.js";import"./workflow-CYqTzzaE.js";import"./circle-check-big-BYalqjnE.js";import"./calendar-DpHX6LkR.js";import"./index-BT_3deTK.js";const le={youtube:_,instagram:D,tiktok:w,facebook:k,snapchat:y,pinterest:C,x:v},ne=[{title:"My channels",href:"/dashboard"}],oe={youtube:{name:"YouTube",icon:_,description:"Upload videos to your YouTube channel",color:"text-red-600"},instagram:{name:"Instagram",icon:D,description:"Share Reels and video content",color:"text-pink-600"},tiktok:{name:"TikTok",icon:w,description:"Publish videos for maximum reach",color:"text-black"},facebook:{name:"Facebook",icon:k,description:"Share videos on Facebook",color:"text-blue-600"},snapchat:{name:"Snapchat",icon:y,description:"Share content on Snapchat",color:"text-yellow-500"},pinterest:{name:"Pinterest",icon:C,description:"Share videos on Pinterest",color:"text-red-500"},x:{name:"X",icon:v,description:"Share videos on X",color:"text-black"}};function Ye({channels:P,defaultChannel:ie,recentVideos:ce,subscription:r,allowedPlatforms:T,canCreateChannel:I}){const[S,d]=X.useState(!1),{data:l,setData:i,post:F,processing:m,errors:a,reset:U}=L({name:"",description:"",default_platforms:["youtube"]}),$=s=>{p.visit(`/channels/${s}`)},A=s=>{s.preventDefault(),F("/channels",{onSuccess:()=>{d(!1),U()}})},x=()=>{p.visit("/subscription/plans")},Y=P||[],h=T||[];return e.jsxs(z,{breadcrumbs:ne,children:[e.jsx(V,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My channels"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your channels and videos across all platforms"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!(r!=null&&r.is_active)&&e.jsxs(o,{onClick:x,className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]}),I&&e.jsxs(J,{open:S,onOpenChange:d,children:[e.jsx(K,{asChild:!0,children:e.jsxs(o,{variant:"outline",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"New Channel"]})}),e.jsxs(Q,{className:"sm:max-w-[600px]",children:[e.jsxs(W,{children:[e.jsx(ee,{children:"Create New Channel"}),e.jsx(se,{children:"Set up a new channel to organize your content and social media connections."})]}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Channel Name *"}),e.jsx(H,{id:"name",type:"text",value:l.name,onChange:s=>i("name",s.target.value),placeholder:"e.g., My Gaming Channel",className:a.name?"border-red-500":""}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(R,{id:"description",value:l.description,onChange:s=>i("description",s.target.value),placeholder:"Describe what this channel is about...",rows:3,className:a.description?"border-red-500":""}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Default Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the platforms you typically want to publish to from this channel"})]}),e.jsx("div",{className:"grid gap-3 max-h-48 overflow-y-auto",children:Object.entries(oe).map(([s,t])=>{const n=h.includes(s),B=t.icon;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(Z,{id:s,checked:l.default_platforms.includes(s),onCheckedChange:M=>{M?i("default_platforms",[...l.default_platforms,s]):i("default_platforms",l.default_platforms.filter(O=>O!==s))},disabled:!n}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(B,{className:`w-4 h-4 ${t.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:s,className:`font-medium text-sm ${n?"":"text-gray-400"}`,children:t.name}),e.jsx("p",{className:`text-xs ${n?"text-muted-foreground":"text-gray-400"}`,children:t.description})]})]})]},s)})}),h.length===1&&e.jsx(G,{className:"bg-blue-950/20 border-blue-800",children:e.jsxs(q,{className:"text-blue-800 dark:text-blue-200 text-sm",children:[e.jsx("strong",{children:"Free Plan:"})," You currently have access to YouTube only. Upgrade to Pro to unlock Instagram and TikTok publishing for just $0.60/day."]})}),a.default_platforms&&e.jsx("p",{className:"text-sm text-red-600",children:a.default_platforms})]}),e.jsxs(ae,{children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(o,{type:"submit",disabled:m,children:m?"Creating...":"Create Channel"})]})]})]})]})]})]}),!(r!=null&&r.is_active)&&e.jsxs(u,{className:"border-blue-800 bg-blue-950/20",children:[e.jsxs(f,{children:[e.jsxs(j,{className:"flex items-center",children:[e.jsx(b,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upgrade to Pro"]}),e.jsx(g,{children:"Unlock all platforms and create up to 3 channels for just $0.60/day"})]}),e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Pro Features:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Instagram & TikTok publishing"}),e.jsx("li",{children:"• Up to 3 channels"}),e.jsx("li",{children:"• Priority support"})]})]}),e.jsx(o,{onClick:x,className:"bg-blue-600 hover:bg-blue-700",children:"Upgrade Now"})]})})]}),e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(s=>e.jsxs(u,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>$(s.slug),children:[e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(j,{className:"flex items-center",children:[s.is_default&&e.jsx(b,{className:"w-4 h-4 mr-2 text-yellow-500"}),s.name||"Unnamed Channel"]}),s.is_default&&e.jsx(E,{variant:"secondary",children:"Default"})]}),e.jsx(g,{children:s.description||"No description"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Connected Platforms"}),e.jsx("div",{className:"flex space-x-2",children:(s.connected_platforms||[]).length>0?s.connected_platforms.map(t=>{const n=le[t];return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs capitalize",children:t})]},t)}):e.jsx("span",{className:"text-xs text-gray-500",children:"No platforms connected"})})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[s.videos_count||0," videos"]}),e.jsxs("span",{children:[s.social_accounts_count||0," connections"]})]})]})})]},s.id))})})]})]})}export{Ye as default};
