import{j as e,$ as N,Y as b,m as C}from"./app-DUsOoLcB.js";import{u as y,A as v,a as w,b as k,c as P}from"./app-layout-CLwD6sIU.js";import{B as m}from"./button-Bi9frjTx.js";import{C as d,b as h,c as x,a as f}from"./card-D-yWmt0p.js";import{B as $}from"./badge-Ca6ErgLP.js";import{X as I}from"./x-BYf78JCo.js";import{P as A}from"./plus-dWMLU9j4.js";import{P as Y,C as F}from"./palette-ZrxfDhcM.js";import{F as B}from"./facebook-A0PD-p2_.js";import{V as T}from"./video-D3UXl7Xw.js";import{I as z}from"./instagram-a7J3T_KS.js";import{Y as D}from"./youtube-hfzczlLN.js";import{I as E}from"./info-CFM1ruEZ.js";import"./index-D8LsEh_L.js";import"./index-CUF4B9Uv.js";import"./workflow-CtamUz8V.js";import"./calendar-CZVBnsPk.js";const H={youtube:D,instagram:z,tiktok:T,facebook:B,snapchat:F,pinterest:Y,x:I},M={youtube:"text-red-600",instagram:"text-pink-600",tiktok:"text-black",facebook:"text-blue-600",snapchat:"text-yellow-500",pinterest:"text-red-500",x:"text-black"},V=[{title:"My channels",href:"/dashboard"},{title:"Connections",href:"/connections"}];function le({channels:o,socialAccounts:p,availablePlatforms:j,allowedPlatforms:W}){const c=y(),g=(a,n)=>{window.location.href=`/channels/${n}/auth/${a}`},_=(a,n)=>{confirm(`Are you sure you want to disconnect ${a}?`)&&C.delete(`/channels/${n}/social/${a}`)},u=a=>p.filter(n=>n.platform===a);return e.jsxs(v,{breadcrumbs:V,children:[e.jsx(N,{title:"Platform Connections"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Platform Connections"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your social media platform connections across all channels"})]}),e.jsx(b,{href:"/channels/create",children:e.jsxs(m,{children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Create Channel"]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:j.map(a=>{const n=H[a.name],l=u(a.name),r=l.length>0;return e.jsxs(d,{className:"relative",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-lg font-medium",children:a.label}),e.jsx(n,{className:`h-6 w-6 ${M[a.name]}`})]}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx($,{variant:r?"default":"secondary",className:r?"bg-green-100 text-green-800":"",children:r?`${l.length} Connected`:"Not Connected"})}),l.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Connected Channels:"}),l.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxs(w,{className:"h-8 w-8",children:[e.jsx(k,{src:s.profile_avatar_url,alt:s.profile_name||s.channel_name}),e.jsx(P,{className:"text-xs bg-white",children:s.profile_name?c(s.profile_name):c(s.channel_name)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.channel_name})}),(s.platform_channel_name||s.profile_name)&&e.jsxs("p",{className:"text-xs text-gray-600 truncate",children:["Connected as: ",s.platform_channel_name||s.profile_name,(s.platform_channel_handle||s.profile_username)&&` (${s.platform_channel_handle||`@${s.profile_username}`})`]}),s.platform==="facebook"&&s.facebook_page_name&&e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Facebook Page: ",s.facebook_page_name]}),s.platform==="youtube"&&s.platform_channel_name&&e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["YouTube Channel: ",s.platform_channel_name,s.platform_channel_handle&&` (${s.platform_channel_handle})`]}),s.platform_channel_specific&&s.platform_channel_name&&s.platform!=="youtube"&&s.platform!=="facebook"&&e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Channel: ",s.platform_channel_name,s.platform_channel_handle&&` (${s.platform_channel_handle})`]})]})]}),e.jsx(m,{size:"sm",variant:"outline",onClick:()=>{const t=o.find(i=>i.id===s.channel_id);t&&_(a.name,t.slug)},className:"text-xs h-7 ml-2",children:"Disconnect"})]},s.id))]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Connect to Channel:"}),e.jsx("div",{className:"grid gap-2",children:o.map(s=>{const t=l.some(i=>i.channel_id===s.id);return e.jsxs(m,{size:"sm",variant:t?"outline":"default",onClick:()=>g(a.name,s.slug),disabled:t,className:"w-full justify-start text-xs",children:[t?"âœ“ ":"+ ",s.name]},s.id)})})]})]})})]},a.name)})}),e.jsxs(d,{className:"mt-6",children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center",children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"How Platform Connections Work"]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Per-Channel Connections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Each channel can have its own social media connections. This allows you to manage different brands or content types with separate social accounts."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"OAuth Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When you connect a platform, you'll be redirected to authenticate with that service. Your credentials are securely stored and encrypted."})]})]})})]})]})]})}export{le as default};
