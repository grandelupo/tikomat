import{j as e,$ as w,Y as c,U as v,m as j}from"./app-Bmw4K6yp.js";import{A as $,S as k}from"./app-layout-Bmf34OBw.js";import{B as l}from"./button-BbIK948D.js";import{C as o,a as u,b as f,c as m,d as S}from"./card-cKs_bhSu.js";import{B as r}from"./badge-BDjV-qeL.js";import{C as D}from"./crown-CPnZC5JH.js";import{P as x}from"./plus-BXwj9pJh.js";import{V as h,I as z,Y as P}from"./youtube-DyywyXWA.js";import{Z as V}from"./zap-ChztgLrQ.js";import{C as I}from"./circle-x-BzIMS9At.js";import{C as U}from"./circle-check-big-Cp5PiXzt.js";import{C as A}from"./circle-alert-CTfPzbun.js";import{C as B}from"./clock-qkMoIV6b.js";import"./index-AR41-wRH.js";import"./index-D8n-vIHx.js";import"./chart-column-BifgsK7x.js";const g={youtube:P,instagram:z,tiktok:h},Y={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},_={pending:B,processing:A,success:U,failed:I};function ae({channel:a,socialAccounts:R,videos:d,availablePlatforms:p,allowedPlatforms:E}){const N=[{title:"Dashboard",href:"/dashboard"},{title:a.name,href:`/channels/${a.slug}`}],b=s=>{window.location.href=`/channels/${a.slug}/auth/${s}`},y=s=>{confirm(`Are you sure you want to disconnect ${s} from this channel?`)&&j.delete(`/channels/${a.slug}/social/${s}`)},C=s=>{j.post(`/video-targets/${s}/retry`)};return e.jsxs($,{breadcrumbs:N,children:[e.jsx(w,{title:`${a.name} - Channel`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:a.name}),a.is_default&&e.jsxs(r,{variant:"secondary",className:"flex items-center",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsx("p",{className:"text-muted-foreground",children:a.description||"Manage your social media connections and videos"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(c,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(l,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Video"]})}),e.jsx(c,{href:`/channels/${a.id}/edit`,children:e.jsxs(l,{variant:"outline",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Connections"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:p.map(s=>{const t=g[s.name],i=s.connected,n=s.coming_soon;return e.jsxs(o,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:s.label}),e.jsx(t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:n?e.jsx(r,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Coming Soon"}):e.jsx(r,{variant:i?"default":"secondary",className:i?"bg-green-100 text-green-800":"",children:i?"Connected":"Not Connected"})}),e.jsx("div",{className:"flex flex-col gap-2",children:n?e.jsxs("div",{className:"text-xs text-gray-500 text-center py-2",children:[e.jsx(V,{className:"w-4 h-4 mx-auto mb-1"}),"Upgrade to Pro to unlock ",s.label]}):i?e.jsx(l,{variant:"outline",size:"sm",onClick:()=>y(s.name),className:"w-full",children:"Disconnect"}):e.jsxs(l,{size:"sm",onClick:()=>b(s.name),className:"w-full",children:["Connect ",s.label]})})]})]},s.name)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Videos"}),e.jsx(c,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(l,{size:"sm",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Video"]})})]}),d.data.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.data.map(s=>e.jsxs(o,{children:[e.jsxs(u,{children:[e.jsx(f,{className:"text-base",children:s.title}),e.jsxs(S,{children:[Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")," â€¢ ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:s.thumbnail_path?e.jsx("img",{src:s.thumbnail_path,alt:s.title,className:"w-full h-full object-cover rounded-lg"}):e.jsx(h,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"space-y-2",children:s.targets.map((t,i)=>{const n=_[t.status];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[v.createElement(g[t.platform],{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm capitalize",children:t.platform})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(r,{className:Y[t.status],children:[e.jsx(n,{className:"w-3 h-3 mr-1"}),t.status]}),t.status==="failed"&&e.jsx(l,{size:"sm",variant:"outline",onClick:()=>C(t.id),className:"text-xs px-2 py-1 h-auto",children:"Retry"})]})]},i)})}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(c,{href:`/videos/${s.id}`,children:e.jsx(l,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})}),e.jsx(c,{href:`/videos/${s.id}/edit`,children:e.jsx(l,{size:"sm",variant:"outline",className:"text-xs",children:"Edit"})})]})]})})]},s.id))}),d.links&&e.jsx("div",{className:"flex justify-center"})]}):e.jsx(o,{children:e.jsxs(m,{className:"text-center py-12",children:[e.jsx(h,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No videos yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your first video to this channel to get started."}),e.jsx(c,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(l,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Your First Video"]})})]})})]})]})]})}export{ae as default};
