import{j as e,$ as p,Y as c,m as n}from"./app-Rc1Cmy2w.js";import{B as r}from"./button-DDOHrvBB.js";import{C as a,a as i,b as l,c as d,d as u}from"./card-vpd04fla.js";import{B as N}from"./badge-n0rKFkAI.js";import{A as g}from"./app-layout-O6qe6X1P.js";import{A as b}from"./arrow-left-C8Kkd793.js";import{S as C}from"./square-pen-BwXr0Bqo.js";import{T as v}from"./trash-2-ljiTBqaR.js";import{C as o}from"./circle-x-DCi0aP6J.js";import{C as w}from"./circle-check-big-CmmzydnL.js";import{C as y}from"./circle-alert-CC2qvgB4.js";import{C as D}from"./clock-Bg_Ii4MK.js";import{V as S,I as k,Y as V}from"./youtube-81nd-VDI.js";import"./index-DoPTCqMJ.js";import"./index-9UbYGHOF.js";import"./chart-column-Cooqc9z7.js";const _={youtube:V,instagram:k,tiktok:S},$={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},A={pending:D,processing:y,success:w,failed:o};function K({video:t}){const m=[{title:"Dashboard",href:"/dashboard"},{title:"Videos",href:"/videos"},{title:t.title,href:`/videos/${t.id}`}],x=s=>{n.post(`/video-targets/${s}/retry`)},h=()=>{confirm("Are you sure you want to delete this video?")&&n.delete(`/videos/${t.id}`)};return e.jsxs(g,{breadcrumbs:m,children:[e.jsx(p,{title:`Video: ${t.title}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{href:"/videos",children:e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Back to Videos"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.title}),e.jsxs("p",{className:"text-muted-foreground",children:["Uploaded ",new Date(t.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{href:`/videos/${t.id}/edit`,children:e.jsxs(r,{variant:"outline",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(r,{variant:"outline",onClick:h,className:"text-red-600 hover:text-red-700",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{children:"Video Details"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Title"}),e.jsx("p",{className:"mt-1",children:t.title})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1",children:t.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Duration"}),e.jsx("p",{className:"mt-1",children:t.formatted_duration})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Upload Date"}),e.jsx("p",{className:"mt-1",children:new Date(t.created_at).toLocaleString()})]})]})]}),e.jsxs(a,{children:[e.jsxs(i,{children:[e.jsx(l,{children:"Publishing Status"}),e.jsx(u,{children:"Status for each platform"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:t.targets.map(s=>{const f=A[s.status],j=_[s.platform];return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium capitalize",children:s.platform}),s.publish_at&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scheduled: ",new Date(s.publish_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"secondary",className:`${$[s.status]} flex items-center gap-1`,children:[e.jsx(f,{className:"h-3 w-3"}),s.status]}),s.status==="failed"&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>x(s.id),children:"Retry"})]})]},s.id)})})})]})]}),t.targets.some(s=>s.status==="failed"&&s.error_message)&&e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(l,{className:"text-red-600",children:"Error Details"})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:t.targets.filter(s=>s.status==="failed"&&s.error_message).map(s=>e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(o,{className:"h-4 w-4 text-red-600"}),e.jsxs("span",{className:"font-medium capitalize text-red-600",children:[s.platform," Error"]})]}),e.jsx("p",{className:"text-sm text-red-700",children:s.error_message})]},s.id))})})]})]})]})}export{K as default};
