import{r as v,j as e,$ as R}from"./app-Rc1Cmy2w.js";import{A as T}from"./app-layout-O6qe6X1P.js";import{C as n,a as c,b as o,c as d,d as h}from"./card-vpd04fla.js";import{B as j}from"./badge-n0rKFkAI.js";import{c as U}from"./index-DoPTCqMJ.js";import{P as w}from"./index-9UbYGHOF.js";import{c as C,a as E}from"./button-DDOHrvBB.js";import{U as M}from"./users-C4iuaoxT.js";import{V as P,I as L,Y as O}from"./youtube-81nd-VDI.js";import{C as _}from"./chart-column-Cooqc9z7.js";import{C as D}from"./clock-Bg_Ii4MK.js";import{C as F}from"./circle-x-DCi0aP6J.js";import{C as z}from"./circle-check-big-CmmzydnL.js";import{C as B}from"./crown-Cets4fxB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Y=C("Activity",X);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],H=C("TrendingUp",G);var N="Progress",g=100,[q,Ne]=U(N),[J,K]=q(N),S=v.forwardRef((s,t)=>{const{__scopeProgress:x,value:r=null,max:a,getValueLabel:l=Q,...m}=s;(a||a===0)&&!b(a)&&console.error(W(`${a}`,"Progress"));const i=b(a)?a:g;r!==null&&!y(r,i)&&console.error(Z(`${r}`,"Progress"));const u=y(r,i)?r:null,k=p(u)?l(u,i):void 0;return e.jsx(J,{scope:x,value:u,max:i,children:e.jsx(w.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":p(u)?u:void 0,"aria-valuetext":k,role:"progressbar","data-state":A(u,i),"data-value":u??void 0,"data-max":i,...m,ref:t})})});S.displayName=N;var I="ProgressIndicator",$=v.forwardRef((s,t)=>{const{__scopeProgress:x,...r}=s,a=K(I,x);return e.jsx(w.div,{"data-state":A(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});$.displayName=I;function Q(s,t){return`${Math.round(s/t*100)}%`}function A(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function p(s){return typeof s=="number"}function b(s){return p(s)&&!isNaN(s)&&s>0}function y(s,t){return p(s)&&!isNaN(s)&&s<=t&&s>=0}function W(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${g}\`.`}function Z(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${g} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var V=S,ee=$;const f=v.forwardRef(({className:s,value:t,...x},r)=>e.jsx(V,{ref:r,className:E("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...x,children:e.jsx(ee,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));f.displayName=V.displayName;const se={youtube:O,instagram:L,tiktok:P},ae={success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800"},te={success:z,failed:F,pending:D,processing:_},re=[{title:"Stats",href:"/stats"}];function ge({stats:s,subscription:t,allowedPlatforms:x}){const r=Object.values(s.videoStatus).reduce((a,l)=>a+l,0);return e.jsxs(T,{breadcrumbs:re,children:[e.jsx(R,{title:"Statistics"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Statistics"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive overview of your publishing performance"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(n,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Channels"}),e.jsx(M,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.overview.totalChannels}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t!=null&&t.is_active?`${t.max_channels-s.overview.totalChannels} remaining`:"Free plan: 1 channel"})]})]}),e.jsxs(n,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Videos"}),e.jsx(P,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.overview.totalVideos}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all channels"})]})]}),e.jsxs(n,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Connected Platforms"}),e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.overview.connectedPlatforms}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.length," platforms available"]})]})]}),e.jsxs(n,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Uploads"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.overview.totalUploads}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time uploads"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(n,{children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center",children:[e.jsx(Y,{className:"w-5 h-5 mr-2"}),"Upload Status Overview"]}),e.jsx(h,{children:"Status distribution of all video uploads"})]}),e.jsx(d,{className:"space-y-4",children:Object.entries(s.videoStatus).map(([a,l])=>{const m=r>0?l/r*100:0,i=te[a];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize font-medium",children:a})]}),e.jsx(j,{className:ae[a],children:l})]}),e.jsx(f,{value:m,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.toFixed(1),"%"]})]},a)})})]}),e.jsxs(n,{children:[e.jsxs(c,{children:[e.jsx(o,{children:"Platform Performance"}),e.jsx(h,{children:"Success rates by platform"})]}),e.jsx(d,{className:"space-y-4",children:Object.entries(s.platforms).map(([a,l])=>{const m=l.total>0?l.success/l.total*100:0,i=se[a];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{className:"capitalize font-medium",children:a})]}),e.jsxs("div",{className:"text-sm",children:[l.success,"/",l.total]})]}),e.jsx(f,{value:m,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[m.toFixed(1),"% success rate"]})]},a)})})]})]}),e.jsxs(n,{children:[e.jsxs(c,{children:[e.jsx(o,{children:"Channel Performance"}),e.jsx(h,{children:"Performance metrics for each channel"})]}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:s.channels.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium",children:a.name}),e.jsxs(j,{variant:"outline",children:[a.videos_count," videos"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.social_accounts_count," connected platforms"]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"text-sm font-medium",children:[a.successful_uploads,"/",a.total_uploads," uploads"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{value:a.success_rate,className:"h-2 w-20"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[a.success_rate,"%"]})]})]})]},a.id))})})]}),(t==null?void 0:t.is_active)&&e.jsxs(n,{className:"border-blue-200 bg-blue-50",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2 text-blue-600"}),"Pro Subscription"]}),e.jsx(h,{children:"Your current subscription details"})]}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Monthly Cost"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",t.monthly_cost.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Channels Used"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[s.overview.totalChannels,"/",t.max_channels]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Status"}),e.jsx(j,{className:"bg-green-100 text-green-800",children:"Active"})]})]})})]})]})]})}export{ge as default};
