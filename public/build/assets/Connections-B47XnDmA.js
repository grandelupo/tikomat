import{j as a,$ as N,Y as u,m as C}from"./app-CazqFCNW.js";import{u as y,A as k,a as v,b as w,c as P,I as $}from"./app-layout-DnP_KJBl.js";import{B as o}from"./button-DWSYL8H9.js";import{C as c,b as h,c as f,a as x}from"./card-8ffDoJ2k.js";import{B as I}from"./badge-C8B-LotX.js";import{X as A}from"./x-YWXBVkk3.js";import{P as Y}from"./plus-rS2P03o6.js";import{P as F,C as B}from"./palette-BYrpBpIg.js";import{F as T}from"./facebook-CFo9FVWS.js";import{V as z}from"./video-JCcQareg.js";import{I as D}from"./instagram-DR1Q_WAI.js";import{Y as E}from"./youtube-DGnpHUp-.js";import"./index-DVmV36_7.js";import"./index-B_4TN5tM.js";import"./workflow-02_DswOZ.js";import"./circle-check-big-CejX_wEL.js";import"./calendar-DLVdYJ8l.js";const H={youtube:E,instagram:D,tiktok:z,facebook:T,snapchat:B,pinterest:F,x:A},M={youtube:"text-red-600",instagram:"text-pink-600",tiktok:"text-black",facebook:"text-blue-600",snapchat:"text-yellow-500",pinterest:"text-red-500",x:"text-black"},V=[{title:"My channels",href:"/dashboard"},{title:"Connections",href:"/connections"}];function te({channels:d,socialAccounts:p,availablePlatforms:_,allowedPlatforms:W}){const r=y(),j=(s,n)=>{window.location.href=`/channels/${n}/auth/${s}`},g=(s,n)=>{confirm(`Are you sure you want to disconnect ${s}?`)&&C.delete(`/channels/${n}/social/${s}`)},b=s=>p.filter(n=>n.platform===s);return a.jsxs(k,{breadcrumbs:V,children:[a.jsx(N,{title:"Platform Connections"}),a.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Platform Connections"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your social media platform connections across all channels"})]}),a.jsx(u,{href:"/channels/create",children:a.jsxs(o,{children:[a.jsx(Y,{className:"w-4 h-4 mr-2"}),"Create Channel"]})})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:_.map(s=>{const n=H[s.name],t=b(s.name),m=t.length>0;return a.jsxs(c,{className:"relative",children:[a.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(f,{className:"text-lg font-medium",children:s.label}),a.jsx(n,{className:`h-6 w-6 ${M[s.name]}`})]}),a.jsx(x,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(I,{variant:m?"default":"secondary",className:m?"bg-green-100 text-green-800":"",children:m?`${t.length} Connected`:"Not Connected"})}),t.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Connected Channels:"}),t.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[a.jsxs(v,{className:"h-8 w-8",children:[a.jsx(w,{src:e.platform==="youtube"&&e.platform_channel_thumbnail_url?e.platform_channel_thumbnail_url:e.profile_avatar_url,alt:e.platform==="youtube"&&e.platform_channel_name?e.platform_channel_name:e.platform==="facebook"&&e.facebook_page_name?e.facebook_page_name:e.profile_name||e.channel_name}),a.jsx(P,{className:"text-xs bg-white",children:e.platform==="youtube"&&e.platform_channel_name?r(e.platform_channel_name):e.platform==="facebook"&&e.facebook_page_name?r(e.facebook_page_name):e.profile_name?r(e.profile_name):r(e.channel_name)})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.channel_name})}),(e.platform_channel_name||e.profile_name)&&a.jsxs("p",{className:"text-xs text-gray-600 truncate",children:["Connected as: ",e.profile_name||e.platform_channel_name,(e.profile_username||e.platform_channel_handle)&&` (${`@${e.profile_username||e.platform_channel_handle}`})`]}),e.platform==="facebook"&&e.facebook_page_name&&a.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Facebook Page: ",e.facebook_page_name]}),e.platform==="youtube"&&e.platform_channel_name&&a.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["YouTube Channel: ",e.platform_channel_name,e.platform_channel_handle&&` (${e.platform_channel_handle})`]}),e.platform_channel_specific&&e.platform_channel_name&&e.platform!=="youtube"&&e.platform!=="facebook"&&a.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Channel: ",e.platform_channel_name,e.platform_channel_handle&&` (${e.platform_channel_handle})`]})]})]}),a.jsx(o,{size:"sm",variant:"outline",onClick:()=>{const l=d.find(i=>i.id===e.channel_id);l&&g(s.name,l.slug)},className:"text-xs h-7 ml-2",children:"Disconnect"})]},e.id))]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Connect to Channel:"}),a.jsx("div",{className:"grid gap-2",children:d.map(e=>{const l=t.some(i=>i.channel_id===e.id);return a.jsxs(o,{size:"sm",variant:l?"outline":"default",onClick:()=>j(s.name,e.slug),disabled:l,className:"w-full justify-start text-xs",children:[l?"âœ“ ":"+ ",e.name]},e.id)})})]})]})})]},s.name)})}),a.jsxs(c,{className:"mt-6",children:[a.jsx(h,{children:a.jsxs(f,{className:"flex items-center",children:[a.jsx($,{className:"w-5 h-5 mr-2"}),"How Platform Connections Work"]})}),a.jsx(x,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Per-Channel Connections"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Each channel can have its own social media connections. This allows you to manage different brands or content types with separate social accounts."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"OAuth Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When you connect a platform, you'll be redirected to authenticate with that service. Your credentials are securely stored and encrypted."})]})]})})]})]})]})}export{te as default};
