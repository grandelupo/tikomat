import{r as L,v as V,j as e,$ as z,m as p}from"./app-eyRcJakc.js";import{A as E}from"./app-layout-B8XDgoYK.js";import{B as i}from"./button-m36tyP-B.js";import{C as u,b as j,c as f,d as g,a as b}from"./card-Cx2e3m4W.js";import{B as H}from"./badge-w20cigAG.js";import{I as R}from"./input-vrUkcHqo.js";import{L as c}from"./label-CdSTZgHt.js";import{T as Z}from"./textarea-Cd86A-2B.js";import{C as G}from"./checkbox-ChZhp-Yb.js";import{A as q,a as J}from"./alert-DGpd36p8.js";import{D as K,a as Q,b as W,c as X,d as ee,e as se,f as ae}from"./dialog-D_PX6O4h.js";import{Z as te}from"./zap-BEZYZpW0.js";import{P as re}from"./plus-LLNvhPqE.js";import{T as v,F as C}from"./twitter-BPziiIF-.js";import{P as y,C as k}from"./palette-bjdmstWi.js";import{V as w}from"./video-B_AWJ4m4.js";import{I as D,Y as T}from"./youtube-COKPcgci.js";import{C as N}from"./crown-CKlhSroG.js";import"./index-CNlBQMVC.js";import"./index-C9bbIoIJ.js";import"./workflow-CCsbT4Jc.js";import"./calendar-CAFlWtyy.js";import"./index-C06u8vLm.js";import"./check-CcNCfJhX.js";const le={youtube:T,instagram:D,tiktok:w,facebook:C,snapchat:k,pinterest:y,twitter:v},ne=[{title:"My channels",href:"/dashboard"}],ie={youtube:{name:"YouTube",icon:T,description:"Upload videos to your YouTube channel",color:"text-red-600"},instagram:{name:"Instagram",icon:D,description:"Share Reels and video content",color:"text-pink-600"},tiktok:{name:"TikTok",icon:w,description:"Publish videos for maximum reach",color:"text-black"},facebook:{name:"Facebook",icon:C,description:"Share videos on Facebook",color:"text-blue-600"},snapchat:{name:"Snapchat",icon:k,description:"Share content on Snapchat",color:"text-yellow-500"},pinterest:{name:"Pinterest",icon:y,description:"Share videos on Pinterest",color:"text-red-500"},twitter:{name:"Twitter",icon:v,description:"Share videos on Twitter",color:"text-blue-400"}};function $e({channels:_,defaultChannel:oe,recentVideos:ce,subscription:r,allowedPlatforms:P,canCreateChannel:S}){const[I,d]=L.useState(!1),{data:l,setData:o,post:F,processing:m,errors:a,reset:U}=V({name:"",description:"",default_platforms:["youtube"]}),$=s=>{p.visit(`/channels/${s}`)},A=s=>{s.preventDefault(),F("/channels",{onSuccess:()=>{d(!1),U()}})},x=()=>{p.visit("/subscription/plans")},Y=_||[],h=P||[];return e.jsxs(E,{breadcrumbs:ne,children:[e.jsx(z,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My channels"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your channels and videos across all platforms"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!(r!=null&&r.is_active)&&e.jsxs(i,{onClick:x,className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]}),S&&e.jsxs(K,{open:I,onOpenChange:d,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(i,{variant:"outline",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"New Channel"]})}),e.jsxs(W,{className:"sm:max-w-[600px]",children:[e.jsxs(X,{children:[e.jsx(ee,{children:"Create New Channel"}),e.jsx(se,{children:"Set up a new channel to organize your content and social media connections."})]}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Channel Name *"}),e.jsx(R,{id:"name",type:"text",value:l.name,onChange:s=>o("name",s.target.value),placeholder:"e.g., My Gaming Channel",className:a.name?"border-red-500":""}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description"}),e.jsx(Z,{id:"description",value:l.description,onChange:s=>o("description",s.target.value),placeholder:"Describe what this channel is about...",rows:3,className:a.description?"border-red-500":""}),a.description&&e.jsx("p",{className:"text-sm text-red-600",children:a.description})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Default Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the platforms you typically want to publish to from this channel"})]}),e.jsx("div",{className:"grid gap-3 max-h-48 overflow-y-auto",children:Object.entries(ie).map(([s,t])=>{const n=h.includes(s),B=t.icon;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(G,{id:s,checked:l.default_platforms.includes(s),onCheckedChange:M=>{M?o("default_platforms",[...l.default_platforms,s]):o("default_platforms",l.default_platforms.filter(O=>O!==s))},disabled:!n}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(B,{className:`w-4 h-4 ${t.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:s,className:`font-medium text-sm ${n?"":"text-gray-400"}`,children:t.name}),e.jsx("p",{className:`text-xs ${n?"text-muted-foreground":"text-gray-400"}`,children:t.description})]})]})]},s)})}),h.length===1&&e.jsx(q,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs(J,{className:"text-blue-800 dark:text-blue-200 text-sm",children:[e.jsx("strong",{children:"Free Plan:"})," You currently have access to YouTube only. Upgrade to Pro to unlock Instagram and TikTok publishing for just $0.60/day."]})}),a.default_platforms&&e.jsx("p",{className:"text-sm text-red-600",children:a.default_platforms})]}),e.jsxs(ae,{children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(i,{type:"submit",disabled:m,children:m?"Creating...":"Create Channel"})]})]})]})]})]})]}),!(r!=null&&r.is_active)&&e.jsxs(u,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950 dark:border-blue-800",children:[e.jsxs(j,{children:[e.jsxs(f,{className:"flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upgrade to Pro"]}),e.jsx(g,{children:"Unlock all platforms and create up to 3 channels for just $0.60/day"})]}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Pro Features:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Instagram & TikTok publishing"}),e.jsx("li",{children:"• Up to 3 channels"}),e.jsx("li",{children:"• Priority support"})]})]}),e.jsx(i,{onClick:x,className:"bg-blue-600 hover:bg-blue-700",children:"Upgrade Now"})]})})]}),e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(s=>e.jsxs(u,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>$(s.slug),children:[e.jsxs(j,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(f,{className:"flex items-center",children:[s.is_default&&e.jsx(N,{className:"w-4 h-4 mr-2 text-yellow-500"}),s.name||"Unnamed Channel"]}),s.is_default&&e.jsx(H,{variant:"secondary",children:"Default"})]}),e.jsx(g,{children:s.description||"No description"})]}),e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Connected Platforms"}),e.jsx("div",{className:"flex space-x-2",children:(s.connected_platforms||[]).length>0?s.connected_platforms.map(t=>{const n=le[t];return e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs capitalize",children:t})]},t)}):e.jsx("span",{className:"text-xs text-gray-500",children:"No platforms connected"})})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:[s.videos_count||0," videos"]}),e.jsxs("span",{children:[s.social_accounts_count||0," connections"]})]})]})})]},s.id))})})]})]})}export{$e as default};
