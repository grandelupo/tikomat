import{r as t,j as e,a as z,v as Ae,$ as Te,Y as q}from"./app-5T0fATnZ.js";import{c as I,u as J,a as le,B as D}from"./button-FNOPk3QP.js";import{C as G,b as Y,c as W,a as Z,d as Ee}from"./card-DJNDP2DF.js";import{I as B}from"./input-DpJ4FMh5.js";import{L as k}from"./label-CrH0OvDZ.js";import{T as Me}from"./textarea-BNv7MpvV.js";import{u as Ge,C as H}from"./checkbox-Czifu7u6.js";import{u as Be,c as ie,a as Q,P as $e,b as Oe}from"./index-Cs_-uMFl.js";import{P as O}from"./index-Ml8d9wVP.js";import{c as ne,u as Ve,R as Le,I as Ue,A as ze}from"./app-layout-BozZ9rF9.js";import{A as E,a as M}from"./alert-BoIsZ9NI.js";import{S as qe}from"./separator-B0NsaZp0.js";import{B as re}from"./badge-CUB37D1W.js";import{S as He}from"./scroll-area-D8lbFAVJ.js";import{D as Ye,a as We,b as Ze,c as Qe}from"./dialog-D0RFK1j3.js";import{C as te}from"./circle-check-big-BUUXFObr.js";import{C as ce,U as Xe}from"./upload-DA_JkAs-.js";import{A as Je}from"./arrow-left-DMDhNrWu.js";import{I as Ke}from"./info-V7-pc-fY.js";import{T as es,P as ss,C as rs,F as ts}from"./twitter-l8rNTNj0.js";import{V as os,I as as,Y as ls}from"./youtube-_jc-tEGj.js";import{C as is}from"./clock-DnJupKF7.js";import"./check-CTJa1Fov.js";import"./chart-column-CuOKg4Wa.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cs=I("Circle",ns);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$=I("Cloud",ds);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],us=I("Download",ms);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],oe=I("FileVideo",xs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ae=I("HardDrive",ps);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fs=I("Search",hs);var K="Radio",[gs,de]=ie(K),[vs,bs]=gs(K),me=t.forwardRef((a,n)=>{const{__scopeRadio:l,name:f,checked:c=!1,required:i,disabled:p,value:b="on",onCheck:j,form:y,...g}=a,[d,N]=t.useState(null),u=J(n,o=>N(o)),v=t.useRef(!1),_=d?y||!!d.closest("form"):!0;return e.jsxs(vs,{scope:l,checked:c,disabled:p,children:[e.jsx(O.button,{type:"button",role:"radio","aria-checked":c,"data-state":he(c),"data-disabled":p?"":void 0,disabled:p,value:b,...g,ref:u,onClick:Q(a.onClick,o=>{c||j==null||j(),_&&(v.current=o.isPropagationStopped(),v.current||o.stopPropagation())})}),_&&e.jsx(pe,{control:d,bubbles:!v.current,name:f,value:b,checked:c,required:i,disabled:p,form:y,style:{transform:"translateX(-100%)"}})]})});me.displayName=K;var ue="RadioIndicator",xe=t.forwardRef((a,n)=>{const{__scopeRadio:l,forceMount:f,...c}=a,i=bs(ue,l);return e.jsx($e,{present:f||i.checked,children:e.jsx(O.span,{"data-state":he(i.checked),"data-disabled":i.disabled?"":void 0,...c,ref:n})})});xe.displayName=ue;var js="RadioBubbleInput",pe=t.forwardRef(({__scopeRadio:a,control:n,checked:l,bubbles:f=!0,...c},i)=>{const p=t.useRef(null),b=J(p,i),j=Ge(l),y=Oe(n);return t.useEffect(()=>{const g=p.current;if(!g)return;const d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"checked").set;if(j!==l&&u){const v=new Event("click",{bubbles:f});u.call(g,l),g.dispatchEvent(v)}},[j,l,f]),e.jsx(O.input,{type:"radio","aria-hidden":!0,defaultChecked:l,...c,tabIndex:-1,ref:b,style:{...c.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pe.displayName=js;function he(a){return a?"checked":"unchecked"}var ys=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],V="RadioGroup",[Ns,Ks]=ie(V,[ne,de]),fe=ne(),ge=de(),[ws,ks]=Ns(V),ve=t.forwardRef((a,n)=>{const{__scopeRadioGroup:l,name:f,defaultValue:c,value:i,required:p=!1,disabled:b=!1,orientation:j,dir:y,loop:g=!0,onValueChange:d,...N}=a,u=fe(l),v=Ve(y),[_,o]=Be({prop:i,defaultProp:c??null,onChange:d,caller:V});return e.jsx(ws,{scope:l,name:f,required:p,disabled:b,value:_,onValueChange:o,children:e.jsx(Le,{asChild:!0,...u,orientation:j,dir:v,loop:g,children:e.jsx(O.div,{role:"radiogroup","aria-required":p,"aria-orientation":j,"data-disabled":b?"":void 0,dir:v,...N,ref:n})})})});ve.displayName=V;var be="RadioGroupItem",je=t.forwardRef((a,n)=>{const{__scopeRadioGroup:l,disabled:f,...c}=a,i=ks(be,l),p=i.disabled||f,b=fe(l),j=ge(l),y=t.useRef(null),g=J(n,y),d=i.value===c.value,N=t.useRef(!1);return t.useEffect(()=>{const u=_=>{ys.includes(_.key)&&(N.current=!0)},v=()=>N.current=!1;return document.addEventListener("keydown",u),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",u),document.removeEventListener("keyup",v)}},[]),e.jsx(Ue,{asChild:!0,...b,focusable:!p,active:d,children:e.jsx(me,{disabled:p,required:i.required,checked:d,...j,...c,name:i.name,ref:g,onCheck:()=>i.onValueChange(c.value),onKeyDown:Q(u=>{u.key==="Enter"&&u.preventDefault()}),onFocus:Q(c.onFocus,()=>{var u;N.current&&((u=y.current)==null||u.click())})})})});je.displayName=be;var Cs="RadioGroupIndicator",ye=t.forwardRef((a,n)=>{const{__scopeRadioGroup:l,...f}=a,c=ge(l);return e.jsx(xe,{...c,...f,ref:n})});ye.displayName=Cs;var Ne=ve,we=je,_s=ye;const ke=t.forwardRef(({className:a,...n},l)=>e.jsx(Ne,{className:le("grid gap-2",a),...n,ref:l}));ke.displayName=Ne.displayName;const X=t.forwardRef(({className:a,...n},l)=>e.jsx(we,{ref:l,className:le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:e.jsx(_s,{className:"flex items-center justify-center",children:e.jsx(cs,{className:"h-2.5 w-2.5 fill-current text-current"})})}));X.displayName=we.displayName;function Ds({onFileImported:a,isOpen:n,onClose:l}){const[f,c]=t.useState([]),[i,p]=t.useState(""),[b,j]=t.useState([]),[y,g]=t.useState(!1),[d,N]=t.useState(""),[u,v]=t.useState("");t.useEffect(()=>{n&&_()},[n]);const _=async()=>{try{const r=await z.get("/cloud-storage/connected");c(r.data)}catch(r){console.error("Failed to load connected accounts:",r)}},o=r=>{window.location.href=`/cloud-storage/${r}/auth`},h=async r=>{g(!0),p(r);try{const w=await z.get(`/cloud-storage/${r}/files`,{params:{limit:50}});j(w.data.files)}catch(w){console.error("Failed to load files:",w),alert("Failed to load files from "+r)}finally{g(!1)}},L=async r=>{N(r.id);try{const w=await z.post(`/cloud-storage/${i}/import`,{file_id:r.id,file_name:r.name});if(w.data.success){const F=new Blob([],{type:r.mimeType||"video/mp4"}),A=new File([F],r.name,{type:r.mimeType||"video/mp4"});A.tempPath=w.data.temp_path,A.isCloudImport=!0,a(A,r.name),l()}}catch(w){console.error("Failed to import file:",w),alert("Failed to import file: "+r.name)}finally{N("")}},T=r=>{if(!r)return"Unknown size";const w=["Bytes","KB","MB","GB"],F=Math.floor(Math.log(r)/Math.log(1024));return Math.round(r/Math.pow(1024,F)*100)/100+" "+w[F]},C=r=>r?new Date(r).toLocaleDateString():"Unknown date",S=b.filter(r=>r.name.toLowerCase().includes(u.toLowerCase())),P=r=>f.some(w=>w.provider===r);return e.jsx(Ye,{open:n,onOpenChange:l,children:e.jsxs(We,{className:"max-w-4xl max-h-[80vh] flex flex-col",children:[e.jsx(Ze,{children:e.jsxs(Qe,{className:"flex items-center",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Import from Cloud Storage"]})}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>p(""),children:"← Back"}),e.jsxs("h3",{className:"text-lg font-semibold ml-2",children:[i==="google_drive"?"Google Drive":"Dropbox"," Files"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fs,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(B,{placeholder:"Search videos...",value:u,onChange:r=>v(r.target.value),className:"w-64"})]})]}),e.jsx(qe,{className:"mb-4"}),y?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading files..."})]})}):e.jsx(He,{className:"flex-1",children:e.jsx("div",{className:"space-y-2",children:S.length>0?S.map(r=>e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oe,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:T(r.size)}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ce,{className:"w-3 h-3 mr-1"}),C(r.modifiedTime||r.modified)]})]})]})]}),e.jsx(D,{onClick:()=>L(r),disabled:d===r.id,size:"sm",children:d===r.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"w-4 h-4 mr-1"}),"Import"]})})]})},r.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No video files found"})]})})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Connect and import videos from your cloud storage accounts."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(G,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(Y,{children:e.jsxs(W,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"w-5 h-5 mr-2 text-blue-500"}),"Google Drive"]}),P("google_drive")&&e.jsxs(re,{variant:"secondary",className:"bg-green-100 text-green-700",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),e.jsxs(Z,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import videos from your Google Drive account."}),P("google_drive")?e.jsx(D,{onClick:()=>h("google_drive"),className:"w-full",children:"Browse Files"}):e.jsx(D,{onClick:()=>o("google_drive"),variant:"outline",className:"w-full",children:"Connect Google Drive"})]})]}),e.jsxs(G,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(Y,{children:e.jsxs(W,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"w-5 h-5 mr-2 text-blue-600"}),"Dropbox"]}),P("dropbox")&&e.jsxs(re,{variant:"secondary",className:"bg-green-100 text-green-700",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),e.jsxs(Z,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import videos from your Dropbox account."}),P("dropbox")?e.jsx(D,{onClick:()=>h("dropbox"),className:"w-full",children:"Browse Files"}):e.jsx(D,{onClick:()=>o("dropbox"),variant:"outline",className:"w-full",children:"Connect Dropbox"})]})]})]})]})})]})})}const Rs={youtube:{name:"YouTube",icon:ls,color:"text-red-600"},instagram:{name:"Instagram",icon:as,color:"text-pink-600"},tiktok:{name:"TikTok",icon:os,color:"text-black"},facebook:{name:"Facebook",icon:ts,color:"text-blue-600"},snapchat:{name:"Snapchat",icon:rs,color:"text-yellow-500"},pinterest:{name:"Pinterest",icon:ss,color:"text-red-500"},twitter:{name:"Twitter",icon:es,color:"text-blue-400"}};function er({channel:a,availablePlatforms:n,defaultPlatforms:l,connectedPlatforms:f,allowedPlatforms:c}){var ee,se;const[i,p]=t.useState(l),[b,j]=t.useState("now"),[y,g]=t.useState(!1);t.useRef(null);const[d,N]=t.useState({}),[u,v]=t.useState(!1),_=[{title:"Dashboard",href:"/dashboard"},{title:a.name,href:`/channels/${a.slug}`},{title:"Upload Video",href:`/channels/${a.slug}/videos/create`}],{data:o,setData:h,post:L,processing:T,errors:C,progress:S}=Ae({video:null,title:"",description:"",platforms:l,publish_type:"now",publish_at:"",cloud_providers:[]}),P=(s,m)=>{let x;m?x=[...i,s]:x=i.filter(R=>R!==s),p(x),h("platforms",x)},r=s=>{j(s),h("publish_type",s),s==="now"&&h("publish_at","")},w=s=>{s.preventDefault(),N({}),Re()&&L(`/channels/${a.slug}/videos`)},F=s=>{var x;const m=(x=s.target.files)==null?void 0:x[0];m&&h("video",m)},A=t.useCallback(s=>{s.preventDefault(),g(!1);const m=s.dataTransfer.files;if(m&&m[0]){const x=m[0];x.type.startsWith("video/")?h("video",x):alert("Please select a valid video file")}},[h]),Ce=t.useCallback(s=>{s.preventDefault(),g(!0)},[]),_e=t.useCallback(s=>{s.preventDefault(),g(!1)},[]),De=s=>s.size>100*1024*1024?"File size must be less than 100MB":s.type.startsWith("video/")?null:"Please select a valid video file",Re=()=>{const s={};if(o.title.trim()?o.title.length>255&&(s.title="Title must be less than 255 characters"):s.title="Title is required",o.description&&o.description.length>1e3&&(s.description="Description must be less than 1000 characters"),i.length===0&&(s.platforms="Please select at least one platform"),b==="scheduled")if(!o.publish_at)s.publish_at="Please select a publish date and time";else{const m=new Date(o.publish_at),x=new Date,R=new Date(x.getTime()+5*6e4);m<=R&&(s.publish_at="Publish date must be at least 5 minutes from now")}if(!o.video)s.video="Please select a video file";else{const m=De(o.video);m&&(s.video=m)}return N(s),Object.keys(s).length===0},Se=(s,m)=>{h("video",s),N(x=>({...x,video:""}))};return e.jsxs(ze,{breadcrumbs:_,children:[e.jsx(Te,{title:"Upload Video"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Upload Video to ",a.name]}),e.jsx("p",{className:"text-muted-foreground",children:"Upload a video to publish across your connected social media platforms"})]}),e.jsx(q,{href:`/channels/${a.slug}`,children:e.jsxs(D,{variant:"outline",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Back to Channel"]})})]}),n.length===0&&e.jsxs(E,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950 dark:border-yellow-800",children:[e.jsx(Ke,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(M,{className:"text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"No connected platforms:"})," You need to connect at least one social media platform to this channel before uploading videos.",e.jsx(q,{href:`/channels/${a.slug}`,className:"ml-1 underline",children:"Connect platforms now"})]})]}),c.length===1&&e.jsx(E,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs(M,{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Free Plan:"})," You currently have access to YouTube only. Upgrade to Pro to unlock Instagram and TikTok publishing."]})}),e.jsxs(G,{className:"max-w-2xl",children:[e.jsxs(Y,{children:[e.jsx(W,{children:"Video Details"}),e.jsx(Ee,{children:"Upload your video file and provide details for publishing"})]}),e.jsx(Z,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"video",children:"Video File"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${y?"border-blue-400 bg-blue-50 dark:border-blue-500 dark:bg-blue-900/20":"border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500"}`,onDrop:A,onDragOver:Ce,onDragLeave:_e,children:[e.jsx(Xe,{className:`mx-auto h-12 w-12 ${y?"text-blue-500":"text-gray-400 dark:text-gray-500"}`}),e.jsxs("div",{className:"mt-4",children:[e.jsxs(k,{htmlFor:"video",className:"cursor-pointer",children:[e.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-100",children:y?"Drop your video here":"Click to upload or drag and drop"}),e.jsx("span",{className:"mt-1 block text-xs text-gray-500 dark:text-gray-400",children:"MP4, MOV, AVI, WMV, WebM up to 100MB (max 60 seconds)"})]}),e.jsx(B,{id:"video",type:"file",accept:"video/*",onChange:F,className:"hidden"})]})]}),o.video&&e.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded border border-green-200 dark:text-green-400 dark:bg-green-900/20 dark:border-green-800",children:[e.jsx("strong",{children:"Selected:"})," ",o.video.name," (",(o.video.size/(1024*1024)).toFixed(2)," MB)"]}),(C.video||d.video)&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:C.video||d.video}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-px bg-gray-300 flex-1 dark:bg-gray-600"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or"}),e.jsx("div",{className:"h-px bg-gray-300 flex-1 dark:bg-gray-600"})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(D,{type:"button",variant:"outline",onClick:()=>v(!0),className:"w-full sm:w-auto",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Import from Cloud Storage"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Import videos from Google Drive or Dropbox"})]}),S&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-300",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[S.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.percentage}%`}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"title",children:"Title"}),e.jsx(B,{id:"title",value:o.title,onChange:s=>h("title",s.target.value),placeholder:"Enter video title"}),(C.title||d.title)&&e.jsx("p",{className:"text-sm text-red-600",children:C.title||d.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Me,{id:"description",value:o.description,onChange:s=>h("description",s.target.value),placeholder:"Enter video description",rows:4}),(C.description||d.description)&&e.jsx("p",{className:"text-sm text-red-600",children:C.description||d.description})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(k,{children:"Select Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which platforms to publish this video to"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(Rs).map(([s,m])=>{const x=m.icon,R=n.includes(s),Pe=f.includes(s),U=c.includes(s),Fe=i.includes(s);return e.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${R?"border-gray-300 dark:border-gray-600":"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700"}`,children:[e.jsx(H,{id:s,checked:Fe,disabled:!R,onCheckedChange:Ie=>P(s,Ie)}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(x,{className:`h-5 w-5 ${m.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{htmlFor:s,className:`font-medium cursor-pointer ${R?"":"text-gray-400 dark:text-gray-500"}`,children:m.name}),!U&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Pro Only"}),U&&!Pe&&e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-600 px-2 py-1 rounded dark:bg-yellow-900/30 dark:text-yellow-300",children:"Not Connected"})]}),!R&&e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:U?"Connect this platform to your channel":"Upgrade to access this platform"})]})]})]},s)})}),(C.platforms||d.platforms)&&e.jsx("p",{className:"text-sm text-red-600",children:C.platforms||d.platforms}),n.length===0&&e.jsx(E,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800",children:e.jsx(M,{className:"text-yellow-800 dark:text-yellow-200",children:"No platforms available for upload. Please connect at least one platform to this channel."})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(k,{children:"Publishing Options"}),e.jsxs(ke,{value:b,onValueChange:r,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{value:"now",id:"now"}),e.jsxs(k,{htmlFor:"now",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(is,{className:"h-4 w-4"}),e.jsx("span",{children:"Publish now"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{value:"scheduled",id:"scheduled"}),e.jsxs(k,{htmlFor:"scheduled",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Schedule for later"})]})]})]}),b==="scheduled"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"publish_at",children:"Publish Date & Time (Your Local Time)"}),e.jsx(B,{id:"publish_at",type:"datetime-local",value:o.publish_at,onChange:s=>h("publish_at",s.target.value),min:(()=>{const s=new Date;return s.setMinutes(s.getMinutes()+5),s.toISOString().slice(0,16)})()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time will be converted to your local timezone. Minimum: 5 minutes from now."}),(C.publish_at||d.publish_at)&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:C.publish_at||d.publish_at})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Cloud Storage Backup (Optional)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically backup your video to cloud storage services"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(H,{id:"google_drive",checked:((ee=o.cloud_providers)==null?void 0:ee.includes("google_drive"))||!1,onCheckedChange:s=>{const m=o.cloud_providers||[];s?h("cloud_providers",[...m,"google_drive"]):h("cloud_providers",m.filter(x=>x!=="google_drive"))}}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:e.jsx($,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:"google_drive",className:"font-medium",children:"Google Drive"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup to your Google Drive account"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(H,{id:"dropbox",checked:((se=o.cloud_providers)==null?void 0:se.includes("dropbox"))||!1,onCheckedChange:s=>{const m=o.cloud_providers||[];s?h("cloud_providers",[...m,"dropbox"]):h("cloud_providers",m.filter(x=>x!=="dropbox"))}}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:e.jsx($,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(k,{htmlFor:"dropbox",className:"font-medium",children:"Dropbox"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup to your Dropbox account"})]})]})]})]}),e.jsx(E,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs(M,{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Cloud storage backup requires API configuration. Videos will be stored locally and cloud backup will be simulated for now."]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(q,{href:`/channels/${a.slug}`,children:e.jsx(D,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(D,{type:"submit",disabled:T||!o.video||i.length===0||n.length===0,children:T?"Uploading...":"Upload Video"})]})]})})]})]}),e.jsx(Ds,{isOpen:u,onClose:()=>v(!1),onFileImported:Se})]})}export{er as default};
