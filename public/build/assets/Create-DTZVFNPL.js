import{r,j as e,a as ze,v as ct,$ as dt,Y as Ge}from"./app-ozfEpo_I.js";import{c as Y,u as z,a as fe,B as ne,b as mt}from"./button-CsYLtmsg.js";import{C as re,b as me,c as ue,a as he,d as ut}from"./card-QOP9n2Sn.js";import{I as M}from"./input-opMDpsZg.js";import{L as c}from"./label-BpZitdHb.js";import{T as Ne}from"./textarea-BstqwS5Q.js";import{u as cs,C as I}from"./checkbox-DvJqcu64.js";import{u as Ae,c as Ee,a as D,P as ds,b as ht,d as xe}from"./index-CGxPRdp5.js";import{P as L,r as ms}from"./index-BapqW0YF.js";import{c as us,u as hs,R as xt,I as pt,a as Oe,b as xs,d as ft,e as vt,f as gt,P as jt,V as yt,g as bt,h as Nt,i as wt,j as Ct,F as St,D as kt,C as Tt,k as It,S as _t,A as Rt}from"./app-layout-s3LkRgpS.js";import{A as _e,a as Re}from"./alert-COFQX8p9.js";import{S as Pt}from"./separator-BnU_sSSm.js";import{B as pe}from"./badge-NJ_G1r72.js";import{S as At,c as rs,M as Xe}from"./scroll-area-BUMLrYq1.js";import{D as Ft,a as Et,b as Ot,c as Dt}from"./dialog-Dp5o4KcK.js";import{C as ls}from"./circle-check-big-DI0dRkbP.js";import{C as ps,U as Mt}from"./upload-B008dRZt.js";import{C as Lt}from"./check-CaWGdND6.js";import{T as Vt}from"./triangle-alert-ZNv3myDS.js";import{A as Bt}from"./arrow-left-zKIODrRS.js";import{I as Ut}from"./info-ncW05r-r.js";import{T as Ht,P as $t,C as zt,F as Gt}from"./twitter-DkJ7n-Fg.js";import{V as Wt,I as Yt,Y as qt}from"./youtube-CdNSo5sW.js";import{C as Kt}from"./clock-C9xbf533.js";import"./chart-column-CG83j-w0.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Je=Y("ChevronDown",Zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fs=Y("ChevronUp",Xt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qt=Y("Circle",Jt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Pe=Y("Cloud",ea);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ta=Y("Download",sa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]],os=Y("FileVideo",aa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],is=Y("HardDrive",na);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Qe=Y("Hash",ra);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vs=Y("Image",la);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gs=Y("MapPin",oa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ca=Y("Music",ia);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ma=Y("Search",da);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ha=Y("Tag",ua);var es="Radio",[xa,js]=Ee(es),[pa,fa]=xa(es),ys=r.forwardRef((s,l)=>{const{__scopeRadio:a,name:i,checked:t=!1,required:n,disabled:o,value:m="on",onCheck:d,form:h,...j}=s,[g,S]=r.useState(null),N=z(l,y=>S(y)),w=r.useRef(!1),x=g?h||!!g.closest("form"):!0;return e.jsxs(pa,{scope:a,checked:t,disabled:o,children:[e.jsx(L.button,{type:"button",role:"radio","aria-checked":t,"data-state":Cs(t),"data-disabled":o?"":void 0,disabled:o,value:m,...j,ref:N,onClick:D(s.onClick,y=>{t||d==null||d(),x&&(w.current=y.isPropagationStopped(),w.current||y.stopPropagation())})}),x&&e.jsx(ws,{control:g,bubbles:!w.current,name:i,value:m,checked:t,required:n,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});ys.displayName=es;var bs="RadioIndicator",Ns=r.forwardRef((s,l)=>{const{__scopeRadio:a,forceMount:i,...t}=s,n=fa(bs,a);return e.jsx(ds,{present:i||n.checked,children:e.jsx(L.span,{"data-state":Cs(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:l})})});Ns.displayName=bs;var va="RadioBubbleInput",ws=r.forwardRef(({__scopeRadio:s,control:l,checked:a,bubbles:i=!0,...t},n)=>{const o=r.useRef(null),m=z(o,n),d=cs(a),h=ht(l);return r.useEffect(()=>{const j=o.current;if(!j)return;const g=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==a&&N){const w=new Event("click",{bubbles:i});N.call(j,a),j.dispatchEvent(w)}},[d,a,i]),e.jsx(L.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...t,tabIndex:-1,ref:m,style:{...t.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ws.displayName=va;function Cs(s){return s?"checked":"unchecked"}var ga=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],De="RadioGroup",[ja,Kn]=Ee(De,[us,js]),Ss=us(),ks=js(),[ya,ba]=ja(De),Ts=r.forwardRef((s,l)=>{const{__scopeRadioGroup:a,name:i,defaultValue:t,value:n,required:o=!1,disabled:m=!1,orientation:d,dir:h,loop:j=!0,onValueChange:g,...S}=s,N=Ss(a),w=hs(h),[x,y]=Ae({prop:n,defaultProp:t??null,onChange:g,caller:De});return e.jsx(ya,{scope:a,name:i,required:o,disabled:m,value:x,onValueChange:y,children:e.jsx(xt,{asChild:!0,...N,orientation:d,dir:w,loop:j,children:e.jsx(L.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":m?"":void 0,dir:w,...S,ref:l})})})});Ts.displayName=De;var Is="RadioGroupItem",_s=r.forwardRef((s,l)=>{const{__scopeRadioGroup:a,disabled:i,...t}=s,n=ba(Is,a),o=n.disabled||i,m=Ss(a),d=ks(a),h=r.useRef(null),j=z(l,h),g=n.value===t.value,S=r.useRef(!1);return r.useEffect(()=>{const N=x=>{ga.includes(x.key)&&(S.current=!0)},w=()=>S.current=!1;return document.addEventListener("keydown",N),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",N),document.removeEventListener("keyup",w)}},[]),e.jsx(pt,{asChild:!0,...m,focusable:!o,active:g,children:e.jsx(ys,{disabled:o,required:n.required,checked:g,...d,...t,name:n.name,ref:j,onCheck:()=>n.onValueChange(t.value),onKeyDown:D(N=>{N.key==="Enter"&&N.preventDefault()}),onFocus:D(t.onFocus,()=>{var N;S.current&&((N=h.current)==null||N.click())})})})});_s.displayName=Is;var Na="RadioGroupIndicator",Rs=r.forwardRef((s,l)=>{const{__scopeRadioGroup:a,...i}=s,t=ks(a);return e.jsx(Ns,{...t,...i,ref:l})});Rs.displayName=Na;var Ps=Ts,As=_s,wa=Rs;const ve=r.forwardRef(({className:s,...l},a)=>e.jsx(Ps,{className:fe("grid gap-2",s),...l,ref:a}));ve.displayName=Ps.displayName;const te=r.forwardRef(({className:s,...l},a)=>e.jsx(As,{ref:a,className:fe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...l,children:e.jsx(wa,{className:"flex items-center justify-center",children:e.jsx(Qt,{className:"h-2.5 w-2.5 fill-current text-current"})})}));te.displayName=As.displayName;function Ca({onFileImported:s,isOpen:l,onClose:a}){const[i,t]=r.useState([]),[n,o]=r.useState(""),[m,d]=r.useState([]),[h,j]=r.useState(!1),[g,S]=r.useState(""),[N,w]=r.useState("");r.useEffect(()=>{l&&x()},[l]);const x=async()=>{try{const v=await ze.get("/cloud-storage/connected");t(v.data)}catch(v){console.error("Failed to load connected accounts:",v)}},y=v=>{window.location.href=`/cloud-storage/${v}/auth`},k=async v=>{j(!0),o(v);try{const R=await ze.get(`/cloud-storage/${v}/files`,{params:{limit:50}});d(R.data.files)}catch(R){console.error("Failed to load files:",R),alert("Failed to load files from "+v)}finally{j(!1)}},u=async v=>{S(v.id);try{const R=await ze.post(`/cloud-storage/${n}/import`,{file_id:v.id,file_name:v.name});if(R.data.success){const H=new Blob([],{type:v.mimeType||"video/mp4"}),G=new File([H],v.name,{type:v.mimeType||"video/mp4"});G.tempPath=R.data.temp_path,G.isCloudImport=!0,s(G,v.name),a()}}catch(R){console.error("Failed to import file:",R),alert("Failed to import file: "+v.name)}finally{S("")}},f=v=>{if(!v)return"Unknown size";const R=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(v)/Math.log(1024));return Math.round(v/Math.pow(1024,H)*100)/100+" "+R[H]},U=v=>v?new Date(v).toLocaleDateString():"Unknown date",V=m.filter(v=>v.name.toLowerCase().includes(N.toLowerCase())),O=v=>i.some(R=>R.provider===v);return e.jsx(Ft,{open:l,onOpenChange:a,children:e.jsxs(Et,{className:"max-w-4xl max-h-[80vh] flex flex-col",children:[e.jsx(Ot,{children:e.jsxs(Dt,{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 mr-2"}),"Import from Cloud Storage"]})}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:n?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>o(""),children:"← Back"}),e.jsxs("h3",{className:"text-lg font-semibold ml-2",children:[n==="google_drive"?"Google Drive":"Dropbox"," Files"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ma,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(M,{placeholder:"Search videos...",value:N,onChange:v=>w(v.target.value),className:"w-64"})]})]}),e.jsx(Pt,{className:"mb-4"}),h?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading files..."})]})}):e.jsx(At,{className:"flex-1",children:e.jsx("div",{className:"space-y-2",children:V.length>0?V.map(v=>e.jsx(re,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(os,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:f(v.size)}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ps,{className:"w-3 h-3 mr-1"}),U(v.modifiedTime||v.modified)]})]})]})]}),e.jsx(ne,{onClick:()=>u(v),disabled:g===v.id,size:"sm",children:g===v.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(ta,{className:"w-4 h-4 mr-1"}),"Import"]})})]})},v.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(os,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No video files found"})]})})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Connect and import videos from your cloud storage accounts."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(re,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(is,{className:"w-5 h-5 mr-2 text-blue-500"}),"Google Drive"]}),O("google_drive")&&e.jsxs(pe,{variant:"secondary",className:"bg-green-100 text-green-700",children:[e.jsx(ls,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),e.jsxs(he,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import videos from your Google Drive account."}),O("google_drive")?e.jsx(ne,{onClick:()=>k("google_drive"),className:"w-full",children:"Browse Files"}):e.jsx(ne,{onClick:()=>y("google_drive"),variant:"outline",className:"w-full",children:"Connect Google Drive"})]})]}),e.jsxs(re,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(is,{className:"w-5 h-5 mr-2 text-blue-600"}),"Dropbox"]}),O("dropbox")&&e.jsxs(pe,{variant:"secondary",className:"bg-green-100 text-green-700",children:[e.jsx(ls,{className:"w-3 h-3 mr-1"}),"Connected"]})]})}),e.jsxs(he,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Import videos from your Dropbox account."}),O("dropbox")?e.jsx(ne,{onClick:()=>k("dropbox"),className:"w-full",children:"Browse Files"}):e.jsx(ne,{onClick:()=>y("dropbox"),variant:"outline",className:"w-full",children:"Connect Dropbox"})]})]})]})]})})]})})}var Me="Collapsible",[Sa,Zn]=Ee(Me),[ka,ss]=Sa(Me),Fs=r.forwardRef((s,l)=>{const{__scopeCollapsible:a,open:i,defaultOpen:t,disabled:n,onOpenChange:o,...m}=s,[d,h]=Ae({prop:i,defaultProp:t??!1,onChange:o,caller:Me});return e.jsx(ka,{scope:a,disabled:n,contentId:Oe(),open:d,onOpenToggle:r.useCallback(()=>h(j=>!j),[h]),children:e.jsx(L.div,{"data-state":as(d),"data-disabled":n?"":void 0,...m,ref:l})})});Fs.displayName=Me;var Es="CollapsibleTrigger",Os=r.forwardRef((s,l)=>{const{__scopeCollapsible:a,...i}=s,t=ss(Es,a);return e.jsx(L.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":as(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...i,ref:l,onClick:D(s.onClick,t.onOpenToggle)})});Os.displayName=Es;var ts="CollapsibleContent",Ds=r.forwardRef((s,l)=>{const{forceMount:a,...i}=s,t=ss(ts,s.__scopeCollapsible);return e.jsx(ds,{present:a||t.open,children:({present:n})=>e.jsx(Ta,{...i,ref:l,present:n})})});Ds.displayName=ts;var Ta=r.forwardRef((s,l)=>{const{__scopeCollapsible:a,present:i,children:t,...n}=s,o=ss(ts,a),[m,d]=r.useState(i),h=r.useRef(null),j=z(l,h),g=r.useRef(0),S=g.current,N=r.useRef(0),w=N.current,x=o.open||m,y=r.useRef(x),k=r.useRef(void 0);return r.useEffect(()=>{const u=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(u)},[]),xe(()=>{const u=h.current;if(u){k.current=k.current||{transitionDuration:u.style.transitionDuration,animationName:u.style.animationName},u.style.transitionDuration="0s",u.style.animationName="none";const f=u.getBoundingClientRect();g.current=f.height,N.current=f.width,y.current||(u.style.transitionDuration=k.current.transitionDuration,u.style.animationName=k.current.animationName),d(i)}},[o.open,i]),e.jsx(L.div,{"data-state":as(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...n,ref:j,style:{"--radix-collapsible-content-height":S?`${S}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...s.style},children:x&&t})});function as(s){return s?"open":"closed"}var Ia=Fs;function _a({...s}){return e.jsx(Ia,{"data-slot":"collapsible",...s})}function Ra({...s}){return e.jsx(Os,{"data-slot":"collapsible-trigger",...s})}function Pa({...s}){return e.jsx(Ds,{"data-slot":"collapsible-content",...s})}var Aa=[" ","Enter","ArrowUp","ArrowDown"],Fa=[" ","Enter"],we="Select",[Le,Ve,Ea]=vt(we),[Te,Xn]=Ee(we,[Ea,xs]),Be=xs(),[Oa,ge]=Te(we),[Da,Ma]=Te(we),Ms=s=>{const{__scopeSelect:l,children:a,open:i,defaultOpen:t,onOpenChange:n,value:o,defaultValue:m,onValueChange:d,dir:h,name:j,autoComplete:g,disabled:S,required:N,form:w}=s,x=Be(l),[y,k]=r.useState(null),[u,f]=r.useState(null),[U,V]=r.useState(!1),O=hs(h),[v,R]=Ae({prop:i,defaultProp:t??!1,onChange:n,caller:we}),[H,G]=Ae({prop:o,defaultProp:m,onChange:d,caller:we}),K=r.useRef(null),Z=y?w||!!y.closest("form"):!0,[ae,X]=r.useState(new Set),J=Array.from(ae).map(B=>B.props.value).join(";");return e.jsx(ft,{...x,children:e.jsxs(Oa,{required:N,scope:l,trigger:y,onTriggerChange:k,valueNode:u,onValueNodeChange:f,valueNodeHasChildren:U,onValueNodeHasChildrenChange:V,contentId:Oe(),value:H,onValueChange:G,open:v,onOpenChange:R,dir:O,triggerPointerDownPosRef:K,disabled:S,children:[e.jsx(Le.Provider,{scope:l,children:e.jsx(Da,{scope:s.__scopeSelect,onNativeOptionAdd:r.useCallback(B=>{X(q=>new Set(q).add(B))},[]),onNativeOptionRemove:r.useCallback(B=>{X(q=>{const Q=new Set(q);return Q.delete(B),Q})},[]),children:a})}),Z?e.jsxs(rt,{"aria-hidden":!0,required:N,tabIndex:-1,name:j,autoComplete:g,value:H,onChange:B=>G(B.target.value),disabled:S,form:w,children:[H===void 0?e.jsx("option",{value:""}):null,Array.from(ae)]},J):null]})})};Ms.displayName=we;var Ls="SelectTrigger",Vs=r.forwardRef((s,l)=>{const{__scopeSelect:a,disabled:i=!1,...t}=s,n=Be(a),o=ge(Ls,a),m=o.disabled||i,d=z(l,o.onTriggerChange),h=Ve(a),j=r.useRef("touch"),[g,S,N]=ot(x=>{const y=h().filter(f=>!f.disabled),k=y.find(f=>f.value===o.value),u=it(y,x,k);u!==void 0&&o.onValueChange(u.value)}),w=x=>{m||(o.onOpenChange(!0),N()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(gt,{asChild:!0,...n,children:e.jsx(L.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":lt(o.value)?"":void 0,...t,ref:d,onClick:D(t.onClick,x=>{x.currentTarget.focus(),j.current!=="mouse"&&w(x)}),onPointerDown:D(t.onPointerDown,x=>{j.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:D(t.onKeyDown,x=>{const y=g.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&S(x.key),!(y&&x.key===" ")&&Aa.includes(x.key)&&(w(),x.preventDefault())})})})});Vs.displayName=Ls;var Bs="SelectValue",Us=r.forwardRef((s,l)=>{const{__scopeSelect:a,className:i,style:t,children:n,placeholder:o="",...m}=s,d=ge(Bs,a),{onValueNodeHasChildrenChange:h}=d,j=n!==void 0,g=z(l,d.onValueNodeChange);return xe(()=>{h(j)},[h,j]),e.jsx(L.span,{...m,ref:g,style:{pointerEvents:"none"},children:lt(d.value)?e.jsx(e.Fragment,{children:o}):n})});Us.displayName=Bs;var La="SelectIcon",Hs=r.forwardRef((s,l)=>{const{__scopeSelect:a,children:i,...t}=s;return e.jsx(L.span,{"aria-hidden":!0,...t,ref:l,children:i||"▼"})});Hs.displayName=La;var Va="SelectPortal",$s=s=>e.jsx(jt,{asChild:!0,...s});$s.displayName=Va;var Ce="SelectContent",zs=r.forwardRef((s,l)=>{const a=ge(Ce,s.__scopeSelect),[i,t]=r.useState();if(xe(()=>{t(new DocumentFragment)},[]),!a.open){const n=i;return n?ms.createPortal(e.jsx(Gs,{scope:s.__scopeSelect,children:e.jsx(Le.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),n):null}return e.jsx(Ws,{...s,ref:l})});zs.displayName=Ce;var se=10,[Gs,je]=Te(Ce),Ba="SelectContentImpl",Ua=mt("SelectContent.RemoveScroll"),Ws=r.forwardRef((s,l)=>{const{__scopeSelect:a,position:i="item-aligned",onCloseAutoFocus:t,onEscapeKeyDown:n,onPointerDownOutside:o,side:m,sideOffset:d,align:h,alignOffset:j,arrowPadding:g,collisionBoundary:S,collisionPadding:N,sticky:w,hideWhenDetached:x,avoidCollisions:y,...k}=s,u=ge(Ce,a),[f,U]=r.useState(null),[V,O]=r.useState(null),v=z(l,b=>U(b)),[R,H]=r.useState(null),[G,K]=r.useState(null),Z=Ve(a),[ae,X]=r.useState(!1),J=r.useRef(!1);r.useEffect(()=>{if(f)return Nt(f)},[f]),wt();const B=r.useCallback(b=>{const[F,...W]=Z().map(A=>A.ref.current),[E]=W.slice(-1),P=document.activeElement;for(const A of b)if(A===P||(A==null||A.scrollIntoView({block:"nearest"}),A===F&&V&&(V.scrollTop=0),A===E&&V&&(V.scrollTop=V.scrollHeight),A==null||A.focus(),document.activeElement!==P))return},[Z,V]),q=r.useCallback(()=>B([R,f]),[B,R,f]);r.useEffect(()=>{ae&&q()},[ae,q]);const{onOpenChange:Q,triggerPointerDownPosRef:ee}=u;r.useEffect(()=>{if(f){let b={x:0,y:0};const F=E=>{var P,A;b={x:Math.abs(Math.round(E.pageX)-(((P=ee.current)==null?void 0:P.x)??0)),y:Math.abs(Math.round(E.pageY)-(((A=ee.current)==null?void 0:A.y)??0))}},W=E=>{b.x<=10&&b.y<=10?E.preventDefault():f.contains(E.target)||Q(!1),document.removeEventListener("pointermove",F),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",W,{capture:!0})}}},[f,Q,ee]),r.useEffect(()=>{const b=()=>Q(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[Q]);const[Se,p]=ot(b=>{const F=Z().filter(P=>!P.disabled),W=F.find(P=>P.ref.current===document.activeElement),E=it(F,b,W);E&&setTimeout(()=>E.ref.current.focus())}),T=r.useCallback((b,F,W)=>{const E=!J.current&&!W;(u.value!==void 0&&u.value===F||E)&&(H(b),E&&(J.current=!0))},[u.value]),_=r.useCallback(()=>f==null?void 0:f.focus(),[f]),$=r.useCallback((b,F,W)=>{const E=!J.current&&!W;(u.value!==void 0&&u.value===F||E)&&K(b)},[u.value]),ke=i==="popper"?We:Ys,le=ke===We?{side:m,sideOffset:d,align:h,alignOffset:j,arrowPadding:g,collisionBoundary:S,collisionPadding:N,sticky:w,hideWhenDetached:x,avoidCollisions:y}:{};return e.jsx(Gs,{scope:a,content:f,viewport:V,onViewportChange:O,itemRefCallback:T,selectedItem:R,onItemLeave:_,itemTextRefCallback:$,focusSelectedItem:q,selectedItemText:G,position:i,isPositioned:ae,searchRef:Se,children:e.jsx(Ct,{as:Ua,allowPinchZoom:!0,children:e.jsx(St,{asChild:!0,trapped:u.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:D(t,b=>{var F;(F=u.trigger)==null||F.focus({preventScroll:!0}),b.preventDefault()}),children:e.jsx(kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>u.onOpenChange(!1),children:e.jsx(ke,{role:"listbox",id:u.contentId,"data-state":u.open?"open":"closed",dir:u.dir,onContextMenu:b=>b.preventDefault(),...k,...le,onPlaced:()=>X(!0),ref:v,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:D(k.onKeyDown,b=>{const F=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!F&&b.key.length===1&&p(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let E=Z().filter(P=>!P.disabled).map(P=>P.ref.current);if(["ArrowUp","End"].includes(b.key)&&(E=E.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const P=b.target,A=E.indexOf(P);E=E.slice(A+1)}setTimeout(()=>B(E)),b.preventDefault()}})})})})})})});Ws.displayName=Ba;var Ha="SelectItemAlignedPosition",Ys=r.forwardRef((s,l)=>{const{__scopeSelect:a,onPlaced:i,...t}=s,n=ge(Ce,a),o=je(Ce,a),[m,d]=r.useState(null),[h,j]=r.useState(null),g=z(l,v=>j(v)),S=Ve(a),N=r.useRef(!1),w=r.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:k,focusSelectedItem:u}=o,f=r.useCallback(()=>{if(n.trigger&&n.valueNode&&m&&h&&x&&y&&k){const v=n.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),H=n.valueNode.getBoundingClientRect(),G=k.getBoundingClientRect();if(n.dir!=="rtl"){const P=G.left-R.left,A=H.left-P,ye=v.left-A,be=v.width+ye,Ue=Math.max(be,R.width),He=window.innerWidth-se,$e=rs(A,[se,Math.max(se,He-Ue)]);m.style.minWidth=be+"px",m.style.left=$e+"px"}else{const P=R.right-G.right,A=window.innerWidth-H.right-P,ye=window.innerWidth-v.right-A,be=v.width+ye,Ue=Math.max(be,R.width),He=window.innerWidth-se,$e=rs(A,[se,Math.max(se,He-Ue)]);m.style.minWidth=be+"px",m.style.right=$e+"px"}const K=S(),Z=window.innerHeight-se*2,ae=x.scrollHeight,X=window.getComputedStyle(h),J=parseInt(X.borderTopWidth,10),B=parseInt(X.paddingTop,10),q=parseInt(X.borderBottomWidth,10),Q=parseInt(X.paddingBottom,10),ee=J+B+ae+Q+q,Se=Math.min(y.offsetHeight*5,ee),p=window.getComputedStyle(x),T=parseInt(p.paddingTop,10),_=parseInt(p.paddingBottom,10),$=v.top+v.height/2-se,ke=Z-$,le=y.offsetHeight/2,b=y.offsetTop+le,F=J+B+b,W=ee-F;if(F<=$){const P=K.length>0&&y===K[K.length-1].ref.current;m.style.bottom="0px";const A=h.clientHeight-x.offsetTop-x.offsetHeight,ye=Math.max(ke,le+(P?_:0)+A+q),be=F+ye;m.style.height=be+"px"}else{const P=K.length>0&&y===K[0].ref.current;m.style.top="0px";const ye=Math.max($,J+x.offsetTop+(P?T:0)+le)+W;m.style.height=ye+"px",x.scrollTop=F-$+x.offsetTop}m.style.margin=`${se}px 0`,m.style.minHeight=Se+"px",m.style.maxHeight=Z+"px",i==null||i(),requestAnimationFrame(()=>N.current=!0)}},[S,n.trigger,n.valueNode,m,h,x,y,k,n.dir,i]);xe(()=>f(),[f]);const[U,V]=r.useState();xe(()=>{h&&V(window.getComputedStyle(h).zIndex)},[h]);const O=r.useCallback(v=>{v&&w.current===!0&&(f(),u==null||u(),w.current=!1)},[f,u]);return e.jsx(za,{scope:a,contentWrapper:m,shouldExpandOnScrollRef:N,onScrollButtonChange:O,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:e.jsx(L.div,{...t,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...t.style}})})})});Ys.displayName=Ha;var $a="SelectPopperPosition",We=r.forwardRef((s,l)=>{const{__scopeSelect:a,align:i="start",collisionPadding:t=se,...n}=s,o=Be(a);return e.jsx(Tt,{...o,...n,ref:l,align:i,collisionPadding:t,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});We.displayName=$a;var[za,ns]=Te(Ce,{}),Ye="SelectViewport",qs=r.forwardRef((s,l)=>{const{__scopeSelect:a,nonce:i,...t}=s,n=je(Ye,a),o=ns(Ye,a),m=z(l,n.onViewportChange),d=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(Le.Slot,{scope:a,children:e.jsx(L.div,{"data-radix-select-viewport":"",role:"presentation",...t,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...t.style},onScroll:D(t.onScroll,h=>{const j=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:S}=o;if(S!=null&&S.current&&g){const N=Math.abs(d.current-j.scrollTop);if(N>0){const w=window.innerHeight-se*2,x=parseFloat(g.style.minHeight),y=parseFloat(g.style.height),k=Math.max(x,y);if(k<w){const u=k+N,f=Math.min(w,u),U=u-f;g.style.height=f+"px",g.style.bottom==="0px"&&(j.scrollTop=U>0?U:0,g.style.justifyContent="flex-end")}}}d.current=j.scrollTop})})})]})});qs.displayName=Ye;var Ks="SelectGroup",[Ga,Wa]=Te(Ks),Ya=r.forwardRef((s,l)=>{const{__scopeSelect:a,...i}=s,t=Oe();return e.jsx(Ga,{scope:a,id:t,children:e.jsx(L.div,{role:"group","aria-labelledby":t,...i,ref:l})})});Ya.displayName=Ks;var Zs="SelectLabel",qa=r.forwardRef((s,l)=>{const{__scopeSelect:a,...i}=s,t=Wa(Zs,a);return e.jsx(L.div,{id:t.id,...i,ref:l})});qa.displayName=Zs;var Fe="SelectItem",[Ka,Xs]=Te(Fe),Js=r.forwardRef((s,l)=>{const{__scopeSelect:a,value:i,disabled:t=!1,textValue:n,...o}=s,m=ge(Fe,a),d=je(Fe,a),h=m.value===i,[j,g]=r.useState(n??""),[S,N]=r.useState(!1),w=z(l,u=>{var f;return(f=d.itemRefCallback)==null?void 0:f.call(d,u,i,t)}),x=Oe(),y=r.useRef("touch"),k=()=>{t||(m.onValueChange(i),m.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ka,{scope:a,value:i,disabled:t,textId:x,isSelected:h,onItemTextChange:r.useCallback(u=>{g(f=>f||((u==null?void 0:u.textContent)??"").trim())},[]),children:e.jsx(Le.ItemSlot,{scope:a,value:i,disabled:t,textValue:j,children:e.jsx(L.div,{role:"option","aria-labelledby":x,"data-highlighted":S?"":void 0,"aria-selected":h&&S,"data-state":h?"checked":"unchecked","aria-disabled":t||void 0,"data-disabled":t?"":void 0,tabIndex:t?void 0:-1,...o,ref:w,onFocus:D(o.onFocus,()=>N(!0)),onBlur:D(o.onBlur,()=>N(!1)),onClick:D(o.onClick,()=>{y.current!=="mouse"&&k()}),onPointerUp:D(o.onPointerUp,()=>{y.current==="mouse"&&k()}),onPointerDown:D(o.onPointerDown,u=>{y.current=u.pointerType}),onPointerMove:D(o.onPointerMove,u=>{var f;y.current=u.pointerType,t?(f=d.onItemLeave)==null||f.call(d):y.current==="mouse"&&u.currentTarget.focus({preventScroll:!0})}),onPointerLeave:D(o.onPointerLeave,u=>{var f;u.currentTarget===document.activeElement&&((f=d.onItemLeave)==null||f.call(d))}),onKeyDown:D(o.onKeyDown,u=>{var U;((U=d.searchRef)==null?void 0:U.current)!==""&&u.key===" "||(Fa.includes(u.key)&&k(),u.key===" "&&u.preventDefault())})})})})});Js.displayName=Fe;var Ie="SelectItemText",Qs=r.forwardRef((s,l)=>{const{__scopeSelect:a,className:i,style:t,...n}=s,o=ge(Ie,a),m=je(Ie,a),d=Xs(Ie,a),h=Ma(Ie,a),[j,g]=r.useState(null),S=z(l,k=>g(k),d.onItemTextChange,k=>{var u;return(u=m.itemTextRefCallback)==null?void 0:u.call(m,k,d.value,d.disabled)}),N=j==null?void 0:j.textContent,w=r.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:N},d.value),[d.disabled,d.value,N]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=h;return xe(()=>(x(w),()=>y(w)),[x,y,w]),e.jsxs(e.Fragment,{children:[e.jsx(L.span,{id:d.textId,...n,ref:S}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ms.createPortal(n.children,o.valueNode):null]})});Qs.displayName=Ie;var et="SelectItemIndicator",st=r.forwardRef((s,l)=>{const{__scopeSelect:a,...i}=s;return Xs(et,a).isSelected?e.jsx(L.span,{"aria-hidden":!0,...i,ref:l}):null});st.displayName=et;var qe="SelectScrollUpButton",tt=r.forwardRef((s,l)=>{const a=je(qe,s.__scopeSelect),i=ns(qe,s.__scopeSelect),[t,n]=r.useState(!1),o=z(l,i.onScrollButtonChange);return xe(()=>{if(a.viewport&&a.isPositioned){let m=function(){const h=d.scrollTop>0;n(h)};const d=a.viewport;return m(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,a.isPositioned]),t?e.jsx(nt,{...s,ref:o,onAutoScroll:()=>{const{viewport:m,selectedItem:d}=a;m&&d&&(m.scrollTop=m.scrollTop-d.offsetHeight)}}):null});tt.displayName=qe;var Ke="SelectScrollDownButton",at=r.forwardRef((s,l)=>{const a=je(Ke,s.__scopeSelect),i=ns(Ke,s.__scopeSelect),[t,n]=r.useState(!1),o=z(l,i.onScrollButtonChange);return xe(()=>{if(a.viewport&&a.isPositioned){let m=function(){const h=d.scrollHeight-d.clientHeight,j=Math.ceil(d.scrollTop)<h;n(j)};const d=a.viewport;return m(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,a.isPositioned]),t?e.jsx(nt,{...s,ref:o,onAutoScroll:()=>{const{viewport:m,selectedItem:d}=a;m&&d&&(m.scrollTop=m.scrollTop+d.offsetHeight)}}):null});at.displayName=Ke;var nt=r.forwardRef((s,l)=>{const{__scopeSelect:a,onAutoScroll:i,...t}=s,n=je("SelectScrollButton",a),o=r.useRef(null),m=Ve(a),d=r.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return r.useEffect(()=>()=>d(),[d]),xe(()=>{var j;const h=m().find(g=>g.ref.current===document.activeElement);(j=h==null?void 0:h.ref.current)==null||j.scrollIntoView({block:"nearest"})},[m]),e.jsx(L.div,{"aria-hidden":!0,...t,ref:l,style:{flexShrink:0,...t.style},onPointerDown:D(t.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(i,50))}),onPointerMove:D(t.onPointerMove,()=>{var h;(h=n.onItemLeave)==null||h.call(n),o.current===null&&(o.current=window.setInterval(i,50))}),onPointerLeave:D(t.onPointerLeave,()=>{d()})})}),Za="SelectSeparator",Xa=r.forwardRef((s,l)=>{const{__scopeSelect:a,...i}=s;return e.jsx(L.div,{"aria-hidden":!0,...i,ref:l})});Xa.displayName=Za;var Ze="SelectArrow",Ja=r.forwardRef((s,l)=>{const{__scopeSelect:a,...i}=s,t=Be(a),n=ge(Ze,a),o=je(Ze,a);return n.open&&o.position==="popper"?e.jsx(It,{...t,...i,ref:l}):null});Ja.displayName=Ze;var Qa="SelectBubbleInput",rt=r.forwardRef(({__scopeSelect:s,value:l,...a},i)=>{const t=r.useRef(null),n=z(i,t),o=cs(l);return r.useEffect(()=>{const m=t.current;if(!m)return;const d=window.HTMLSelectElement.prototype,j=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==l&&j){const g=new Event("change",{bubbles:!0});j.call(m,l),m.dispatchEvent(g)}},[o,l]),e.jsx(L.select,{...a,style:{...yt,...a.style},ref:n,defaultValue:l})});rt.displayName=Qa;function lt(s){return s===""||s===void 0}function ot(s){const l=bt(s),a=r.useRef(""),i=r.useRef(0),t=r.useCallback(o=>{const m=a.current+o;l(m),function d(h){a.current=h,window.clearTimeout(i.current),h!==""&&(i.current=window.setTimeout(()=>d(""),1e3))}(m)},[l]),n=r.useCallback(()=>{a.current="",window.clearTimeout(i.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),[a,t,n]}function it(s,l,a){const t=l.length>1&&Array.from(l).every(h=>h===l[0])?l[0]:l,n=a?s.indexOf(a):-1;let o=en(s,Math.max(n,0));t.length===1&&(o=o.filter(h=>h!==a));const d=o.find(h=>h.textValue.toLowerCase().startsWith(t.toLowerCase()));return d!==a?d:void 0}function en(s,l){return s.map((a,i)=>s[(l+i)%s.length])}var sn=Ms,tn=Vs,an=Us,nn=Hs,rn=$s,ln=zs,on=qs,cn=Js,dn=Qs,mn=st,un=tt,hn=at;function oe({...s}){return e.jsx(sn,{"data-slot":"select",...s})}function ie({...s}){return e.jsx(an,{"data-slot":"select-value",...s})}function ce({className:s,children:l,...a}){return e.jsxs(tn,{"data-slot":"select-trigger",className:fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&>span]:line-clamp-1",s),...a,children:[l,e.jsx(nn,{asChild:!0,children:e.jsx(Je,{className:"size-4 opacity-50"})})]})}function de({className:s,children:l,position:a="popper",...i}){return e.jsx(rn,{children:e.jsxs(ln,{"data-slot":"select-content",className:fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...i,children:[e.jsx(xn,{}),e.jsx(on,{className:fe("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:l}),e.jsx(pn,{})]})})}function C({className:s,children:l,...a}){return e.jsxs(cn,{"data-slot":"select-item",className:fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(mn,{children:e.jsx(Lt,{className:"size-4"})})}),e.jsx(dn,{children:l})]})}function xn({className:s,...l}){return e.jsx(un,{"data-slot":"select-scroll-up-button",className:fe("flex cursor-default items-center justify-center py-1",s),...l,children:e.jsx(fs,{className:"size-4"})})}function pn({className:s,...l}){return e.jsx(hn,{"data-slot":"select-scroll-down-button",className:fe("flex cursor-default items-center justify-center py-1",s),...l,children:e.jsx(Je,{className:"size-4"})})}function fn({options:s,onChange:l}){const a=(n,o)=>{l({...s,[n]:o})},i=[{id:"1",name:"Film & Animation"},{id:"2",name:"Autos & Vehicles"},{id:"10",name:"Music"},{id:"15",name:"Pets & Animals"},{id:"17",name:"Sports"},{id:"19",name:"Travel & Events"},{id:"20",name:"Gaming"},{id:"22",name:"People & Blogs"},{id:"23",name:"Comedy"},{id:"24",name:"Entertainment"},{id:"25",name:"News & Politics"},{id:"26",name:"Howto & Style"},{id:"27",name:"Education"},{id:"28",name:"Science & Technology"}],t=[{code:"en",name:"English"},{code:"es",name:"Spanish"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"ja",name:"Japanese"},{code:"ko",name:"Korean"},{code:"zh",name:"Chinese"}];return e.jsxs(re,{children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-red-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),"YouTube Advanced Options"]})}),e.jsxs(he,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsxs(ve,{value:s.privacy||"public",onValueChange:n=>a("privacy",n),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:"public",id:"public"}),e.jsx(c,{htmlFor:"public",children:"Public - Anyone can search for and view"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:"unlisted",id:"unlisted"}),e.jsx(c,{htmlFor:"unlisted",children:"Unlisted - Anyone with the link can view"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:"private",id:"private"}),e.jsx(c,{htmlFor:"private",children:"Private - Only you can view"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Video Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"isShort",checked:s.isShort||!1,onCheckedChange:n=>a("isShort",n)}),e.jsxs(c,{htmlFor:"isShort",className:"flex items-center",children:["YouTube Short",e.jsx(pe,{variant:"secondary",className:"ml-2",children:"Vertical video <60s"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"madeForKids",checked:s.madeForKids||!1,onCheckedChange:n=>a("madeForKids",n)}),e.jsxs(c,{htmlFor:"madeForKids",className:"flex items-center",children:["Made for kids",e.jsx(pe,{variant:"outline",className:"ml-2",children:"COPPA"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"category",children:"Category"}),e.jsxs(oe,{value:s.categoryId||"24",onValueChange:n=>a("categoryId",n),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select category"})}),e.jsx(de,{children:i.map(n=>e.jsx(C,{value:n.id,children:n.name},n.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tags",children:"Tags (comma-separated)"}),e.jsx(M,{id:"tags",value:s.tags||"",onChange:n=>a("tags",n.target.value),placeholder:"gaming, tutorial, entertainment"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Help people discover your video with relevant tags"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"language",children:"Video Language"}),e.jsxs(oe,{value:s.defaultLanguage||"en",onValueChange:n=>a("defaultLanguage",n),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select language"})}),e.jsx(de,{children:t.map(n=>e.jsx(C,{value:n.code,children:n.name},n.code))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"customThumbnail",children:"Custom Thumbnail"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(vs,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx(M,{id:"customThumbnail",type:"file",accept:"image/*",onChange:n=>{var o;return a("customThumbnail",(o=n.target.files)==null?void 0:o[0])},className:"hidden"}),e.jsxs(c,{htmlFor:"customThumbnail",className:"cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload thumbnail"}),e.jsx("span",{className:"block text-xs text-gray-500",children:"PNG, JPG up to 2MB (1280x720 recommended)"})]})]}),s.customThumbnail&&e.jsxs("p",{className:"text-sm text-green-600",children:["Selected: ",s.customThumbnail.name]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Interaction Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"commentsDisabled",checked:s.commentsDisabled||!1,onCheckedChange:n=>a("commentsDisabled",n)}),e.jsx(c,{htmlFor:"commentsDisabled",children:"Disable comments"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"ratingsDisabled",checked:s.ratingsDisabled||!1,onCheckedChange:n=>a("ratingsDisabled",n)}),e.jsx(c,{htmlFor:"ratingsDisabled",children:"Disable ratings (likes/dislikes)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"embeddable",checked:s.embeddable!==!1,onCheckedChange:n=>a("embeddable",n)}),e.jsx(c,{htmlFor:"embeddable",children:"Allow embedding on other websites"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"license",children:"License"}),e.jsxs(oe,{value:s.license||"youtube",onValueChange:n=>a("license",n),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select license"})}),e.jsxs(de,{children:[e.jsx(C,{value:"youtube",children:"Standard YouTube License"}),e.jsx(C,{value:"creativeCommon",children:"Creative Commons - Attribution"})]})]})]})]})]})}function vn({options:s,onChange:l}){const a=(t,n)=>{l({...s,[t]:n})},i=[{id:"PUBLIC_TO_EVERYONE",name:"Everyone",description:"Your video will be public"},{id:"MUTUAL_FOLLOW_FRIEND",name:"Friends",description:"Only friends can see your video"},{id:"SELF_ONLY",name:"Only me",description:"Private video"}];return e.jsxs(re,{children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"})}),"TikTok Advanced Options"]})}),e.jsxs(he,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsx(ve,{value:s.privacy||"PUBLIC_TO_EVERYONE",onValueChange:t=>a("privacy",t),children:i.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:t.id,id:t.id}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:t.id,className:"font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"caption",className:"flex items-center",children:[e.jsx(Qe,{className:"w-4 h-4 mr-1"}),"Caption & Hashtags"]}),e.jsx(Ne,{id:"caption",value:s.caption||"",onChange:t=>a("caption",t.target.value),placeholder:"Write a caption... #trending #viral #fyp",rows:3,maxLength:2200}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.caption||"").length,"/2200 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"music",className:"flex items-center",children:[e.jsx(ca,{className:"w-4 h-4 mr-1"}),"Background Music"]}),e.jsx(M,{id:"music",value:s.musicId||"",onChange:t=>a("musicId",t.target.value),placeholder:"Music ID (optional)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to use original audio or search TikTok's music library"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"coverTime",children:"Video Cover Time (seconds)"}),e.jsx(M,{id:"coverTime",type:"number",min:"0",max:"60",step:"0.1",value:s.coverTime||0,onChange:t=>a("coverTime",parseFloat(t.target.value)),placeholder:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose which second of your video to use as the cover"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Content Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowComments",checked:s.allowComments!==!1,onCheckedChange:t=>a("allowComments",t)}),e.jsxs(c,{htmlFor:"allowComments",className:"flex items-center",children:[e.jsx(Xe,{className:"w-4 h-4 mr-1"}),"Allow comments"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowDuet",checked:s.allowDuet!==!1,onCheckedChange:t=>a("allowDuet",t)}),e.jsx(c,{htmlFor:"allowDuet",children:"Allow Duet"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowStitch",checked:s.allowStitch!==!1,onCheckedChange:t=>a("allowStitch",t)}),e.jsx(c,{htmlFor:"allowStitch",children:"Allow Stitch"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Content Disclosure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"brandedContent",checked:s.brandedContent||!1,onCheckedChange:t=>a("brandedContent",t)}),e.jsxs(c,{htmlFor:"brandedContent",children:["Branded content/Paid partnership",e.jsx(pe,{variant:"outline",className:"ml-2",children:"Disclosure required"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"contentWarning",checked:s.contentWarning||!1,onCheckedChange:t=>a("contentWarning",t)}),e.jsx(c,{htmlFor:"contentWarning",children:"Content may not be suitable for all audiences"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audience",children:"Target Audience"}),e.jsxs(oe,{value:s.audience||"everyone",onValueChange:t=>a("audience",t),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select audience"})}),e.jsxs(de,{children:[e.jsx(C,{value:"everyone",children:"Everyone"}),e.jsx(C,{value:"teen",children:"Teens (13-17)"}),e.jsx(C,{value:"adult",children:"Adults (18+)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"autoCaption",checked:s.autoCaption!==!1,onCheckedChange:t=>a("autoCaption",t)}),e.jsx(c,{htmlFor:"autoCaption",children:"Auto-generate captions"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically create captions for accessibility"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Some advanced features may require TikTok Business API access or may not be available in all regions."]})})]})]})}function gn({options:s,onChange:l}){const a=(t,n)=>{l({...s,[t]:n})},i=[{id:"REELS",name:"Instagram Reel",description:"Short-form vertical video"},{id:"VIDEO",name:"Instagram Video",description:"Regular video post"},{id:"STORY",name:"Instagram Story",description:"24-hour temporary content"}];return e.jsxs(re,{children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-pink-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),"Instagram Advanced Options"]})}),e.jsxs(he,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Video Type"}),e.jsx(ve,{value:s.videoType||"REELS",onValueChange:t=>a("videoType",t),children:i.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:t.id,id:t.id}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:t.id,className:"font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"caption",className:"flex items-center",children:[e.jsx(Qe,{className:"w-4 h-4 mr-1"}),"Caption & Hashtags"]}),e.jsx(Ne,{id:"caption",value:s.caption||"",onChange:t=>a("caption",t.target.value),placeholder:"Write a caption... #instagram #reels #viral",rows:4,maxLength:2200}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.caption||"").length,"/2200 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"location",className:"flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"}),"Location"]}),e.jsx(M,{id:"location",value:s.location||"",onChange:t=>a("location",t.target.value),placeholder:"Add location (e.g., New York, NY)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Help people discover your content by location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"altText",children:"Alt Text (Accessibility)"}),e.jsx(Ne,{id:"altText",value:s.altText||"",onChange:t=>a("altText",t.target.value),placeholder:"Describe your video for visually impaired users",rows:2,maxLength:100}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.altText||"").length,"/100 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"coverImage",children:"Cover Image"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx(vs,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx(M,{id:"coverImage",type:"file",accept:"image/*",onChange:t=>{var n;return a("coverImage",(n=t.target.files)==null?void 0:n[0])},className:"hidden"}),e.jsxs(c,{htmlFor:"coverImage",className:"cursor-pointer",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Upload cover image"}),e.jsx("span",{className:"block text-xs text-gray-500",children:"JPEG, PNG (1080x1080 recommended)"})]})]}),s.coverImage&&e.jsxs("p",{className:"text-sm text-green-600",children:["Selected: ",s.coverImage.name]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Audience & Interaction"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowComments",checked:s.allowComments!==!1,onCheckedChange:t=>a("allowComments",t)}),e.jsxs(c,{htmlFor:"allowComments",className:"flex items-center",children:[e.jsx(Xe,{className:"w-4 h-4 mr-1"}),"Allow comments"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"hideLikesAndViews",checked:s.hideLikesAndViews||!1,onCheckedChange:t=>a("hideLikesAndViews",t)}),e.jsx(c,{htmlFor:"hideLikesAndViews",children:"Hide like and view counts"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Content Disclosure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"brandedContent",checked:s.brandedContent||!1,onCheckedChange:t=>a("brandedContent",t)}),e.jsxs(c,{htmlFor:"brandedContent",children:["Paid partnership",e.jsx(pe,{variant:"outline",className:"ml-2",children:"Required by law"})]})]}),s.brandedContent&&e.jsx(M,{placeholder:"Partner business name",value:s.partnerName||"",onChange:t=>a("partnerName",t.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"music",className:"flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM15.657 6.343a1 1 0 011.414 0A9.972 9.972 0 0119 12a9.972 9.972 0 01-1.929 5.657 1 1 0 11-1.414-1.414A7.971 7.971 0 0017 12c0-1.636-.492-3.154-1.343-4.243a1 1 0 010-1.414z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M13.828 8.172a1 1 0 011.414 0A5.983 5.983 0 0117 12a5.983 5.983 0 01-1.758 3.828 1 1 0 11-1.414-1.414A3.987 3.987 0 0015 12a3.987 3.987 0 00-1.172-2.828 1 1 0 010-1.414z",clipRule:"evenodd"})]}),"Background Music"]}),e.jsx(M,{id:"music",value:s.music||"",onChange:t=>a("music",t.target.value),placeholder:"Search Instagram's music library"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add trending music to increase reach"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"audienceRestriction",children:"Age Restriction"}),e.jsxs(oe,{value:s.audienceRestriction||"none",onValueChange:t=>a("audienceRestriction",t),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select restriction"})}),e.jsxs(de,{children:[e.jsx(C,{value:"none",children:"No restriction"}),e.jsx(C,{value:"13+",children:"13+ years"}),e.jsx(C,{value:"18+",children:"18+ years"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"shareToFacebook",checked:s.shareToFacebook||!1,onCheckedChange:t=>a("shareToFacebook",t)}),e.jsx(c,{htmlFor:"shareToFacebook",children:"Also share to Facebook"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cross-post to your connected Facebook account"})]})]})]})}function jn({options:s,onChange:l}){const a=(n,o)=>{l({...s,[n]:o})},i=[{id:"EVERYONE",name:"Public",description:"Anyone on or off Facebook"},{id:"ALL_FRIENDS",name:"Friends",description:"Your friends on Facebook"},{id:"FRIENDS_OF_FRIENDS",name:"Friends of friends",description:"Your friends and their friends"},{id:"SELF",name:"Only me",description:"Only you can see this"},{id:"CUSTOM",name:"Custom",description:"Specific friends or lists"}],t=[{id:"REGULAR",name:"Regular Video",description:"Standard video post"},{id:"REEL",name:"Facebook Reel",description:"Short-form vertical video"},{id:"STORY",name:"Facebook Story",description:"24-hour temporary content"}];return e.jsxs(re,{children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook Advanced Options"]})}),e.jsxs(he,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsx(ve,{value:s.privacy||"EVERYONE",onValueChange:n=>a("privacy",n),children:i.map(n=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:n.id,id:n.id}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:n.id,className:"font-medium",children:n.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})]},n.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Video Type"}),e.jsx(ve,{value:s.videoType||"REGULAR",onValueChange:n=>a("videoType",n),children:t.map(n=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:n.id,id:n.id}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:n.id,className:"font-medium",children:n.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})]},n.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"message",children:"Post Caption"}),e.jsx(Ne,{id:"message",value:s.message||"",onChange:n=>a("message",n.target.value),placeholder:"What's on your mind?",rows:4,maxLength:63206}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.message||"").length,"/63206 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"place",className:"flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"}),"Location"]}),e.jsx(M,{id:"place",value:s.place||"",onChange:n=>a("place",n.target.value),placeholder:"Where are you?"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"tags",className:"flex items-center",children:[e.jsx(ha,{className:"w-4 h-4 mr-1"}),"Tag People"]}),e.jsx(M,{id:"tags",value:s.tags||"",onChange:n=>a("tags",n.target.value),placeholder:"Tag friends (comma-separated usernames)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"feeling",children:"Feeling/Activity"}),e.jsxs(oe,{value:s.feeling||"",onValueChange:n=>a("feeling",n),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"How are you feeling?"})}),e.jsxs(de,{children:[e.jsx(C,{value:"",children:"None"}),e.jsx(C,{value:"happy",children:"😊 Happy"}),e.jsx(C,{value:"excited",children:"🤩 Excited"}),e.jsx(C,{value:"grateful",children:"🙏 Grateful"}),e.jsx(C,{value:"proud",children:"😎 Proud"}),e.jsx(C,{value:"blessed",children:"✨ Blessed"}),e.jsx(C,{value:"motivated",children:"💪 Motivated"}),e.jsx(C,{value:"relaxed",children:"😌 Relaxed"}),e.jsx(C,{value:"creative",children:"🎨 Creative"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Audience Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowComments",checked:s.allowComments!==!1,onCheckedChange:n=>a("allowComments",n)}),e.jsxs(c,{htmlFor:"allowComments",className:"flex items-center",children:[e.jsx(Xe,{className:"w-4 h-4 mr-1"}),"Allow comments"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowSharing",checked:s.allowSharing!==!1,onCheckedChange:n=>a("allowSharing",n)}),e.jsx(c,{htmlFor:"allowSharing",children:"Allow sharing"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"allowEmbedding",checked:s.allowEmbedding!==!1,onCheckedChange:n=>a("allowEmbedding",n)}),e.jsx(c,{htmlFor:"allowEmbedding",children:"Allow embedding"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Content Settings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"brandedContent",checked:s.brandedContent||!1,onCheckedChange:n=>a("brandedContent",n)}),e.jsxs(c,{htmlFor:"brandedContent",children:["Branded content",e.jsx(pe,{variant:"outline",className:"ml-2",children:"Paid partnership"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"newsworthy",checked:s.newsworthy||!1,onCheckedChange:n=>a("newsworthy",n)}),e.jsx(c,{htmlFor:"newsworthy",children:"This content is newsworthy"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"targetAudience",children:"Target Audience (Optional)"}),e.jsxs(oe,{value:s.targetAudience||"",onValueChange:n=>a("targetAudience",n),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select target audience"})}),e.jsxs(de,{children:[e.jsx(C,{value:"",children:"No targeting"}),e.jsx(C,{value:"18-24",children:"18-24 years old"}),e.jsx(C,{value:"25-34",children:"25-34 years old"}),e.jsx(C,{value:"35-44",children:"35-44 years old"}),e.jsx(C,{value:"45-54",children:"45-54 years old"}),e.jsx(C,{value:"55+",children:"55+ years old"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"callToAction",children:"Call to Action"}),e.jsxs(oe,{value:s.callToAction||"",onValueChange:n=>a("callToAction",n),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Add call to action"})}),e.jsxs(de,{children:[e.jsx(C,{value:"",children:"No call to action"}),e.jsx(C,{value:"LEARN_MORE",children:"Learn More"}),e.jsx(C,{value:"SHOP_NOW",children:"Shop Now"}),e.jsx(C,{value:"SIGN_UP",children:"Sign Up"}),e.jsx(C,{value:"DOWNLOAD",children:"Download"}),e.jsx(C,{value:"WATCH_MORE",children:"Watch More"}),e.jsx(C,{value:"CONTACT_US",children:"Contact Us"})]})]}),s.callToAction&&e.jsx(M,{placeholder:"Call to action URL",value:s.callToActionUrl||"",onChange:n=>a("callToActionUrl",n.target.value)})]})]})]})}function yn({options:s,onChange:l}){const a=(t,n)=>{l({...s,[t]:n})},i=[{id:"everyone",name:"Everyone",description:"Anyone can reply"},{id:"following",name:"People you follow",description:"Only people you follow"},{id:"mentioned",name:"Only people you mention",description:"Only mentioned users"}];return e.jsxs(re,{children:[e.jsx(me,{children:e.jsxs(ue,{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Twitter Advanced Options"]})}),e.jsxs(he,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"text",className:"flex items-center",children:[e.jsx(Qe,{className:"w-4 h-4 mr-1"}),"Tweet Text"]}),e.jsx(Ne,{id:"text",value:s.text||"",onChange:t=>a("text",t.target.value),placeholder:"What's happening?",rows:3,maxLength:280}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.text||"").length,"/280 characters"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Who can reply?"}),e.jsx(ve,{value:s.replySettings||"everyone",onValueChange:t=>a("replySettings",t),children:i.map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:t.id,id:t.id}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:t.id,className:"font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})]},t.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{className:"text-base font-medium",children:"Content Warnings"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"possiblySensitive",checked:s.possiblySensitive||!1,onCheckedChange:t=>a("possiblySensitive",t)}),e.jsxs(c,{htmlFor:"possiblySensitive",className:"flex items-center",children:[e.jsx(Vt,{className:"w-4 h-4 mr-1 text-orange-500"}),"Mark as sensitive content"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground ml-6",children:"For content that may be sensitive (violence, adult content, etc.)"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"includePoll",checked:s.includePoll||!1,onCheckedChange:t=>a("includePoll",t)}),e.jsx(c,{htmlFor:"includePoll",children:"Add a poll to this tweet"})]}),s.includePoll&&e.jsxs("div",{className:"space-y-3 ml-6 p-3 border rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollOption1",children:"Poll Option 1"}),e.jsx(M,{id:"pollOption1",value:s.pollOption1||"",onChange:t=>a("pollOption1",t.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollOption2",children:"Poll Option 2"}),e.jsx(M,{id:"pollOption2",value:s.pollOption2||"",onChange:t=>a("pollOption2",t.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollOption3",children:"Poll Option 3 (Optional)"}),e.jsx(M,{id:"pollOption3",value:s.pollOption3||"",onChange:t=>a("pollOption3",t.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollOption4",children:"Poll Option 4 (Optional)"}),e.jsx(M,{id:"pollOption4",value:s.pollOption4||"",onChange:t=>a("pollOption4",t.target.value),placeholder:"Enter poll option",maxLength:25})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"pollDuration",children:"Poll Duration"}),e.jsxs(oe,{value:s.pollDuration||"1440",onValueChange:t=>a("pollDuration",t),children:[e.jsx(ce,{children:e.jsx(ie,{placeholder:"Select duration"})}),e.jsxs(de,{children:[e.jsx(C,{value:"60",children:"1 hour"}),e.jsx(C,{value:"360",children:"6 hours"}),e.jsx(C,{value:"720",children:"12 hours"}),e.jsx(C,{value:"1440",children:"1 day"}),e.jsx(C,{value:"2880",children:"2 days"}),e.jsx(C,{value:"4320",children:"3 days"}),e.jsx(C,{value:"10080",children:"7 days"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"addLocation",checked:s.addLocation||!1,onCheckedChange:t=>a("addLocation",t)}),e.jsx(c,{htmlFor:"addLocation",children:"Add location to tweet"})]}),s.addLocation&&e.jsx(M,{placeholder:"Enter location",value:s.location||"",onChange:t=>a("location",t.target.value),className:"ml-6"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"isThread",checked:s.isThread||!1,onCheckedChange:t=>a("isThread",t)}),e.jsx(c,{htmlFor:"isThread",children:"This is part of a thread"})]}),s.isThread&&e.jsxs("div",{className:"ml-6 p-3 border rounded-lg space-y-2",children:[e.jsx(c,{htmlFor:"threadId",children:"Reply to Tweet ID (optional)"}),e.jsx(M,{id:"threadId",value:s.threadId||"",onChange:t=>a("threadId",t.target.value),placeholder:"Tweet ID to reply to"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to create a new thread"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"boostTweet",checked:s.boostTweet||!1,onCheckedChange:t=>a("boostTweet",t)}),e.jsxs(c,{htmlFor:"boostTweet",children:["Boost this tweet",e.jsx(pe,{variant:"secondary",className:"ml-2",children:"Paid feature"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Promote your tweet to reach more people (requires Twitter Ads account)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"altText",children:"Alt Text for Video (Accessibility)"}),e.jsx(Ne,{id:"altText",value:s.altText||"",onChange:t=>a("altText",t.target.value),placeholder:"Describe your video for visually impaired users",rows:2,maxLength:1e3}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(s.altText||"").length,"/1000 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{id:"superFollowsOnly",checked:s.superFollowsOnly||!1,onCheckedChange:t=>a("superFollowsOnly",t)}),e.jsxs(c,{htmlFor:"superFollowsOnly",children:["Super Follows only",e.jsx(pe,{variant:"outline",className:"ml-2",children:"Premium"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only your Super Followers can see this tweet"})]})]})]})}const bn={youtube:fn,tiktok:vn,instagram:gn,facebook:jn,twitter:yn};function Nn({selectedPlatforms:s,advancedOptions:l,onAdvancedOptionsChange:a}){const[i,t]=r.useState(!1);return s.length===0?null:e.jsx(re,{className:"mt-6",children:e.jsxs(_a,{open:i,onOpenChange:t,children:[e.jsx(Ra,{asChild:!0,children:e.jsx(me,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:e.jsxs(ue,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_t,{className:"w-5 h-5 mr-2"}),"Advanced Options",e.jsx("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:"Platform-specific settings"})]}),i?e.jsx(fs,{className:"w-5 h-5"}):e.jsx(Je,{className:"w-5 h-5"})]})})}),e.jsx(Pa,{children:e.jsx(he,{className:"pt-0",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure platform-specific settings for your video upload. Each platform has unique options that can help optimize your content's reach and engagement."}),e.jsx("div",{className:"space-y-6",children:s.map(n=>{const o=bn[n];return o?e.jsx("div",{children:e.jsx(o,{options:l[n]||{},onChange:m=>a(n,m)})},n):null})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg dark:bg-blue-950 dark:border-blue-800",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"💡 Pro Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"• YouTube: Use custom thumbnails and relevant tags to increase discoverability"}),e.jsx("li",{children:"• TikTok: Add trending hashtags and music to boost engagement"}),e.jsx("li",{children:"• Instagram: Use location tags and alt text for better accessibility"}),e.jsx("li",{children:"• Facebook: Target specific audiences and add call-to-actions"}),e.jsx("li",{children:"• Twitter: Keep tweet text concise and add polls for engagement"})]})]})]})})})]})})}const wn={youtube:{name:"YouTube",icon:qt,color:"text-red-600"},instagram:{name:"Instagram",icon:Yt,color:"text-pink-600"},tiktok:{name:"TikTok",icon:Wt,color:"text-black"},facebook:{name:"Facebook",icon:Gt,color:"text-blue-600"},snapchat:{name:"Snapchat",icon:zt,color:"text-yellow-500"},pinterest:{name:"Pinterest",icon:$t,color:"text-red-500"},twitter:{name:"Twitter",icon:Ht,color:"text-blue-400"}};function Jn({channel:s,availablePlatforms:l,defaultPlatforms:a,connectedPlatforms:i,allowedPlatforms:t}){var ee,Se;const[n,o]=r.useState(a),[m,d]=r.useState("now"),[h,j]=r.useState(!1);r.useRef(null);const[g,S]=r.useState({}),[N,w]=r.useState(!1),[x,y]=r.useState({}),k=[{title:"Dashboard",href:"/dashboard"},{title:s.name,href:`/channels/${s.slug}`},{title:"Upload Video",href:`/channels/${s.slug}/videos/create`}],{data:u,setData:f,post:U,processing:V,errors:O,progress:v}=ct({video:null,title:"",description:"",platforms:a,publish_type:"now",publish_at:"",cloud_providers:[],advanced_options:{}}),R=(p,T)=>{let _;T?_=[...n,p]:_=n.filter($=>$!==p),o(_),f("platforms",_)},H=p=>{d(p),f("publish_type",p),p==="now"&&f("publish_at","")},G=p=>{p.preventDefault(),S({}),B()&&U(`/channels/${s.slug}/videos`)},K=p=>{var _;const T=(_=p.target.files)==null?void 0:_[0];T&&f("video",T)},Z=r.useCallback(p=>{p.preventDefault(),j(!1);const T=p.dataTransfer.files;if(T&&T[0]){const _=T[0];_.type.startsWith("video/")?f("video",_):alert("Please select a valid video file")}},[f]),ae=r.useCallback(p=>{p.preventDefault(),j(!0)},[]),X=r.useCallback(p=>{p.preventDefault(),j(!1)},[]),J=p=>p.size>100*1024*1024?"File size must be less than 100MB":p.type.startsWith("video/")?null:"Please select a valid video file",B=()=>{const p={};if(u.title.trim()?u.title.length>255&&(p.title="Title must be less than 255 characters"):p.title="Title is required",u.description&&u.description.length>1e3&&(p.description="Description must be less than 1000 characters"),n.length===0&&(p.platforms="Please select at least one platform"),m==="scheduled")if(!u.publish_at)p.publish_at="Please select a publish date and time";else{const T=new Date(u.publish_at),_=new Date,$=new Date(_.getTime()+5*6e4);T<=$&&(p.publish_at="Publish date must be at least 5 minutes from now")}if(!u.video)p.video="Please select a video file";else{const T=J(u.video);T&&(p.video=T)}return S(p),Object.keys(p).length===0},q=(p,T)=>{f("video",p),S(_=>({..._,video:""}))},Q=(p,T)=>{const _={...x,[p]:T};y(_),f("advanced_options",_)};return e.jsxs(Rt,{breadcrumbs:k,children:[e.jsx(dt,{title:"Upload Video"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Upload Video to ",s.name]}),e.jsx("p",{className:"text-muted-foreground",children:"Upload a video to publish across your connected social media platforms"})]}),e.jsx(Ge,{href:`/channels/${s.slug}`,children:e.jsxs(ne,{variant:"outline",children:[e.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Back to Channel"]})})]}),l.length===0&&e.jsxs(_e,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950 dark:border-yellow-800",children:[e.jsx(Ut,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(Re,{className:"text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"No connected platforms:"})," You need to connect at least one social media platform to this channel before uploading videos.",e.jsx(Ge,{href:`/channels/${s.slug}`,className:"ml-1 underline",children:"Connect platforms now"})]})]}),t.length===1&&e.jsx(_e,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs(Re,{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Free Plan:"})," You currently have access to YouTube only. Upgrade to Pro to unlock Instagram and TikTok publishing."]})}),e.jsxs(re,{className:"max-w-2xl",children:[e.jsxs(me,{children:[e.jsx(ue,{children:"Video Details"}),e.jsx(ut,{children:"Upload your video file and provide details for publishing"})]}),e.jsx(he,{children:e.jsxs("form",{onSubmit:G,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"video",children:"Video File"}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${h?"border-blue-400 bg-blue-50 dark:border-blue-500 dark:bg-blue-900/20":"border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-500"}`,onDrop:Z,onDragOver:ae,onDragLeave:X,children:[e.jsx(Mt,{className:`mx-auto h-12 w-12 ${h?"text-blue-500":"text-gray-400 dark:text-gray-500"}`}),e.jsxs("div",{className:"mt-4",children:[e.jsxs(c,{htmlFor:"video",className:"cursor-pointer",children:[e.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-100",children:h?"Drop your video here":"Click to upload or drag and drop"}),e.jsx("span",{className:"mt-1 block text-xs text-gray-500 dark:text-gray-400",children:"MP4, MOV, AVI, WMV, WebM up to 100MB (max 60 seconds)"})]}),e.jsx(M,{id:"video",type:"file",accept:"video/*",onChange:K,className:"hidden"})]})]}),u.video&&e.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded border border-green-200 dark:text-green-400 dark:bg-green-900/20 dark:border-green-800",children:[e.jsx("strong",{children:"Selected:"})," ",u.video.name," (",(u.video.size/(1024*1024)).toFixed(2)," MB)"]}),(O.video||g.video)&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:O.video||g.video}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-px bg-gray-300 flex-1 dark:bg-gray-600"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"or"}),e.jsx("div",{className:"h-px bg-gray-300 flex-1 dark:bg-gray-600"})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(ne,{type:"button",variant:"outline",onClick:()=>w(!0),className:"w-full sm:w-auto",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Import from Cloud Storage"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Import videos from Google Drive or Dropbox"})]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-300",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[v.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.percentage}%`}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"title",children:"Title"}),e.jsx(M,{id:"title",value:u.title,onChange:p=>f("title",p.target.value),placeholder:"Enter video title"}),(O.title||g.title)&&e.jsx("p",{className:"text-sm text-red-600",children:O.title||g.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Ne,{id:"description",value:u.description,onChange:p=>f("description",p.target.value),placeholder:"Enter video description",rows:4}),(O.description||g.description)&&e.jsx("p",{className:"text-sm text-red-600",children:O.description||g.description})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{children:"Select Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose which platforms to publish this video to"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(wn).map(([p,T])=>{const _=T.icon,$=l.includes(p),ke=i.includes(p),le=t.includes(p),b=n.includes(p);return e.jsxs("div",{className:`flex items-center space-x-3 p-3 border rounded-lg ${$?"border-gray-300 dark:border-gray-600":"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700"}`,children:[e.jsx(I,{id:p,checked:b,disabled:!$,onCheckedChange:F=>R(p,F)}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(_,{className:`h-5 w-5 ${T.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{htmlFor:p,className:`font-medium cursor-pointer ${$?"":"text-gray-400 dark:text-gray-500"}`,children:T.name}),!le&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded dark:bg-blue-900/30 dark:text-blue-300",children:"Pro Only"}),le&&!ke&&e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-600 px-2 py-1 rounded dark:bg-yellow-900/30 dark:text-yellow-300",children:"Not Connected"})]}),!$&&e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:le?"Connect this platform to your channel":"Upgrade to access this platform"})]})]})]},p)})}),(O.platforms||g.platforms)&&e.jsx("p",{className:"text-sm text-red-600",children:O.platforms||g.platforms}),l.length===0&&e.jsx(_e,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800",children:e.jsx(Re,{className:"text-yellow-800 dark:text-yellow-200",children:"No platforms available for upload. Please connect at least one platform to this channel."})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c,{children:"Publishing Options"}),e.jsxs(ve,{value:m,onValueChange:H,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:"now",id:"now"}),e.jsxs(c,{htmlFor:"now",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Kt,{className:"h-4 w-4"}),e.jsx("span",{children:"Publish now"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{value:"scheduled",id:"scheduled"}),e.jsxs(c,{htmlFor:"scheduled",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx("span",{children:"Schedule for later"})]})]})]}),m==="scheduled"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"publish_at",children:"Publish Date & Time (Your Local Time)"}),e.jsx(M,{id:"publish_at",type:"datetime-local",value:u.publish_at,onChange:p=>f("publish_at",p.target.value),min:(()=>{const p=new Date;return p.setMinutes(p.getMinutes()+5),p.toISOString().slice(0,16)})()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Time will be converted to your local timezone. Minimum: 5 minutes from now."}),(O.publish_at||g.publish_at)&&e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:O.publish_at||g.publish_at})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Cloud Storage Backup (Optional)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically backup your video to cloud storage services"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(I,{id:"google_drive",checked:((ee=u.cloud_providers)==null?void 0:ee.includes("google_drive"))||!1,onCheckedChange:p=>{const T=u.cloud_providers||[];p?f("cloud_providers",[...T,"google_drive"]):f("cloud_providers",T.filter(_=>_!=="google_drive"))}}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:"google_drive",className:"font-medium",children:"Google Drive"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup to your Google Drive account"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(I,{id:"dropbox",checked:((Se=u.cloud_providers)==null?void 0:Se.includes("dropbox"))||!1,onCheckedChange:p=>{const T=u.cloud_providers||[];p?f("cloud_providers",[...T,"dropbox"]):f("cloud_providers",T.filter(_=>_!=="dropbox"))}}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:"dropbox",className:"font-medium",children:"Dropbox"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup to your Dropbox account"})]})]})]})]}),e.jsx(_e,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950 dark:border-blue-800",children:e.jsxs(Re,{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Note:"})," Cloud storage backup requires API configuration. Videos will be stored locally and cloud backup will be simulated for now."]})})]}),e.jsx(Nn,{selectedPlatforms:n,advancedOptions:x,onAdvancedOptionsChange:Q}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(Ge,{href:`/channels/${s.slug}`,children:e.jsx(ne,{type:"button",variant:"outline",children:"Cancel"})}),e.jsx(ne,{type:"submit",disabled:V||!u.video||n.length===0||l.length===0,children:V?"Uploading...":"Upload Video"})]})]})})]})]}),e.jsx(Ca,{isOpen:N,onClose:()=>w(!1),onFileImported:q})]})}export{Jn as default};
