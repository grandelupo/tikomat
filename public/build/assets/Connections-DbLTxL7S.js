import{j as e,$ as C,Y as b,m as y}from"./app-Bzl3OJGV.js";import{u as v,A as w,a as k,b as _,c as P}from"./app-layout-571AjJqp.js";import{B as o}from"./button-Db8krda-.js";import{C as d,b as x,c as h,a as f}from"./card-BmAmiLnd.js";import{B as I}from"./badge-D0K_CcwR.js";import{X as $}from"./x-Cb7qSv8f.js";import{P as A}from"./plus-DuD765Ry.js";import{P as F,C as Y}from"./palette-CXIItep2.js";import{F as B}from"./facebook-BhIXokSG.js";import{V as z}from"./video-CdCqcp1f.js";import{I as D,Y as E}from"./youtube-C0MKuLnN.js";import{I as H}from"./info-B_c0VWql.js";import"./index-DLTxevxE.js";import"./index-DyEUodoE.js";import"./workflow-DTffTMY7.js";import"./calendar-GPT3iJRg.js";const M={youtube:E,instagram:D,tiktok:z,facebook:B,snapchat:Y,pinterest:F,x:$},T={youtube:"text-red-600",instagram:"text-pink-600",tiktok:"text-black",facebook:"text-blue-600",snapchat:"text-yellow-500",pinterest:"text-red-500",x:"text-black"},V=[{title:"My channels",href:"/dashboard"},{title:"Connections",href:"/connections"}];function te({channels:c,socialAccounts:p,availablePlatforms:j,allowedPlatforms:W}){const m=v(),u=(a,n)=>{window.location.href=`/channels/${n}/auth/${a}`},g=(a,n)=>{confirm(`Are you sure you want to disconnect ${a}?`)&&y.delete(`/channels/${n}/social/${a}`)},N=a=>p.filter(n=>n.platform===a);return e.jsxs(w,{breadcrumbs:V,children:[e.jsx(C,{title:"Platform Connections"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Platform Connections"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your social media platform connections across all channels"})]}),e.jsx(b,{href:"/channels/create",children:e.jsxs(o,{children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Create Channel"]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:j.map(a=>{const n=M[a.name],l=N(a.name),r=l.length>0;return e.jsxs(d,{className:"relative",children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-lg font-medium",children:a.label}),e.jsx(n,{className:`h-6 w-6 ${T[a.name]}`})]}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(I,{variant:r?"default":"secondary",className:r?"bg-green-100 text-green-800":"",children:r?`${l.length} Connected`:"Not Connected"})}),l.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Connected Channels:"}),l.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxs(k,{className:"h-8 w-8",children:[e.jsx(_,{src:s.profile_avatar_url,alt:s.profile_name||s.channel_name}),e.jsx(P,{className:"text-xs bg-white",children:s.profile_name?m(s.profile_name):m(s.channel_name)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.channel_name})}),s.profile_name&&e.jsxs("p",{className:"text-xs text-gray-600 truncate",children:["Connected as: ",s.profile_name,s.profile_username&&` (@${s.profile_username})`]}),s.platform==="facebook"&&s.facebook_page_name&&e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["Facebook Page: ",s.facebook_page_name]})]})]}),e.jsx(o,{size:"sm",variant:"outline",onClick:()=>{const t=c.find(i=>i.id===s.channel_id);t&&g(a.name,t.slug)},className:"text-xs h-7 ml-2",children:"Disconnect"})]},s.id))]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Connect to Channel:"}),e.jsx("div",{className:"grid gap-2",children:c.map(s=>{const t=l.some(i=>i.channel_id===s.id);return e.jsxs(o,{size:"sm",variant:t?"outline":"default",onClick:()=>u(a.name,s.slug),disabled:t,className:"w-full justify-start text-xs",children:[t?"âœ“ ":"+ ",s.name]},s.id)})})]})]})})]},a.name)})}),e.jsxs(d,{className:"mt-6",children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"How Platform Connections Work"]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Per-Channel Connections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Each channel can have its own social media connections. This allows you to manage different brands or content types with separate social accounts."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"OAuth Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When you connect a platform, you'll be redirected to authenticate with that service. Your credentials are securely stored and encrypted."})]})]})})]})]})]})}export{te as default};
