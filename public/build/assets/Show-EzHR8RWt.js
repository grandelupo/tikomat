import{j as e,$ as v,Y as c,U as $,m as u}from"./app-HPq93_bc.js";import{A as k,S as P}from"./app-layout-CThs9St1.js";import{B as t}from"./button-BRONDqEK.js";import{C as d,a as j,b as f,c as m,d as S}from"./card-oLYz_STS.js";import{B as r}from"./badge-C9ORD88D.js";import{C as z}from"./crown-B0gd0H18.js";import{P as x}from"./plus-COEf1qUp.js";import{T as D,P as F,C as V,F as I}from"./twitter-CJRRsEkl.js";import{V as h,I as R,Y as U}from"./youtube-BKrE7K53.js";import{Z as A}from"./zap-Bo4k6znF.js";import{C as B}from"./circle-x-85Wgt-WS.js";import{C as T}from"./circle-check-big-BSf7B4qV.js";import{C as Y}from"./circle-alert-D8s8Wk8T.js";import{C as _}from"./clock-DNnntizD.js";import"./index-Be_mwvx4.js";import"./index-VA6HlxH6.js";import"./chart-column-B4DwW7mi.js";const g={youtube:U,instagram:R,tiktok:h,facebook:I,snapchat:V,pinterest:F,twitter:D},E={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},L={pending:_,processing:Y,success:T,failed:B};function re({channel:a,socialAccounts:M,videos:o,availablePlatforms:p,allowedPlatforms:Z}){const N=[{title:"Dashboard",href:"/dashboard"},{title:a.name,href:`/channels/${a.slug}`}],b=s=>{window.location.href=`/channels/${a.slug}/auth/${s}`},y=s=>{confirm(`Are you sure you want to disconnect ${s} from this channel?`)&&u.delete(`/channels/${a.slug}/social/${s}`)},w=s=>{confirm(`Force reconnect ${s}? This will revoke current permissions and ask you to choose an account again.`)&&(window.location.href=`/channels/${a.slug}/auth/${s}?force=true`)},C=s=>{u.post(`/video-targets/${s}/retry`)};return e.jsxs(k,{breadcrumbs:N,children:[e.jsx(v,{title:`${a.name} - Channel`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:a.name}),a.is_default&&e.jsxs(r,{variant:"secondary",className:"flex items-center",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsx("p",{className:"text-muted-foreground",children:a.description||"Manage your social media connections and videos"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(c,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(t,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Video"]})}),e.jsx(c,{href:`/channels/${a.id}/edit`,children:e.jsxs(t,{variant:"outline",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Connections"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:p.map(s=>{const i=g[s.name],n=s.connected,l=s.coming_soon;return e.jsxs(d,{children:[e.jsxs(j,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:s.label}),e.jsx(i,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:l?e.jsx(r,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Coming Soon"}):e.jsx(r,{variant:n?"default":"secondary",className:n?"bg-green-100 text-green-800":"",children:n?"Connected":"Not Connected"})}),e.jsx("div",{className:"flex flex-col gap-2",children:l?e.jsxs("div",{className:"text-xs text-gray-500 text-center py-2",children:[e.jsx(A,{className:"w-4 h-4 mx-auto mb-1"}),"Upgrade to Pro to unlock ",s.label]}):n?e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"outline",size:"sm",onClick:()=>y(s.name),className:"w-full",children:"Disconnect"}),s.name==="youtube"&&e.jsx(t,{variant:"outline",size:"sm",onClick:()=>w(s.name),className:"w-full text-xs",children:"ðŸ”„ Force Reconnect"})]}):e.jsxs(t,{size:"sm",onClick:()=>b(s.name),className:"w-full",children:["Connect ",s.label]})})]})]},s.name)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Videos"}),e.jsx(c,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(t,{size:"sm",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Video"]})})]}),o.data.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.data.map(s=>e.jsxs(d,{children:[e.jsxs(j,{children:[e.jsx(f,{className:"text-base",children:s.title}),e.jsxs(S,{children:[Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")," â€¢ ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:s.thumbnail_path?e.jsx("img",{src:s.thumbnail_path,alt:s.title,className:"w-full h-full object-cover rounded-lg"}):e.jsx(h,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"space-y-2",children:s.targets.map((i,n)=>{const l=L[i.status];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[$.createElement(g[i.platform],{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm capitalize",children:i.platform})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(r,{className:E[i.status],children:[e.jsx(l,{className:"w-3 h-3 mr-1"}),i.status]}),i.status==="failed"&&e.jsx(t,{size:"sm",variant:"outline",onClick:()=>C(i.id),className:"text-xs px-2 py-1 h-auto",children:"Retry"})]})]},n)})}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(c,{href:`/videos/${s.id}`,children:e.jsx(t,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})}),e.jsx(c,{href:`/videos/${s.id}/edit`,children:e.jsx(t,{size:"sm",variant:"outline",className:"text-xs",children:"Edit"})})]})]})})]},s.id))}),o.links&&e.jsx("div",{className:"flex justify-center"})]}):e.jsx(d,{children:e.jsxs(m,{className:"text-center py-12",children:[e.jsx(h,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No videos yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your first video to this channel to get started."}),e.jsx(c,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(t,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Your First Video"]})})]})})]})]})]})}export{re as default};
