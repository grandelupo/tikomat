import{r as b,j as e,U as Ks,v as Hs,$ as Us,Y as Ds,m as Ze}from"./app-BFiUTBku.js";import{c as G,a as K,B as R}from"./createLucideIcon-RohjJ9o4.js";import{C as m,b as f,c as y,a as o,d as ps}from"./card-5mxLQbN1.js";import{I as Ke}from"./input-DWqUBByK.js";import{L as ce}from"./label-BBVlQIVJ.js";import{T as fs}from"./textarea-CdCDBn8d.js";import{u as Xs,c as Js,a as es,P as Qs}from"./index-BUA9khvn.js";import{u as Ws,b as Ys,c as ys,R as Zs,I as et,A as st,X as tt}from"./app-layout-QyeEvc09.js";import{P as We}from"./index-BbXKjqM5.js";import{B as u}from"./message-square-DDYvEGCO.js";import{D as ws,b as _s,c as ks,d as Ss,e as Cs,f as at}from"./dialog-BDxKbkNN.js";import{P as ee,A as Ie}from"./progress-BaQaE7p1.js";import{V as Ne}from"./video-CO6wlQm6.js";import{F as js}from"./file-text-Dniaat7K.js";import{I as ve,H as Xe,M as lt}from"./map-pin-CDgB5kM8.js";import{T as J}from"./trending-up-C2P-umwh.js";import{C as Me}from"./circle-x-CTIe7ZfI.js";import{C as xe}from"./circle-check-big-COnNNG8Q.js";import{C as fe,S as Ts}from"./workflow-BMO2-htw.js";import{C as ge}from"./circle-alert-BwFsYPeP.js";import{E as pe}from"./eye-CrNbcDF3.js";import{C as se}from"./clock-CHnCeQyi.js";import{Z as Se}from"./zap-49X_Xrbe.js";import{T as de,G as He,a as it}from"./timer-3kuPNcsl.js";import{T as Je}from"./triangle-alert-Cxa0Z7C0.js";import{S as Fe,a as Re,b as $e,d as Ve,e as ie}from"./select-CWnFDsnD.js";import{C as zs}from"./checkbox-DMKxGKQM.js";import{C as he}from"./calendar-CPllm1Rr.js";import{U as as}from"./user-DMKEXZZf.js";import{P as ls}from"./palette-BU8xStaz.js";import{P as Qe}from"./play-D5yaYsgL.js";import{S as Ue}from"./star-DrWXgHBo.js";import{D as is}from"./download-EyU-1R5-.js";import{C as rt}from"./crown-Pk63VPQS.js";import{S as rs}from"./shield-B4PhZlpG.js";import{U as ss}from"./users-B3f96zi8.js";import{M as nt}from"./message-circle-4KRGJAxq.js";import{M as ct}from"./monitor-DnPykuuy.js";import{S as ts}from"./search-1UQDgIpU.js";import{A as dt}from"./arrow-left-BF5NPKyb.js";import{T as mt}from"./trash-2-Cw4jLtIC.js";import{I as ot,Y as xt}from"./youtube-DjmNnXwP.js";import"./index-DrgaXBR0.js";import"./chevron-down-CWEE59KS.js";import"./check-avKHwHxw.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],gs=G("ArrowDown",ht);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ns=G("ArrowUp",pt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],be=G("Brain",jt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],us=G("Copy",gt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Nt=G("ExternalLink",ut);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Ns=G("Flame",bt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],ye=G("Heart",vt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],yt=G("Languages",ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ce=G("Lightbulb",wt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],cs=G("Mic",_t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M5 12h14",key:"1ays0h"}]],St=G("Minus",kt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],bs=G("Move",Ct);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],H=G("RefreshCw",Tt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],vs=G("Rocket",zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ot=G("Save",At);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],As=G("Share2",Pt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],It=G("Smartphone",Et);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Le=G("Sparkles",Mt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],Rt=G("Tablet",Ft);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],De=G("TestTube",$t);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Lt=G("TrendingDown",Vt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Bt=G("Trophy",qt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],ds=G("Type",Gt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ht=G("Volume2",Kt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],ke=G("WandSparkles",Ut);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Xt=G("ZoomIn",Dt);var Ye="Tabs",[Jt,nl]=Js(Ye,[ys]),Os=ys(),[Qt,ms]=Jt(Ye),Ps=b.forwardRef((r,l)=>{const{__scopeTabs:n,value:s,onValueChange:A,defaultValue:P,orientation:v="horizontal",dir:$,activationMode:I="automatic",...S}=r,k=Ws($),[j,O]=Xs({prop:s,onChange:A,defaultProp:P??"",caller:Ye});return e.jsx(Qt,{scope:n,baseId:Ys(),value:j,onValueChange:O,orientation:v,dir:k,activationMode:I,children:e.jsx(We.div,{dir:k,"data-orientation":v,...S,ref:l})})});Ps.displayName=Ye;var Es="TabsList",Is=b.forwardRef((r,l)=>{const{__scopeTabs:n,loop:s=!0,...A}=r,P=ms(Es,n),v=Os(n);return e.jsx(Zs,{asChild:!0,...v,orientation:P.orientation,dir:P.dir,loop:s,children:e.jsx(We.div,{role:"tablist","aria-orientation":P.orientation,...A,ref:l})})});Is.displayName=Es;var Ms="TabsTrigger",Fs=b.forwardRef((r,l)=>{const{__scopeTabs:n,value:s,disabled:A=!1,...P}=r,v=ms(Ms,n),$=Os(n),I=Vs(v.baseId,s),S=Ls(v.baseId,s),k=s===v.value;return e.jsx(et,{asChild:!0,...$,focusable:!A,active:k,children:e.jsx(We.button,{type:"button",role:"tab","aria-selected":k,"aria-controls":S,"data-state":k?"active":"inactive","data-disabled":A?"":void 0,disabled:A,id:I,...P,ref:l,onMouseDown:es(r.onMouseDown,j=>{!A&&j.button===0&&j.ctrlKey===!1?v.onValueChange(s):j.preventDefault()}),onKeyDown:es(r.onKeyDown,j=>{[" ","Enter"].includes(j.key)&&v.onValueChange(s)}),onFocus:es(r.onFocus,()=>{const j=v.activationMode!=="manual";!k&&!A&&j&&v.onValueChange(s)})})})});Fs.displayName=Ms;var Rs="TabsContent",$s=b.forwardRef((r,l)=>{const{__scopeTabs:n,value:s,forceMount:A,children:P,...v}=r,$=ms(Rs,n),I=Vs($.baseId,s),S=Ls($.baseId,s),k=s===$.value,j=b.useRef(k);return b.useEffect(()=>{const O=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(O)},[]),e.jsx(Qs,{present:A||k,children:({present:O})=>e.jsx(We.div,{"data-state":k?"active":"inactive","data-orientation":$.orientation,role:"tabpanel","aria-labelledby":I,hidden:!O,id:S,tabIndex:0,...v,ref:l,style:{...r.style,animationDuration:j.current?"0s":void 0},children:O&&P})})});$s.displayName=Rs;function Vs(r,l){return`${r}-trigger-${l}`}function Ls(r,l){return`${r}-content-${l}`}var Wt=Ps,qs=Is,Bs=Fs,Gs=$s;const we=Wt,ue=b.forwardRef(({className:r,...l},n)=>e.jsx(qs,{ref:n,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...l}));ue.displayName=qs.displayName;const T=b.forwardRef(({className:r,...l},n)=>e.jsx(Bs,{ref:n,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...l}));T.displayName=Bs.displayName;const z=b.forwardRef(({className:r,...l},n)=>e.jsx(Gs,{ref:n,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...l}));z.displayName=Gs.displayName;const Yt=b.createContext(void 0);function qe(){const r=b.useContext(Yt);return r===void 0?{toast:()=>{},dismiss:()=>{},toasts:[]}:r}function Zt({videoPath:r,onAnalysisComplete:l,className:n}){var C,E,V,U,a,t,i,c,h,N,d,g,B,Q,ae,me,oe,te,re,ne,le,x,M,D,Z,je,Te,ze,Ae,Oe,Pe,Ee,w,p,F,W,Be,Ge,os,xs,hs;const[s,A]=b.useState(null),[P,v]=b.useState(!1),[$,I]=b.useState("overview"),{toast:S}=qe(),k=async()=>{var q;if(!r){S({title:"No Video Selected",description:"Please upload a video first before analyzing.",variant:"destructive"});return}v(!0);try{const Y=await fetch("/ai/analyze-video",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((q=document.querySelector('meta[name="csrf-token"]'))==null?void 0:q.getAttribute("content"))||""},body:JSON.stringify({video_path:r})}),_e=await Y.json();_e.success?(A(_e.data),l==null||l(_e.data),S({title:"Analysis Complete! 🎬",description:"AI has analyzed your video and extracted valuable insights."})):Y.status===404?S({title:"Video File Not Found",description:"The video file associated with this record could not be found. Please re-upload the video.",variant:"destructive"}):S({title:"Analysis Failed",description:_e.message||"Failed to analyze video. Please try again.",variant:"destructive"})}catch(Y){console.error("Video analysis error:",Y),S({title:"Analysis Failed",description:"Failed to analyze video. Please try again.",variant:"destructive"})}finally{v(!1)}},j=q=>{const Y=Math.floor(q/60),_e=Math.floor(q%60);return`${Y}:${_e.toString().padStart(2,"0")}`},O=q=>`${(q/1048576).toFixed(1)} MB`,L=q=>q>=80?"text-green-600 bg-green-100":q>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",X=q=>({positive:"😊",energetic:"⚡",calm:"😌",professional:"💼",casual:"😎",inspirational:"✨",neutral:"😐"})[q]||"😐",_=q=>({educational:"📚",entertainment:"🎭",gaming:"🎮",lifestyle:"🏠",fitness:"💪",food:"🍳",travel:"✈️",tech:"💻",music:"🎵",fashion:"👗",business:"💼",diy:"🔨",general:"📹"})[q]||"📹";return!s&&!P?e.jsxs(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",n),children:[e.jsxs(f,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full w-fit",children:e.jsx(be,{className:"w-8 h-8 text-white"})}),e.jsx(y,{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI Video Analyzer"}),e.jsx("p",{className:"text-gray-600",children:"Get comprehensive insights about your video content using advanced AI analysis"})]}),e.jsxs(o,{className:"text-center space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(Ne,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Video Quality"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(js,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Transcription"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(ve,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Scene Analysis"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(J,{className:"w-6 h-6 text-pink-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Engagement Prediction"})]})]}),e.jsxs(R,{onClick:k,disabled:!r,size:"lg",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),"Start AI Analysis"]}),!r&&e.jsx("p",{className:"text-sm text-gray-500",children:"Upload a video first to enable AI analysis"})]})]}):P?e.jsx(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",n),children:e.jsxs(o,{className:"p-8 text-center space-y-6",children:[e.jsx("div",{className:"mx-auto p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full w-fit animate-pulse",children:e.jsx(be,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Analyzing Your Video..."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Our AI is processing your video to extract valuable insights"}),e.jsx(ee,{value:75,className:"w-full max-w-md mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-purple-600"}),e.jsx("span",{children:"Extracting audio..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-blue-600"}),e.jsx("span",{children:"Analyzing scenes..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-green-600"}),e.jsx("span",{children:"Predicting engagement..."})]})]})]})}):!s||!s.basic_info?e.jsx(m,{className:K("border-2 border-red-200 bg-red-50",n),children:e.jsxs(o,{className:"p-8 text-center",children:[e.jsx(Me,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Analysis Error"}),e.jsx("p",{className:"text-red-600 mb-4",children:"The video analysis data is incomplete or corrupted."}),e.jsxs(R,{onClick:k,variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})}):e.jsxs(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",n),children:[e.jsx(f,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg",children:e.jsx(be,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI Video Analysis Results"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive insights powered by artificial intelligence"})]})]}),e.jsxs(R,{onClick:k,disabled:P,size:"sm",variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Re-analyze"]})]})}),e.jsxs(o,{children:[e.jsxs(we,{value:$,onValueChange:I,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-6",children:[e.jsx(T,{value:"overview",children:"Overview"}),e.jsx(T,{value:"quality",children:"Quality"}),e.jsx(T,{value:"content",children:"Content"}),e.jsx(T,{value:"engagement",children:"Engagement"}),e.jsx(T,{value:"thumbnails",children:"Thumbnails"}),e.jsx(T,{value:"chapters",children:"Chapters"})]}),e.jsxs(z,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),"Video Information"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsx("span",{className:"font-medium",children:j(((C=s.basic_info)==null?void 0:C.duration)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Resolution:"}),e.jsxs("span",{className:"font-medium",children:[((E=s.basic_info)==null?void 0:E.width)||0,"×",((V=s.basic_info)==null?void 0:V.height)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"File Size:"}),e.jsx("span",{className:"font-medium",children:O(((U=s.basic_info)==null?void 0:U.file_size)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Audio:"}),e.jsx(u,{variant:(a=s.basic_info)!=null&&a.has_audio?"default":"destructive",children:(t=s.basic_info)!=null&&t.has_audio?"Present":"Missing"})]})]})]}),e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5"}),"Content Analysis"]})}),e.jsxs(o,{className:"space-y-3",children:[s.content_category&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsxs(u,{className:"bg-blue-100 text-blue-800",children:[_(s.content_category.primary_category)," ",s.content_category.primary_category]})]}),s.mood_analysis&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Mood:"}),e.jsxs(u,{className:"bg-green-100 text-green-800",children:[X(s.mood_analysis.dominant_mood)," ",s.mood_analysis.dominant_mood]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Transcript:"}),e.jsx(u,{variant:(i=s.transcript)!=null&&i.success?"default":"destructive",children:(c=s.transcript)!=null&&c.success?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-3 h-3 mr-1"}),"Available"]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),"Failed"]})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Content Tags:"}),e.jsxs("span",{className:"font-medium",children:[((h=s.content_tags)==null?void 0:h.length)||0," tags"]})]})]})]})]}),e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"Overall Scores"]})}),e.jsx(o,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:K("text-3xl font-bold p-4 rounded-lg mb-2",L(((N=s.quality_score)==null?void 0:N.overall_score)||0)),children:[((d=s.quality_score)==null?void 0:d.overall_score)||0,"/100"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Video Quality"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:K("text-3xl font-bold p-4 rounded-lg mb-2",L(((g=s.engagement_predictions)==null?void 0:g.engagement_score)||0)),children:[((B=s.engagement_predictions)==null?void 0:B.engagement_score)||0,"/100"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Engagement Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold p-4 bg-purple-100 text-purple-800 rounded-lg mb-2",children:((Q=s.engagement_predictions)==null?void 0:Q.virality_potential)||"Unknown"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Virality Potential"})]})]})})]})]}),e.jsx(z,{value:"quality",className:"space-y-4",children:e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"w-5 h-5"}),"Quality Assessment"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Resolution Quality"}),e.jsxs("span",{className:"font-medium",children:[((ae=s.quality_score)==null?void 0:ae.resolution_score)||0,"/100"]})]}),e.jsx(ee,{value:((me=s.quality_score)==null?void 0:me.resolution_score)||0,className:"mb-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Audio Quality"}),e.jsxs("span",{className:"font-medium",children:[((oe=s.quality_score)==null?void 0:oe.audio_score)||0,"/100"]})]}),e.jsx(ee,{value:((te=s.quality_score)==null?void 0:te.audio_score)||0,className:"mb-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{children:"Bitrate Quality"}),e.jsxs("span",{className:"font-medium",children:[((re=s.quality_score)==null?void 0:re.bitrate_score)||0,"/100"]})]}),e.jsx(ee,{value:((ne=s.quality_score)==null?void 0:ne.bitrate_score)||0,className:"mb-2"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(ge,{className:"w-4 h-4"}),"Improvement Suggestions"]}),e.jsx("div",{className:"space-y-2",children:(((le=s.quality_score)==null?void 0:le.suggestions)||[]).map((q,Y)=>e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-blue-800",children:q})]},Y))})]})]})]})}),e.jsx(z,{value:"content",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-6",children:[((x=s.transcript)==null?void 0:x.success)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5"}),"Transcript"]})}),e.jsx(o,{children:e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-40 overflow-y-auto",children:e.jsx("p",{className:"text-sm text-gray-700",children:((M=s.transcript)==null?void 0:M.text)||"No transcript available"})})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),"Content Tags"]})}),e.jsx(o,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(s.content_tags||[]).map((q,Y)=>e.jsx(u,{variant:"outline",children:q},Y))})})]})]})}),e.jsx(z,{value:"engagement",className:"space-y-4",children:e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Engagement Predictions"]})}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(pe,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:(((Z=(D=s.engagement_predictions)==null?void 0:D.predicted_views)==null?void 0:Z.expected)||0).toLocaleString()}),e.jsx("p",{className:"text-sm text-blue-600",children:"Expected Views"})]}),e.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[e.jsx(ye,{className:"w-8 h-8 text-pink-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-pink-800",children:(((Te=(je=s.engagement_predictions)==null?void 0:je.predicted_likes)==null?void 0:Te.expected)||0).toLocaleString()}),e.jsx("p",{className:"text-sm text-pink-600",children:"Expected Likes"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(As,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-800",children:(((Ae=(ze=s.engagement_predictions)==null?void 0:ze.predicted_shares)==null?void 0:Ae.expected)||0).toLocaleString()}),e.jsx("p",{className:"text-sm text-green-600",children:"Expected Shares"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Prediction Ranges"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Views"}),e.jsxs("span",{children:[(((Pe=(Oe=s.engagement_predictions)==null?void 0:Oe.predicted_views)==null?void 0:Pe.conservative)||0).toLocaleString()," - ",(((w=(Ee=s.engagement_predictions)==null?void 0:Ee.predicted_views)==null?void 0:w.optimistic)||0).toLocaleString()]})]}),e.jsx(ee,{value:60,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Likes"}),e.jsxs("span",{children:[(((F=(p=s.engagement_predictions)==null?void 0:p.predicted_likes)==null?void 0:F.conservative)||0).toLocaleString()," - ",(((Be=(W=s.engagement_predictions)==null?void 0:W.predicted_likes)==null?void 0:Be.optimistic)||0).toLocaleString()]})]}),e.jsx(ee,{value:60,className:"h-2"})]})]})]})]})]})}),e.jsx(z,{value:"thumbnails",className:"space-y-4",children:e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5"}),"Thumbnail Suggestions"]})}),e.jsx(o,{children:(Ge=s.suggested_thumbnails)!=null&&Ge.error?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ve,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Thumbnail analysis not available"}),e.jsx("p",{className:"text-sm",children:s.suggested_thumbnails.error})]}):e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:(((os=s.suggested_thumbnails)==null?void 0:os.best_thumbnails)||[]).map((q,Y)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-3 flex items-center justify-center",children:e.jsx(ve,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(u,{className:"mb-2",children:["Score: ",Math.round(q.recommendation_score)]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["At ",j(q.timestamp)]})]})]},Y))})})]})}),e.jsx(z,{value:"chapters",className:"space-y-4",children:e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Auto-Generated Chapters"]})}),e.jsx(o,{children:(((xs=s.auto_chapters)==null?void 0:xs.length)||0)===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(se,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No chapters detected"}),e.jsx("p",{className:"text-sm",children:"Video may be too short or lack clear segment divisions"})]}):e.jsx("div",{className:"space-y-3",children:(s.auto_chapters||[]).map((q,Y)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(u,{variant:"outline",className:"mt-1",children:j(q.start_time)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:q.title}),e.jsx("p",{className:"text-sm text-gray-600",children:q.description})]})]},Y))})})]})})]}),s.status==="partial_analysis"&&((hs=s.errors)==null?void 0:hs.length)&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ge,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h4",{className:"font-medium text-yellow-800",children:"Partial Analysis"})]}),e.jsx("div",{className:"space-y-1",children:(s.errors||[]).map((q,Y)=>e.jsx("p",{className:"text-sm text-yellow-700",children:q},Y))})]})]})]})}function ea({title:r,description:l,platforms:n,onTitleChange:s,onDescriptionChange:A,onTagsUpdate:P,className:v}){const[$,I]=b.useState({}),[S,k]=b.useState(!1),[j,O]=b.useState(n[0]||"youtube"),[L,X]=b.useState(!0),[_,C]=b.useState({}),{toast:E}=qe(),V={youtube:"🔴",instagram:"📸",tiktok:"🎵",facebook:"👥",twitter:"🐦",snapchat:"👻",pinterest:"📌"},U=async()=>{var N;if(!r.trim()){E({title:"Title Required",description:"Please enter a title before optimizing your content.",variant:"destructive"});return}k(!0);try{const g=await(await fetch("/ai/optimize-content",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((N=document.querySelector('meta[name="csrf-token"]'))==null?void 0:N.getAttribute("content"))||""},body:JSON.stringify({title:r,description:l,platforms:n})})).json();if(g.success)I(g.data),X(!0),E({title:"Content Optimized! ✨",description:"AI has generated optimized content for your selected platforms."});else throw new Error(g.message||"Failed to optimize content")}catch(d){console.error("Optimization error:",d),E({title:"Optimization Failed",description:"Failed to optimize content. Please try again.",variant:"destructive"})}finally{k(!1)}},a=async N=>{var d;try{const B=await(await fetch("/ai/generate-hashtags",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""},body:JSON.stringify({platform:N,content:`${r} ${l}`,count:N==="instagram"?20:N==="tiktok"?8:10})})).json();B.success&&(P(N,B.data),E({title:"Hashtags Generated! #️⃣",description:`Generated trending hashtags for ${N}`}))}catch(g){console.error("Hashtag generation error:",g),E({title:"Generation Failed",description:"Failed to generate hashtags. Please try again.",variant:"destructive"})}},t=(N,d)=>{const g=$[N];g&&(d==="title"?s(g.title):A(g.description),E({title:"Applied Successfully! ✅",description:`Applied AI-optimized ${d} for ${N}`}))},i=async(N,d)=>{try{await navigator.clipboard.writeText(N),C(g=>({...g,[d]:!0})),setTimeout(()=>{C(g=>({...g,[d]:!1}))},2e3),E({title:"Copied! 📋",description:"Content copied to clipboard"})}catch{E({title:"Copy Failed",description:"Failed to copy to clipboard",variant:"destructive"})}},c=N=>N>=80?"text-green-600 bg-green-100":N>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",h=$[j];return e.jsxs(m,{className:K("border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50",v),children:[e.jsx(f,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg",children:e.jsx(Le,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Content Optimization"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Get 3x more views with AI-powered optimization"})]})]}),e.jsx(R,{onClick:U,disabled:S||!r.trim(),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:S?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Optimize Content"]})})]})}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>a(j),className:"text-xs",children:[e.jsx(Xe,{className:"w-3 h-3 mr-1"}),"Generate Tags"]}),e.jsxs(R,{variant:"outline",size:"sm",onClick:U,disabled:S,className:"text-xs",children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),"SEO Boost"]}),e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>{},className:"text-xs",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),"Best Times"]}),e.jsxs(R,{variant:"outline",size:"sm",onClick:()=>X(!L),className:"text-xs",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Tips"]})]}),n.length>1&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Select Platform for Optimization"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(N=>e.jsxs(R,{variant:j===N?"default":"outline",size:"sm",onClick:()=>O(N),className:K("text-xs capitalize",j===N&&"bg-gradient-to-r from-blue-600 to-purple-600"),children:[e.jsx("span",{className:"mr-1",children:V[N]}),N]},N))})]}),h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium",children:"Optimization Score"})]}),e.jsxs(u,{className:K("font-bold",c(h.optimization_score)),children:[h.optimization_score,"/100"]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"font-medium",children:"AI-Optimized Title"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>i(h.title,"title"),children:_.title?e.jsx(xe,{className:"w-4 h-4 text-green-600"}):e.jsx(us,{className:"w-4 h-4"})}),e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>t(j,"title"),children:e.jsx(Se,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800",children:h.title})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"font-medium",children:"AI-Optimized Description"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>i(h.description,"description"),children:_.description?e.jsx(xe,{className:"w-4 h-4 text-green-600"}):e.jsx(us,{className:"w-4 h-4"})}),e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>t(j,"description"),children:e.jsx(Se,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg max-h-32 overflow-y-auto",children:e.jsx("p",{className:"text-sm text-green-800 whitespace-pre-wrap",children:h.description})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"font-medium",children:"Trending Tags"}),e.jsxs(R,{variant:"ghost",size:"sm",onClick:()=>P(j,h.tags),children:[e.jsx(de,{className:"w-4 h-4 mr-1"}),"Apply Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.tags.map((N,d)=>e.jsx(u,{variant:"secondary",className:"cursor-pointer hover:bg-blue-100",onClick:()=>i(N,`tag-${d}`),children:N},d))})]})]})]}),L&&h&&e.jsxs("div",{className:"space-y-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"AI Suggestions"})]}),e.jsx("div",{className:"space-y-2",children:h.suggestions.map((N,d)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-800",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-1.5 flex-shrink-0"}),e.jsx("span",{children:N})]},d))}),h.platform_specific_tips.length>0&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-blue-200",children:[e.jsxs("h5",{className:"font-medium text-blue-900 mb-2 capitalize",children:[j," Pro Tips"]}),e.jsx("div",{className:"space-y-1",children:h.platform_specific_tips.map((N,d)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-700",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"}),e.jsx("span",{children:N})]},d))})]})]}),!h&&e.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg border-2 border-dashed border-blue-300",children:[e.jsx(Le,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Ready to Optimize Your Content?"}),e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Our AI will analyze your content and generate platform-specific optimizations to maximize your reach and engagement."}),e.jsxs(R,{onClick:U,disabled:S||!r.trim(),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Start AI Optimization"]})]})]})]})}var sa=Object.defineProperty,ta=(r,l,n)=>l in r?sa(r,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[l]=n,aa=(r,l,n)=>ta(r,l+"",n);class la extends Ks.Component{constructor(l){super(l),aa(this,"resetError",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})}),this.state={hasError:!1}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,n){console.error("Error Boundary caught an error:",l,n),this.setState({error:l,errorInfo:n})}render(){if(this.state.hasError){if(this.props.fallback){const l=this.props.fallback;return e.jsx(l,{error:this.state.error,resetError:this.resetError})}return e.jsx(m,{className:"border-2 border-red-200 bg-red-50",children:e.jsxs(o,{className:"p-8 text-center",children:[e.jsx("div",{className:"mx-auto p-3 bg-red-100 rounded-full w-fit mb-4",children:e.jsx(Je,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-red-600 mb-4",children:"An unexpected error occurred while rendering this component."}),!1,e.jsxs(R,{onClick:this.resetError,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})}return this.props.children}}function ia({videoId:r,className:l}){var a,t,i,c,h,N,d,g,B,Q,ae,me,oe,te,re,ne,le,x,M,D,Z,je,Te,ze,Ae,Oe,Pe,Ee;const[n,s]=b.useState(null),[A,P]=b.useState(!1),[v,$]=b.useState("overview"),[I,S]=b.useState(!1),[k,j]=b.useState(null),{toast:O}=qe(),L=async()=>{var w;if(!r){O({title:"No Video Selected",description:"Please select a video to analyze performance.",variant:"destructive"});return}P(!0);try{const F=await(await fetch("/ai/analyze-video-performance",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((w=document.querySelector('meta[name="csrf-token"]'))==null?void 0:w.getAttribute("content"))||""},body:JSON.stringify({video_id:r})})).json();if(F.success)s(F.data),O({title:"Performance Analysis Complete! 📊",description:"AI has analyzed your video performance across all platforms."});else throw new Error(F.message||"Failed to analyze performance")}catch(p){console.error("Performance analysis error:",p),O({title:"Analysis Failed",description:"Failed to analyze video performance. Please try again.",variant:"destructive"})}finally{P(!1)}},X=async w=>{var p;try{const W=await(await fetch("/ai/create-ab-test",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"))||""},body:JSON.stringify({video_id:r,...w})})).json();if(W.success)O({title:"A/B Test Created! 🧪",description:"Your A/B test has been set up and will start collecting data."}),S(!1);else throw new Error(W.message||"Failed to create A/B test")}catch(F){console.error("A/B test creation error:",F),O({title:"A/B Test Failed",description:"Failed to create A/B test. Please try again.",variant:"destructive"})}},_=w=>w>=1e6?`${(w/1e6).toFixed(1)}M`:w>=1e3?`${(w/1e3).toFixed(1)}K`:w.toString(),C=w=>{switch(w){case"excellent":return"text-green-600 bg-green-100";case"good":return"text-blue-600 bg-blue-100";case"average":return"text-yellow-600 bg-yellow-100";case"needs_improvement":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},E=w=>{switch(w){case"increasing":return e.jsx(J,{className:"w-4 h-4 text-green-600"});case"decreasing":return e.jsx(Lt,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Ie,{className:"w-4 h-4 text-blue-600"})}},V=w=>({youtube:"📺",instagram:"📷",tiktok:"🎵",twitter:"🐦",facebook:"👥"})[w]||"📱",U=w=>{switch(w){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return!n&&!A?e.jsxs(m,{className:K("border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50",l),children:[e.jsxs(f,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full w-fit",children:e.jsx(fe,{className:"w-8 h-8 text-white"})}),e.jsx(y,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI Performance Optimizer"}),e.jsx("p",{className:"text-gray-600",children:"Analyze your video performance and get AI-powered optimization recommendations"})]}),e.jsxs(o,{className:"text-center space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(J,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Performance Analysis"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(de,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Optimization Tips"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(De,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"A/B Testing"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(he,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Timing Optimization"})]})]}),e.jsxs(R,{onClick:L,disabled:!r,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(fe,{className:"w-5 h-5 mr-2"}),"Start Performance Analysis"]}),!r&&e.jsx("p",{className:"text-sm text-gray-500",children:"Select a video first to enable performance analysis"})]})]}):A?e.jsx(m,{className:K("border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50",l),children:e.jsxs(o,{className:"p-8 text-center space-y-6",children:[e.jsx("div",{className:"mx-auto p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full w-fit animate-pulse",children:e.jsx(fe,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Analyzing Performance..."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"AI is analyzing your video performance across all platforms"}),e.jsx(ee,{value:85,className:"w-full max-w-md mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-blue-600"}),e.jsx("span",{children:"Analyzing metrics..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-purple-600"}),e.jsx("span",{children:"Finding opportunities..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-green-600"}),e.jsx("span",{children:"Generating recommendations..."})]})]})]})}):!n||!n.overall_performance||!n.comparative_analysis||!n.platform_breakdown||!n.trend_analysis?e.jsx(m,{className:K("border-2 border-red-200 bg-gradient-to-br from-red-50 to-orange-50",l),children:e.jsxs(o,{className:"p-8 text-center space-y-4",children:[e.jsx(Je,{className:"w-12 h-12 text-red-500 mx-auto"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Analysis Data Incomplete"}),e.jsx("p",{className:"text-red-600 mb-4",children:"The performance analysis data is incomplete or missing."}),e.jsxs(R,{onClick:L,variant:"outline",className:"border-red-300 text-red-700",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})]})}):e.jsxs(m,{className:K("border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50",l),children:[e.jsx(f,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg",children:e.jsx(fe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Performance Analysis Results"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered performance insights and optimization recommendations"})]})]}),e.jsxs(R,{onClick:L,disabled:A,size:"sm",variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Re-analyze"]})]})}),e.jsxs(o,{children:[e.jsxs(we,{value:v,onValueChange:$,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-6",children:[e.jsx(T,{value:"overview",children:"Overview"}),e.jsx(T,{value:"platforms",children:"Platforms"}),e.jsx(T,{value:"opportunities",children:"Opportunities"}),e.jsx(T,{value:"trends",children:"Trends"}),e.jsx(T,{value:"timing",children:"Timing"}),e.jsx(T,{value:"testing",children:"A/B Testing"})]}),e.jsxs(z,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5"}),"Total Performance"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[n.performance_score,"/100"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Performance Score"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Views:"}),e.jsx("span",{className:"font-medium",children:_(((a=n.overall_performance)==null?void 0:a.total_views)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Engagement Rate:"}),e.jsxs("span",{className:"font-medium",children:[((t=n.overall_performance)==null?void 0:t.engagement_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Performance Tier:"}),e.jsx(u,{className:C(((i=n.overall_performance)==null?void 0:i.performance_tier)||"unknown"),children:(((c=n.overall_performance)==null?void 0:c.performance_tier)||"unknown").replace("_"," ")})]})]})]}),e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Industry Comparison"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Views vs Industry:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[(((N=(h=n.comparative_analysis)==null?void 0:h.views_vs_industry)==null?void 0:N.performance)||"below_average")==="above_average"?e.jsx(ns,{className:"w-3 h-3 text-green-600"}):e.jsx(gs,{className:"w-3 h-3 text-red-600"}),e.jsxs("span",{className:K("text-sm font-medium",(((g=(d=n.comparative_analysis)==null?void 0:d.views_vs_industry)==null?void 0:g.performance)||"below_average")==="above_average"?"text-green-600":"text-red-600"),children:[Math.abs(((Q=(B=n.comparative_analysis)==null?void 0:B.views_vs_industry)==null?void 0:Q.difference_percentage)||0),"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Engagement vs Industry:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[(((me=(ae=n.comparative_analysis)==null?void 0:ae.engagement_vs_industry)==null?void 0:me.performance)||"below_average")==="above_average"?e.jsx(ns,{className:"w-3 h-3 text-green-600"}):e.jsx(gs,{className:"w-3 h-3 text-red-600"}),e.jsxs("span",{className:K("text-sm font-medium",(((te=(oe=n.comparative_analysis)==null?void 0:oe.engagement_vs_industry)==null?void 0:te.performance)||"below_average")==="above_average"?"text-green-600":"text-red-600"),children:[Math.abs(((ne=(re=n.comparative_analysis)==null?void 0:re.engagement_vs_industry)==null?void 0:ne.difference_percentage)||0),"%"]})]})]})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Growth Potential:"}),e.jsxs("div",{className:"text-lg font-medium text-purple-600",children:[_(((x=(le=n.comparative_analysis)==null?void 0:le.growth_potential)==null?void 0:x.views_growth_potential)||0)," more views"]})]})]})]}),e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5"}),"Improvement Potential"]})}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[n.improvement_potential,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Improvement Potential"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Platforms:"}),e.jsx("span",{className:"font-medium",children:((M=n.overall_performance)==null?void 0:M.platform_count)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Days Since Upload:"}),e.jsx("span",{className:"font-medium",children:((D=n.overall_performance)==null?void 0:D.days_since_upload)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lifecycle Stage:"}),e.jsx(u,{variant:"outline",children:((Z=n.trend_analysis)==null?void 0:Z.lifecycle_stage)||"unknown"})]})]})]})]}),e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),"Platform Performance Overview"]})}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(n.platform_breakdown||{}).map(([w,p])=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:V(w)}),e.jsx("div",{className:"font-medium capitalize mb-1",children:w}),e.jsxs("div",{className:"text-sm text-gray-600",children:["#",(p==null?void 0:p.ranking)||0]}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[(p==null?void 0:p.performance_score)||0,"/100"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[_((p==null?void 0:p.views)||0)," views"]})]},w))})})]})]}),e.jsx(z,{value:"platforms",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:Object.entries(n.platform_breakdown||{}).map(([w,p])=>e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:V(w)}),e.jsx("span",{className:"capitalize",children:w}),e.jsxs(u,{className:"ml-2",children:["#",(p==null?void 0:p.ranking)||0]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(p==null?void 0:p.performance_score)||0,"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Performance Score"})]})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(pe,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:_((p==null?void 0:p.views)||0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Views"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx(ye,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:_((p==null?void 0:p.engagement)||0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Engagement"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx(J,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[(p==null?void 0:p.engagement_rate)||0,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Engagement Rate"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[((p==null?void 0:p.strengths)||[]).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-green-700 mb-2 flex items-center gap-2",children:[e.jsx(Bt,{className:"w-4 h-4"}),"Strengths"]}),e.jsx("ul",{className:"space-y-1",children:((p==null?void 0:p.strengths)||[]).map((F,W)=>e.jsxs("li",{className:"text-sm text-green-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mt-2 flex-shrink-0"}),F]},W))})]}),((p==null?void 0:p.weaknesses)||[]).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-red-700 mb-2 flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4"}),"Areas for Improvement"]}),e.jsx("ul",{className:"space-y-1",children:((p==null?void 0:p.weaknesses)||[]).map((F,W)=>e.jsxs("li",{className:"text-sm text-red-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-red-400 rounded-full mt-2 flex-shrink-0"}),F]},W))})]})]}),((p==null?void 0:p.recommendations)||[]).length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-blue-700 mb-2 flex items-center gap-2",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Recommendations"]}),e.jsx("div",{className:"space-y-2",children:((p==null?void 0:p.recommendations)||[]).map((F,W)=>e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx("span",{className:"text-sm text-blue-800",children:F})},W))})]})]})]},w))})}),e.jsx(z,{value:"opportunities",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:Object.entries(n.optimization_opportunities||{}).map(([w,p])=>e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:V(w)}),e.jsxs("span",{className:"capitalize",children:[w," Opportunities"]})]})}),e.jsx(o,{className:"space-y-4",children:(p||[]).map((F,W)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),(F==null?void 0:F.title)||"Untitled"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(F==null?void 0:F.description)||"No description available"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{className:U((F==null?void 0:F.priority)||"low"),children:(F==null?void 0:F.priority)||"low"}),e.jsxs(u,{variant:"outline",children:[(F==null?void 0:F.potential_impact)||"unknown"," impact"]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Action Steps:"}),e.jsx("div",{className:"space-y-1",children:((F==null?void 0:F.actions)||[]).map((Be,Ge)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),Be]},Ge))})]})]},W))})]},w))})}),e.jsx(z,{value:"trends",className:"space-y-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5"}),"Trend Analysis"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Trend Direction:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[E(((je=n.trend_analysis)==null?void 0:je.trend_direction)||"stable"),e.jsx("span",{className:"font-medium capitalize",children:((Te=n.trend_analysis)==null?void 0:Te.trend_direction)||"stable"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Daily Avg Views:"}),e.jsx("span",{className:"font-medium",children:_(((ze=n.trend_analysis)==null?void 0:ze.daily_average_views)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Momentum Score:"}),e.jsxs("span",{className:"font-medium",children:[((Ae=n.trend_analysis)==null?void 0:Ae.momentum_score)||0,"/100"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Lifecycle Stage:"}),e.jsx(u,{variant:"outline",children:((Oe=n.trend_analysis)==null?void 0:Oe.lifecycle_stage)||"unknown"})]})]})]}),e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Performance Projections"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_(((Pe=n.trend_analysis)==null?void 0:Pe.projected_30_day_views)||0)}),e.jsx("div",{className:"text-sm text-blue-600",children:"Projected 30-Day Views"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Peak Performance Day:"}),e.jsxs("span",{className:"font-medium",children:["Day ",((Ee=n.trend_analysis)==null?void 0:Ee.peak_performance_day)||0]})]})]})]})]})}),e.jsx(z,{value:"timing",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:Object.entries(n.posting_time_optimization||{}).map(([w,p])=>e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:V(w)}),e.jsxs("span",{className:"capitalize",children:[w," Timing Optimization"]})]})}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Current Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Posted at:"}),e.jsx("span",{className:"font-medium",children:(p==null?void 0:p.current_posting_time)||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Day type:"}),e.jsx("span",{className:"font-medium",children:(p==null?void 0:p.current_day_type)||"unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Improvement potential:"}),e.jsx(u,{className:U((p==null?void 0:p.improvement_potential)||"low"),children:(p==null?void 0:p.improvement_potential)||"low"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Optimal Times"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Best time:"}),e.jsx("span",{className:"font-medium text-green-600",children:(p==null?void 0:p.best_time)||"unknown"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"All optimal times:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:((p==null?void 0:p.optimal_times)||[]).map((F,W)=>e.jsx(u,{variant:"outline",className:"text-xs",children:F},W))})]})]})]})})]},w))})}),e.jsx(z,{value:"testing",className:"space-y-4",children:e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5"}),"A/B Testing Suggestions"]})}),e.jsx(o,{className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:(n.ab_test_suggestions||[]).map((w,p)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(De,{className:"w-4 h-4"}),(w==null?void 0:w.title)||"Untitled Test"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(w==null?void 0:w.description)||"No description available"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{className:U((w==null?void 0:w.priority)||"low"),children:(w==null?void 0:w.priority)||"low"}),e.jsx(R,{size:"sm",onClick:()=>{j(w),S(!0)},children:"Start Test"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Test Variations:"}),e.jsx("div",{className:"space-y-1",children:((w==null?void 0:w.test_variations)||[]).map((F,W)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),F]},W))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Success Metrics:"}),e.jsx("div",{className:"space-y-1",children:((w==null?void 0:w.success_metrics)||[]).map((F,W)=>e.jsx(u,{variant:"outline",className:"text-xs mr-1",children:F.replace("_"," ")},W))}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Duration: ",(w==null?void 0:w.duration)||"Unknown"]})]})]})]},p))})})]})})]}),e.jsx(ws,{open:I,onOpenChange:S,children:e.jsxs(_s,{className:"max-w-md",children:[e.jsxs(ks,{children:[e.jsx(Ss,{children:"Create A/B Test"}),e.jsxs(Cs,{children:['Set up an A/B test for "',k==null?void 0:k.title,'"']})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Test Duration (days)"}),e.jsxs(Fe,{defaultValue:"14",children:[e.jsx(Re,{children:e.jsx($e,{})}),e.jsxs(Ve,{children:[e.jsx(ie,{value:"7",children:"7 days"}),e.jsx(ie,{value:"14",children:"14 days"}),e.jsx(ie,{value:"21",children:"21 days"}),e.jsx(ie,{value:"30",children:"30 days"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Success Metrics"}),e.jsx("div",{className:"space-y-2",children:((k==null?void 0:k.success_metrics)||[]).map((w,p)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{id:`metric-${p}`,defaultChecked:!0}),e.jsx("label",{htmlFor:`metric-${p}`,className:"text-sm",children:w.replace("_"," ")})]},p))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(R,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e.jsx(R,{onClick:()=>X({test_type:k==null?void 0:k.test_type,test_variations:k==null?void 0:k.test_variations,success_metrics:k==null?void 0:k.success_metrics,test_duration_days:14}),children:"Create Test"})]})]})]})})]})]})}function ra({videoId:r,videoPath:l,title:n,className:s}){const[A,P]=b.useState(null),[v,$]=b.useState(!1),[I,S]=b.useState(null),[k,j]=b.useState("suggestions"),{toast:O}=qe(),L=async()=>{var _;if(!l){O({title:"No Video Path",description:"Please provide a video path to optimize thumbnails.",variant:"destructive"});return}$(!0);try{const E=await(await fetch("/ai/optimize-thumbnails",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((_=document.querySelector('meta[name="csrf-token"]'))==null?void 0:_.getAttribute("content"))||""},body:JSON.stringify({video_path:l,title:n||"Amazing Video",platforms:["youtube","instagram","tiktok"]})})).json();if(E.success)P(E.data),O({title:"Thumbnail Optimization Complete! 🎨",description:"AI has analyzed your video frames and generated thumbnail recommendations."});else throw new Error(E.message||"Failed to optimize thumbnails")}catch(C){console.error("Thumbnail optimization error:",C),O({title:"Optimization Failed",description:"Failed to optimize thumbnails. Please try again.",variant:"destructive"})}finally{$(!1)}},X=async _=>{var C;try{(await(await fetch("/ai/generate-optimized-thumbnail",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((C=document.querySelector('meta[name="csrf-token"]'))==null?void 0:C.getAttribute("content"))||""},body:JSON.stringify({frame_id:_,optimizations:["add_text","enhance_contrast","resize_platform"]})})).json()).success&&O({title:"Thumbnail Generated! 🖼️",description:"Your optimized thumbnail is ready for download."})}catch(E){console.error("Thumbnail generation error:",E),O({title:"Generation Failed",description:"Failed to generate optimized thumbnail.",variant:"destructive"})}};return!A&&!v?e.jsxs(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",s),children:[e.jsxs(f,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto p-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full w-fit",children:e.jsx(ve,{className:"w-8 h-8 text-white"})}),e.jsx(y,{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Thumbnail Optimizer"}),e.jsx("p",{className:"text-gray-600",children:"Generate eye-catching thumbnails with AI-powered optimization and CTR predictions"})]}),e.jsxs(o,{className:"text-center space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(pe,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"CTR Prediction"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(as,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Face Detection"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(ls,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Color Analysis"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(ds,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Text Optimization"})]})]}),e.jsxs(R,{onClick:L,disabled:!l,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Start Thumbnail Optimization"]}),!l&&e.jsx("p",{className:"text-sm text-gray-500",children:"Video path required for thumbnail optimization"})]})]}):v?e.jsx(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",s),children:e.jsxs(o,{className:"p-8 text-center space-y-6",children:[e.jsx("div",{className:"mx-auto p-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full w-fit animate-pulse",children:e.jsx(ve,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Optimizing Thumbnails..."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"AI is analyzing frames, detecting faces, and predicting CTR"}),e.jsx(ee,{value:75,className:"w-full max-w-md mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-purple-600"}),e.jsx("span",{children:"Extracting frames..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-blue-600"}),e.jsx("span",{children:"Analyzing faces..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-green-600"}),e.jsx("span",{children:"Predicting CTR..."})]})]})]})}):e.jsxs(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",s),children:[e.jsx(f,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg",children:e.jsx(ve,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Thumbnail Optimization Results"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",A.overall_score,"/100 • ",A.extracted_frames.length," frames analyzed"]})]})]}),e.jsxs(R,{onClick:L,disabled:v,size:"sm",variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Re-analyze"]})]})}),e.jsx(o,{children:e.jsxs(we,{value:k,onValueChange:j,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-6",children:[e.jsx(T,{value:"suggestions",children:"Suggestions"}),e.jsx(T,{value:"frames",children:"Frames"}),e.jsx(T,{value:"design",children:"Design"}),e.jsx(T,{value:"ctr",children:"CTR Analysis"}),e.jsx(T,{value:"platforms",children:"Platforms"}),e.jsx(T,{value:"testing",children:"A/B Testing"})]}),e.jsx(z,{value:"suggestions",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:A.thumbnail_suggestions.slice(0,3).map((_,C)=>e.jsx(m,{className:C===0?"border-2 border-gold":"",children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-18 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(Qe,{className:"w-6 h-6 text-gray-400"})}),C===0&&e.jsxs(u,{className:"absolute -top-2 -right-2 bg-yellow-500 text-black",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Best"]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("h4",{className:"font-medium",children:["Frame at ",_.timestamp,"s"]}),e.jsxs(u,{variant:"outline",children:[_.predicted_ctr,"% CTR"]}),e.jsxs(u,{variant:"outline",children:[_.confidence_score,"% confidence"]})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Why this frame:"}),e.jsx("ul",{className:"text-sm text-gray-600",children:_.reasons.map((E,V)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),E]},V))})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(R,{size:"sm",onClick:()=>X(_.frame_id),children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Generate"]}),e.jsxs(R,{size:"sm",variant:"outline",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Preview"]})]})]})})},_.frame_id))})}),e.jsx(z,{value:"frames",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:A.extracted_frames.map(_=>e.jsx(m,{className:K("cursor-pointer transition-all hover:shadow-md",I===_.id?"ring-2 ring-purple-500":""),onClick:()=>S(_.id),children:e.jsxs(o,{className:"p-3",children:[e.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg mb-3 flex items-center justify-center",children:e.jsx(Qe,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm font-medium mb-1",children:[e.jsx(se,{className:"w-3 h-3 inline mr-1"}),_.timestamp,"s"]}),e.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Quality: ",_.quality_score,"/100"]}),e.jsx("div",{className:"flex justify-center gap-1",children:_.has_faces&&e.jsxs(u,{variant:"outline",className:"text-xs",children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),_.face_count]})})]})]})},_.id))})}),e.jsx(z,{value:"design",className:"space-y-4",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(A.design_analysis).map(([_,C])=>e.jsxs(m,{children:[e.jsxs(f,{className:"pb-3",children:[e.jsx(y,{className:"text-lg",children:C.name}),e.jsx("p",{className:"text-sm text-gray-600",children:C.description})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Score:"}),e.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[C.average_score,"/100"]})]}),e.jsx(ee,{value:C.average_score,className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Weight: ",Math.round(C.weight*100),"% of total score"]})]})})]},_))})}),e.jsx(z,{value:"ctr",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:Object.entries(A.ctr_predictions).map(([_,C])=>e.jsx(m,{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium",children:["Frame: ",_]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[C.predicted_ctr,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Predicted CTR"})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Confidence Range: ",C.confidence_interval.low,"% - ",C.confidence_interval.high,"%"]}),e.jsx("div",{className:"text-sm text-gray-700",children:C.explanation})]})},_))})}),e.jsx(z,{value:"platforms",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:Object.entries(A.platform_optimizations).map(([_,C])=>e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs(y,{className:"text-lg capitalize flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5"}),_]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Specifications"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:["Dimensions: ",C.specifications.width,"×",C.specifications.height]}),e.jsxs("div",{children:["Aspect Ratio: ",C.specifications.aspect_ratio]}),e.jsxs("div",{children:["Max Size: ",C.specifications.max_file_size,"KB"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Optimization Focus"}),e.jsx("div",{className:"text-sm space-y-1",children:C.design_adjustments.map((E,V)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),E]},V))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Expected Improvement:"}),e.jsxs(u,{className:"bg-green-100 text-green-800",children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),C.expected_improvement]})]})]})]},_))})}),e.jsx(z,{value:"testing",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:A.ab_test_variants.map(_=>e.jsxs(m,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{className:"text-lg flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5"}),_.variant_id.replace("_"," ").toUpperCase()]}),e.jsxs(u,{variant:"outline",children:[_.confidence_level,"% confidence"]})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Test Hypothesis"}),e.jsx("p",{className:"text-sm text-gray-600",children:_.test_hypothesis})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Planned Modifications"}),e.jsx("div",{className:"space-y-1",children:_.modifications.map((C,E)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),C]},E))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Expected CTR Increase:"}),e.jsxs(u,{className:"bg-blue-100 text-blue-800",children:["+",_.expected_outcome.expected_ctr_increase]})]})]})]},_.variant_id))})})]})})]})}const na=({userId:r,className:l})=>{const[n,s]=b.useState(!1);return e.jsx("div",{className:l,children:e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"AI Content Calendar"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Content Calendar Coming Soon"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"AI-powered content scheduling and planning will be available soon."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx(he,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"Smart Scheduling"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Optimal posting times"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx(se,{className:"h-6 w-6 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-medium text-green-900",children:"Content Planning"}),e.jsx("p",{className:"text-sm text-green-700",children:"Strategic content ideas"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx(J,{className:"h-6 w-6 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"Performance Tracking"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Content analytics"})]})]})]})})]})})};function ca({userId:r,className:l}){var C,E,V,U,a;const[n,s]=b.useState(null),[A,P]=b.useState(!1),[v,$]=b.useState("topics"),[I,S]=b.useState({platforms:["youtube","instagram","tiktok"],timeframe:"24h",include_competitors:!1,categories:[]}),{toast:k}=qe(),j=async()=>{var t;if(!r){k({title:"User Required",description:"Please log in to analyze trends.",variant:"destructive"});return}P(!0);try{const c=await(await fetch("/ai/analyze-trends",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify(I)})).json();if(c.success)s(c.data),k({title:"Trend Analysis Complete! 📊",description:`Found ${c.data.trending_topics.length} trending topics with trend score of ${c.data.trend_score}/100.`});else throw new Error(c.message||"Failed to analyze trends")}catch(i){console.error("Trend analysis error:",i),k({title:"Analysis Failed",description:"Failed to analyze trends. Please try again.",variant:"destructive"})}finally{P(!1)}},O=t=>({youtube:"📺",instagram:"📷",tiktok:"🎵",facebook:"👥",twitter:"🐦",snapchat:"👻",pinterest:"📌"})[t]||"📱",L=t=>{switch(t){case"very_strong":return"text-red-600 bg-red-100";case"strong":return"text-orange-600 bg-orange-100";case"moderate":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},X=t=>{switch(t){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},_=t=>{switch(t){case"explosive":return e.jsx(vs,{className:"w-4 h-4 text-red-500"});case"strong":return e.jsx(J,{className:"w-4 h-4 text-green-500"});case"moderate":return e.jsx(Ie,{className:"w-4 h-4 text-blue-500"});default:return e.jsx(St,{className:"w-4 h-4 text-gray-500"})}};return!n&&!A?e.jsxs(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",l),children:[e.jsxs(f,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto p-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full w-fit",children:e.jsx(J,{className:"w-8 h-8 text-white"})}),e.jsx(y,{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Trend Analyzer"}),e.jsx("p",{className:"text-gray-600",children:"Discover trending topics, viral content patterns, and competitive insights"})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(J,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Trending Topics"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(Ns,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Viral Content"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(Xe,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Hashtag Trends"})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[e.jsx(de,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:"Opportunities"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Platforms"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["youtube","instagram","tiktok","facebook","twitter"].map(t=>e.jsxs(R,{variant:I.platforms.includes(t)?"default":"outline",size:"sm",onClick:()=>{const i=I.platforms.includes(t)?I.platforms.filter(c=>c!==t):[...I.platforms,t];S(c=>({...c,platforms:i}))},children:[e.jsx("span",{className:"mr-1",children:O(t)}),e.jsx("span",{className:"capitalize",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Timeframe"}),e.jsxs(Fe,{value:I.timeframe,onValueChange:t=>S(i=>({...i,timeframe:t})),children:[e.jsx(Re,{children:e.jsx($e,{})}),e.jsxs(Ve,{children:[e.jsx(ie,{value:"1h",children:"Last Hour"}),e.jsx(ie,{value:"6h",children:"Last 6 Hours"}),e.jsx(ie,{value:"24h",children:"Last 24 Hours"}),e.jsx(ie,{value:"7d",children:"Last 7 Days"}),e.jsx(ie,{value:"30d",children:"Last 30 Days"})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"competitors",checked:I.include_competitors,onChange:t=>S(i=>({...i,include_competitors:t.target.checked})),className:"rounded"}),e.jsx("label",{htmlFor:"competitors",className:"text-sm font-medium",children:"Include Competitor Analysis"})]})})]}),e.jsxs(R,{onClick:j,disabled:!r||I.platforms.length===0,size:"lg",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(Le,{className:"w-5 h-5 mr-2"}),"Analyze Trends"]}),!r&&e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Please log in to analyze trends"})]})]}):A?e.jsx(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",l),children:e.jsxs(o,{className:"p-8 text-center space-y-6",children:[e.jsx("div",{className:"mx-auto p-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full w-fit animate-pulse",children:e.jsx(J,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Analyzing Trends..."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"AI is analyzing real-time trends, viral content patterns, and market opportunities"}),e.jsx(ee,{value:75,className:"w-full max-w-md mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-purple-600"}),e.jsx("span",{children:"Scanning platforms..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-pink-600"}),e.jsx("span",{children:"Detecting viral content..."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-white rounded-lg",children:[e.jsx(H,{className:"w-4 h-4 animate-spin text-blue-600"}),e.jsx("span",{children:"Analyzing competition..."})]})]})]})}):e.jsxs(m,{className:K("border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",l),children:[e.jsx(f,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg",children:e.jsx(J,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Trend Analyzer"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",n.trend_score,"/100 • ",n.platforms.length," platforms • ",n.timeframe]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(R,{onClick:j,disabled:A,size:"sm",variant:"outline",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]})}),e.jsx(o,{children:e.jsxs(we,{value:v,onValueChange:$,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-6",children:[e.jsx(T,{value:"topics",children:"Topics"}),e.jsx(T,{value:"viral",children:"Viral"}),e.jsx(T,{value:"hashtags",children:"Hashtags"}),e.jsx(T,{value:"opportunities",children:"Opportunities"}),e.jsx(T,{value:"emerging",children:"Emerging"}),e.jsx(T,{value:"competitive",children:"Competitive"})]}),e.jsx(z,{value:"topics",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:n.trending_topics.map((t,i)=>e.jsx(m,{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),t.topic]}),e.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[t.category," • ",t.sentiment," sentiment"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{className:L(t.trend_strength),children:t.trend_strength.replace("_"," ")}),e.jsxs(u,{variant:"outline",children:[t.opportunity_score,"/100"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.trend_velocity.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Trend Velocity"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[t.engagement_rate,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Engagement Rate"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.estimated_reach.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Estimated Reach"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Platforms:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.platforms.map((c,h)=>e.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-100 rounded px-2 py-1",children:[e.jsx("span",{children:O(c)}),e.jsx("span",{className:"capitalize",children:c})]},h))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Keywords:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.related_keywords.slice(0,4).map((c,h)=>e.jsx(u,{variant:"outline",className:"text-xs",children:c},h))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t mt-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Competition: "}),e.jsxs("span",{className:"font-medium",children:[t.competitor_adoption,"%"]})]}),e.jsx("div",{className:"text-sm font-medium text-green-600",children:t.recommended_action})]})]})},i))})}),e.jsx(z,{value:"viral",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:n.viral_content.map((t,i)=>e.jsx(m,{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4 text-red-500"}),t.content_type]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.target_demographic," • ",t.implementation_ease," to create"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{className:"bg-red-100 text-red-800",children:[t.viral_score,"/100"]}),e.jsx(u,{variant:"outline",children:t.trend_lifespan})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx(pe,{className:"w-6 h-6 text-red-600 mx-auto mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:t.estimated_reach.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Est. Reach"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx(ye,{className:"w-6 h-6 text-orange-600 mx-auto mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[t.engagement_rate,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Engagement"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(se,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:t.optimal_timing}),e.jsx("div",{className:"text-xs text-gray-600",children:"Best Time"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Success Factors:"}),e.jsx("div",{className:"space-y-1",children:t.success_factors.map((c,h)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx(xe,{className:"w-3 h-3 mt-0.5 text-green-500 flex-shrink-0"}),c]},h))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 pt-3 border-t mt-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-1",children:"Platforms:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.platforms.map((c,h)=>e.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-100 rounded px-2 py-1",children:[e.jsx("span",{children:O(c)}),e.jsx("span",{className:"capitalize",children:c})]},h))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-1",children:"Hashtags:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.hashtag_strategy.map((c,h)=>e.jsx(u,{variant:"outline",className:"text-xs",children:c},h))})]})]})]})},i))})}),e.jsx(z,{value:"hashtags",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:n.hashtag_trends.map((t,i)=>e.jsx(m,{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-blue-500"}),t.hashtag]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.usage_count.toLocaleString()," uses • ",t.target_demographic]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{className:X(t.competition_level),children:[t.competition_level," competition"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[_(t.trend_momentum),e.jsx("span",{className:"text-xs",children:t.trend_momentum})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.growth_rate}),e.jsx("div",{className:"text-xs text-gray-600",children:"Growth Rate"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[t.engagement_boost,"x"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Engagement Boost"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600 capitalize",children:t.optimal_usage}),e.jsx("div",{className:"text-xs text-gray-600",children:"Usage Type"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.longevity_prediction}),e.jsx("div",{className:"text-xs text-gray-600",children:"Lifespan"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Related Hashtags:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.related_hashtags.map((c,h)=>e.jsx(u,{variant:"outline",className:"text-xs",children:c},h))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Peak Hours:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.peak_posting_hours.map((c,h)=>e.jsxs(u,{variant:"outline",className:"text-xs",children:[e.jsx(se,{className:"w-3 h-3 mr-1"}),c]},h))})]})]})]})},i))})}),e.jsx(z,{value:"opportunities",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:n.content_opportunities.map((t,i)=>e.jsx(m,{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-green-500"}),t.opportunity]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.audience_demand," demand • ",t.competition_level," competition"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{className:"bg-green-100 text-green-800",children:[t.market_gap_score,"/100"]}),e.jsx(u,{variant:"outline",children:t.projected_performance.growth_potential})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx(pe,{className:"w-6 h-6 text-green-600 mx-auto mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:t.projected_performance.estimated_views.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-600",children:"Est. Views"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(ye,{className:"w-6 h-6 text-blue-600 mx-auto mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[t.projected_performance.engagement_rate,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Engagement"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx(se,{className:"w-6 h-6 text-purple-600 mx-auto mb-1"}),e.jsx("div",{className:"text-lg font-bold",children:t.implementation.time_to_market}),e.jsx("div",{className:"text-xs text-gray-600",children:"Time to Market"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Format:"}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:t.recommended_format}),e.jsx("h5",{className:"font-medium text-sm mb-2 mt-3",children:"Difficulty:"}),e.jsx(u,{className:t.implementation.difficulty_level==="easy"?"bg-green-100 text-green-800":t.implementation.difficulty_level==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:t.implementation.difficulty_level})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Platforms:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.platforms.map((c,h)=>e.jsxs("div",{className:"flex items-center gap-1 text-xs bg-gray-100 rounded px-2 py-1",children:[e.jsx("span",{children:O(c)}),e.jsx("span",{className:"capitalize",children:c})]},h))})]})]}),e.jsxs("div",{className:"pt-3 border-t mt-3",children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Action Plan:"}),e.jsx("div",{className:"space-y-2",children:t.action_plan.immediate_steps.slice(0,3).map((c,h)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx(xe,{className:"w-3 h-3 mt-0.5 text-green-500 flex-shrink-0"}),c]},h))})]})]})},i))})}),e.jsx(z,{value:"emerging",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:n.emerging_trends.map((t,i)=>e.jsx(m,{children:e.jsxs(o,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(vs,{className:"w-4 h-4 text-orange-500"}),t.trend]}),e.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[t.category," • ",t.early_adopters.toLocaleString()," early adopters"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{className:"bg-orange-100 text-orange-800",children:[t.emergence_score,"/100"]}),e.jsxs(u,{className:t.risk_assessment==="low"?"bg-green-100 text-green-800":t.risk_assessment==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:[t.risk_assessment," risk"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:t.growth_velocity}),e.jsx("div",{className:"text-xs text-gray-600",children:"Growth Velocity"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.predicted_peak}),e.jsx("div",{className:"text-xs text-gray-600",children:"Predicted Peak"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:t.opportunity_window}),e.jsx("div",{className:"text-xs text-gray-600",children:"Opportunity Window"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-sm mb-2",children:"Trend Indicators:"}),e.jsx("div",{className:"space-y-1",children:t.trend_indicators.map((c,h)=>e.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[e.jsx(Ie,{className:"w-3 h-3 mt-0.5 text-blue-500 flex-shrink-0"}),c]},h))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t mt-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Competition: "}),e.jsx("span",{className:"font-medium capitalize",children:t.competition_level})]}),e.jsx("div",{className:"text-sm font-medium text-orange-600",children:t.recommended_timeline})]})]})},i))})}),e.jsx(z,{value:"competitive",className:"space-y-4",children:n.competitive_landscape&&n.competitive_landscape.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-yellow-500"}),"Market Leaders"]})}),e.jsx(o,{className:"space-y-4",children:(C=n.competitive_landscape.market_leaders)==null?void 0:C.map((t,i)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:t.creator}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:O(t.platform)}),e.jsxs("span",{className:"text-sm font-medium",children:[t.followers.toLocaleString()," followers"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Avg Views:"}),e.jsx("div",{className:"font-medium",children:t.avg_views.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Engagement:"}),e.jsxs("div",{className:"font-medium",children:[t.engagement_rate,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Frequency:"}),e.jsx("div",{className:"font-medium",children:t.content_frequency})]})]}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Strategy:"}),e.jsx("span",{className:"ml-2 font-medium",children:t.unique_advantage})]})]},i))})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-green-500"}),"Market Opportunities"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Underserved Niches:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(V=(E=n.competitive_landscape.market_opportunities)==null?void 0:E.underserved_niches)==null?void 0:V.map((t,i)=>e.jsx(u,{variant:"outline",className:"bg-green-50",children:t},i))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Content Gaps:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(a=(U=n.competitive_landscape.market_opportunities)==null?void 0:U.content_gaps)==null?void 0:a.map((t,i)=>e.jsx(u,{variant:"outline",className:"bg-blue-50",children:t},i))})]})]})]})]}):e.jsx(m,{children:e.jsxs(o,{className:"p-8 text-center",children:[e.jsx(rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Competitive Analysis Not Available"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Enable competitive analysis in settings to see detailed competitor insights."}),e.jsx(R,{onClick:()=>S(t=>({...t,include_competitors:!0})),variant:"outline",children:"Enable Competitive Analysis"})]})})})]})})]})}const da=({videoId:r,onClose:l})=>{const[n,s]=b.useState("overview"),[A,P]=b.useState(!1),[v,$]=b.useState(null),[I,S]=b.useState({platforms:["youtube","instagram","tiktok"],timeframe:"30d",includeSegmentation:!0}),k=[{id:"overview",label:"Overview",icon:ss},{id:"demographics",label:"Demographics",icon:He},{id:"segments",label:"Segments",icon:de},{id:"behavior",label:"Behavior",icon:pe},{id:"growth",label:"Growth",icon:J},{id:"personalization",label:"Personalization",icon:as}],j={youtube:"🎬",instagram:"📸",tiktok:"🎵",facebook:"👥",twitter:"🐦",snapchat:"👻"},O=async()=>{var a;P(!0);try{const i=await(await fetch("/ai/audience-insights",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""},body:JSON.stringify({platforms:I.platforms,timeframe:I.timeframe,include_segmentation:I.includeSegmentation})})).json();i.success?$(i.data):console.error("Failed to analyze audience insights:",i.error)}catch(t){console.error("Error analyzing audience insights:",t)}finally{P(!1)}};b.useEffect(()=>{O()},[I]);const L=()=>{var a,t,i,c,h,N;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Audience Health Score"}),e.jsxs("div",{className:"text-3xl font-bold",children:[(v==null?void 0:v.audience_health_score)||0,"/100"]}),e.jsxs("p",{className:"text-purple-100 text-sm mt-1",children:[(v==null?void 0:v.insights_confidence)==="high"?"High Confidence":"Moderate Confidence"," Analysis"]})]}),e.jsx("div",{className:"text-6xl opacity-20",children:e.jsx(ss,{})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average Engagement Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[((t=(a=v==null?void 0:v.engagement_insights)==null?void 0:a.overall_metrics)==null?void 0:t.average_engagement_rate)||0,"%"]}),e.jsxs("p",{className:"text-sm text-green-600 flex items-center mt-1",children:[e.jsx(ns,{className:"w-4 h-4 mr-1"}),((c=(i=v==null?void 0:v.engagement_insights)==null?void 0:i.overall_metrics)==null?void 0:c.engagement_trend)||"+12%"]})]}),e.jsx(ye,{className:"w-8 h-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Audience Segments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Object.keys((v==null?void 0:v.audience_segments)||{}).length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Active segments"})]}),e.jsx(de,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Platform Coverage"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.platforms.length}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Platforms analyzed"})]}),e.jsx(He,{className:"w-8 h-8 text-green-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Performing Content Type"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:((N=(h=v==null?void 0:v.engagement_insights)==null?void 0:h.overall_metrics)==null?void 0:N.top_performing_content_type)||"Educational Tutorials"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Highest engagement content category"})]}),e.jsx("div",{className:"text-2xl",children:"🎯"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Distribution"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:I.platforms.map(d=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-2xl mr-3",children:j[d]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium capitalize",children:d}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})]},d))})]})]})},X=()=>{var a,t;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Age Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries(((t=(a=v==null?void 0:v.demographic_breakdown)==null?void 0:a.overall)==null?void 0:t.age_distribution)||{"18-24":25,"25-34":35,"35-44":20,"45-54":15,"55+":5}).map(([i,c])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 text-sm font-medium",children:i}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:`${c}%`}})})}),e.jsxs("div",{className:"w-12 text-sm text-gray-600",children:[c,"%"]})]},i))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gender Distribution"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"👨"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"52%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Male"})]}),e.jsxs("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:"👩"}),e.jsx("div",{className:"text-2xl font-bold text-pink-600",children:"48%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Female"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Geographic Distribution"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries({"North America":45,Europe:25,Asia:20,Other:10}).map(([i,c])=>e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx(lt,{className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[c,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:i})]},i))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Device Usage"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(It,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),e.jsx("div",{className:"text-xl font-bold text-green-600",children:"70%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Mobile"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(ct,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"text-xl font-bold text-blue-600",children:"25%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Desktop"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(Rt,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),e.jsx("div",{className:"text-xl font-bold text-purple-600",children:"5%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tablet"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Income Levels"}),e.jsx("div",{className:"space-y-3",children:Object.entries({"Under $30k":15,"$30k-$50k":25,"$50k-$75k":30,"$75k-$100k":20,"Over $100k":10}).map(([i,c])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:i}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${c*3}%`}})}),e.jsxs("span",{className:"text-sm font-medium",children:[c,"%"]})]})]},i))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Education Levels"}),e.jsx("div",{className:"space-y-3",children:Object.entries({"High School":20,"Some College":25,"Bachelor's Degree":35,"Graduate Degree":20}).map(([i,c])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:i}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${c*3}%`}})}),e.jsxs("span",{className:"text-sm font-medium",children:[c,"%"]})]})]},i))})]})]})]})},_=()=>e.jsx("div",{className:"space-y-6",children:Object.entries((v==null?void 0:v.audience_segments)||{power_users:{name:"Power Users",size_percentage:15,value_score:95,engagement_rate:15.5},casual_viewers:{name:"Casual Viewers",size_percentage:45,value_score:70,engagement_rate:8.2},lurkers:{name:"Lurkers",size_percentage:25,value_score:40,engagement_rate:2.1},new_discoverers:{name:"New Discoverers",size_percentage:15,value_score:60,engagement_rate:6.8}}).map(([a,t])=>e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description||"Active audience segment"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.size_percentage,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"of audience"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(Ue,{className:"w-5 h-5 mx-auto mb-1 text-blue-600"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.value_score}),e.jsx("div",{className:"text-xs text-gray-600",children:"Value Score"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx(ye,{className:"w-5 h-5 mx-auto mb-1 text-green-600"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[t.engagement_rate,"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Engagement"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx(J,{className:"w-5 h-5 mx-auto mb-1 text-purple-600"}),e.jsx("div",{className:"text-lg font-bold text-purple-600",children:t.growth_potential||"High"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Growth"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Content Preferences"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(t.content_preferences||["engaging_content","interactive_posts"]).map(i=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:i.replace("_"," ")},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Recommended Strategies"}),e.jsx("div",{className:"space-y-1",children:(t.recommended_strategies||["Increase engagement","Personalize content"]).slice(0,3).map((i,c)=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 text-green-500"}),i]},c))})]})]})]},a))}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Session Duration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"8:45"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Duration"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"6:30"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Median Duration"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Duration Distribution"}),e.jsx("div",{className:"space-y-2",children:Object.entries({"0-2min":25,"2-5min":30,"5-15min":25,"15-30min":15,"30min+":5}).map(([a,t])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 text-sm",children:a}),e.jsx("div",{className:"flex-1 mx-3",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full",style:{width:`${t*2}%`}})})}),e.jsxs("div",{className:"w-10 text-sm text-gray-600",children:[t,"%"]})]},a))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Peak Activity Times"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Weekdays"]}),e.jsx("div",{className:"space-y-2",children:["12:00-13:00","19:00-21:00","22:00-23:00"].map((a,t)=>e.jsxs("div",{className:"flex items-center p-2 bg-blue-50 rounded-lg",children:[e.jsx(se,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Weekends"]}),e.jsx("div",{className:"space-y-2",children:["10:00-12:00","15:00-17:00","20:00-22:00"].map((a,t)=>e.jsxs("div",{className:"flex items-center p-2 bg-green-50 rounded-lg",children:[e.jsx(se,{className:"w-4 h-4 mr-2 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:a})]},a))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Engagement Behaviors"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx(ye,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:"7.0%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Like Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(nt,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),e.jsx("div",{className:"text-lg font-bold text-blue-600",children:"1.68%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Comment Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(As,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),e.jsx("div",{className:"text-lg font-bold text-green-600",children:"0.84%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Share Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(Ue,{className:"w-8 h-8 mx-auto mb-2 text-purple-500"}),e.jsx("div",{className:"text-lg font-bold text-purple-600",children:"2.52%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Save Rate"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Content Discovery Methods"}),e.jsx("div",{className:"space-y-3",children:Object.entries({Recommendations:40,Search:35,"Social Shares":15,"Direct Access":10}).map(([a,t])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 text-sm font-medium",children:a}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full",style:{width:`${t*2}%`}})})}),e.jsxs("div",{className:"w-12 text-sm text-gray-600",children:[t,"%"]})]},a))})]})]}),E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Audience Expansion Opportunities"}),e.jsx("div",{className:"space-y-4",children:[{demographic:"45-54 age group",potential:"high",strategy:"Professional development content"},{demographic:"International audience",potential:"medium",strategy:"Subtitles and localization"},{demographic:"Mobile-first users",potential:"high",strategy:"Vertical video format"}].map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:a.demographic}),e.jsx("div",{className:"text-sm text-gray-600",children:a.strategy})]}),e.jsx("div",{className:"ml-4",children:e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.potential==="high"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[a.potential," potential"]})})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Geographic Expansion"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Europe","Asia-Pacific","Latin America"].map(a=>e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg text-center",children:[e.jsx(He,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"font-medium",children:a}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Target Region"}),e.jsx("div",{className:"text-xs text-blue-600 mt-2",children:"+35% potential reach"})]},a))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Content Gap Analysis"}),e.jsx("div",{className:"space-y-3",children:[{gap:"Beginner tutorials",status:"High demand, low supply",priority:"high"},{gap:"Quick reference guides",status:"Growing interest",priority:"medium"},{gap:"Community challenges",status:"Engagement booster opportunity",priority:"medium"}].map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.gap}),e.jsx("div",{className:"text-sm text-gray-600",children:a.status})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Je,{className:`w-5 h-5 mr-2 ${a.priority==="high"?"text-red-500":"text-yellow-500"}`}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${a.priority==="high"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[a.priority," priority"]})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Optimization"}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"TikTok Opportunity"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Young audience growth potential"}),e.jsx("p",{className:"text-sm text-purple-600 font-medium mt-1",children:"Recommended: Short-form content adaptation"})]}),e.jsx("div",{className:"text-2xl",children:"🎵"})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:[e.jsx("strong",{children:"Potential Impact:"})," +50% reach in 18-24 demographic"]})]})]})]}),V=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Content Personalization Strategies"}),e.jsx("div",{className:"space-y-4",children:[{segment:"Power Users",content:"Advanced tutorials, exclusive content",frequency:"Daily updates",style:"Direct community interaction"},{segment:"Casual Viewers",content:"Quick tips, beginner guides",frequency:"2-3 times per week",style:"Easy-to-consume formats"},{segment:"New Discoverers",content:"Best of compilations, introductory series",frequency:"Consistent schedule",style:"Welcome sequences, onboarding"}].map((a,t)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-purple-600"}),e.jsx("h4",{className:"font-medium",children:a.segment})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Content:"}),e.jsx("p",{className:"font-medium",children:a.content})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Frequency:"}),e.jsx("p",{className:"font-medium",children:a.frequency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Style:"}),e.jsx("p",{className:"font-medium",children:a.style})]})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform-Specific Strategies"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{platform:"YouTube",icon:"🎬",length:"8-12 minutes",style:"Educational deep-dives",strategy:"High contrast with text overlays"},{platform:"Instagram",icon:"📸",length:"Carousel posts",style:"Behind-the-scenes, quick wins",strategy:"Daily tips and polls"},{platform:"TikTok",icon:"🎵",length:"15-30 seconds",style:"Quick tutorials, trends",strategy:"Mix trending and niche tags"}].map((a,t)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:"text-2xl mr-2",children:a.icon}),e.jsx("h4",{className:"font-medium",children:a.platform})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Optimal:"}),e.jsx("p",{className:"font-medium",children:a.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Style:"}),e.jsx("p",{className:"font-medium",children:a.style})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Strategy:"}),e.jsx("p",{className:"font-medium",children:a.strategy})]})]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Timing Optimization"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx(he,{className:"w-6 h-6 mb-2 text-blue-600"}),e.jsx("h4",{className:"font-medium mb-2",children:"Weekday Strategy"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Professional content during lunch hours"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx(he,{className:"w-6 h-6 mb-2 text-green-600"}),e.jsx("h4",{className:"font-medium mb-2",children:"Weekend Strategy"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Casual, entertainment-focused content"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx(he,{className:"w-6 h-6 mb-2 text-purple-600"}),e.jsx("h4",{className:"font-medium mb-2",children:"Seasonal Adjustments"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Back-to-school, New Year themes"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Engagement Tactics"}),e.jsx("div",{className:"space-y-4",children:[{tactic:"Call-to-Action Optimization",description:"Specific, actionable requests",icon:e.jsx(Se,{className:"w-5 h-5 text-yellow-500"})},{tactic:"Community Building",description:"Regular Q&A sessions, polls",icon:e.jsx(ss,{className:"w-5 h-5 text-blue-500"})},{tactic:"User Generated Content",description:"Challenges, showcases",icon:e.jsx(Ue,{className:"w-5 h-5 text-purple-500"})}].map((a,t)=>e.jsxs("div",{className:"flex items-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"mr-4",children:a.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:a.tactic}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]},t))})]})]}),U=()=>{switch(n){case"overview":return L();case"demographics":return X();case"segments":return _();case"behavior":return C();case"growth":return E();case"personalization":return V();default:return L()}};return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Audience Insights"}),e.jsx("p",{className:"text-gray-600",children:"Deep audience analysis and personalization recommendations"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:O,disabled:A,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[e.jsx(H,{className:`w-4 h-4 mr-2 ${A?"animate-spin":""}`}),A?"Analyzing...":"Refresh Analysis"]}),l&&e.jsx("button",{onClick:l,className:"p-2 text-gray-400 hover:text-gray-600",children:"✕"})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ts,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"font-medium",children:"Analysis Settings"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Timeframe"}),e.jsxs("select",{value:I.timeframe,onChange:a=>S(t=>({...t,timeframe:a.target.value})),className:"ml-2 px-3 py-1 border border-gray-300 rounded-md text-sm",children:[e.jsx("option",{value:"7d",children:"7 days"}),e.jsx("option",{value:"30d",children:"30 days"}),e.jsx("option",{value:"90d",children:"90 days"}),e.jsx("option",{value:"180d",children:"180 days"}),e.jsx("option",{value:"365d",children:"1 year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Platforms"}),e.jsxs("span",{className:"ml-2 text-sm font-medium",children:[I.platforms.length," selected"]})]})]})]})}),e.jsx("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg",children:k.map(a=>{const t=a.icon;return e.jsxs("button",{onClick:()=>s(a.id),className:`flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors ${n===a.id?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(t,{className:"w-4 h-4 mr-2"}),a.label]},a.id)})}),e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:A?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{className:"w-8 h-8 mx-auto mb-4 text-purple-600 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Analyzing audience insights..."})]}):U()},n)]})},ma=({video:r})=>{const[l,n]=b.useState(null),[s,A]=b.useState(!1),[P,v]=b.useState(null),[$,I]=b.useState("overview"),[S,k]=b.useState({timeframe:"90d",industry:"technology",platforms:["youtube","instagram","tiktok"],goals:["growth","engagement"]}),j={youtube:"🎥",instagram:"📸",tiktok:"🎵",facebook:"👥",twitter:"🐦",snapchat:"👻",pinterest:"📌"},O=[{value:"technology",label:"Technology"},{value:"education",label:"Education"},{value:"entertainment",label:"Entertainment"},{value:"business",label:"Business"}],L=async()=>{var i;A(!0),v(null);try{const c=await fetch("/ai/strategy-generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content"))||""},body:JSON.stringify(S)});if(!c.ok){const N=await c.text();throw console.error("API Error Response:",N),new Error(`HTTP ${c.status}: ${c.statusText}`)}const h=await c.json();if(h.success)n(h.data);else throw new Error(h.message||"Failed to generate strategy")}catch(c){console.error("Error generating strategy:",c);const h=c instanceof Error?c.message:"An unexpected error occurred";v(`Failed to generate strategy: ${h}`),n({user_id:0,generated_at:new Date().toISOString(),timeframe:S.timeframe,industry:S.industry,platforms:S.platforms,goals:S.goals,strategic_overview:null,content_pillars:null,competitive_analysis:null,content_calendar_strategy:null,platform_strategies:null,kpi_framework:null,growth_roadmap:null,risk_analysis:null,budget_recommendations:null,success_metrics:null,strategy_score:0,confidence_level:"low"})}finally{A(!1)}};b.useEffect(()=>{L()},[]);const X=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":"text-red-600",_=i=>{switch(i){case"high":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-red-100 text-red-800"}},C=()=>{var i,c,h;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(m,{children:e.jsxs(o,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Strategy Score"}),e.jsxs("p",{className:`text-2xl font-bold ${X((l==null?void 0:l.strategy_score)||0)}`,children:[(l==null?void 0:l.strategy_score)||0,"/100"]})]}),e.jsx(de,{className:"h-8 w-8 text-blue-600"})]}),e.jsx(ee,{value:(l==null?void 0:l.strategy_score)||0,className:"mt-2"})]})}),e.jsx(m,{children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confidence Level"}),e.jsx(u,{className:`mt-1 ${_((l==null?void 0:l.confidence_level)||"low")}`,children:(l==null?void 0:l.confidence_level)||"Low"})]}),e.jsx(rs,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(m,{children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Platforms"}),e.jsx("div",{className:"flex space-x-1 mt-1",children:((l==null?void 0:l.platforms)||[]).map(N=>e.jsx("span",{className:"text-lg",children:j[N]},N))})]}),e.jsx(fe,{className:"h-8 w-8 text-purple-600"})]})})})]}),(l==null?void 0:l.strategic_overview)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-yellow-600"}),e.jsx("span",{children:"Strategic Overview"})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Mission Statement"}),e.jsx("p",{className:"text-gray-700",children:l.strategic_overview.mission_statement})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Target Audience"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Primary:"})," ",(i=l.strategic_overview.target_audience)==null?void 0:i.primary]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Secondary:"})," ",(c=l.strategic_overview.target_audience)==null?void 0:c.secondary]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(((h=l.strategic_overview.target_audience)==null?void 0:h.characteristics)||[]).map((N,d)=>e.jsx(u,{variant:"outline",children:N.replace("_"," ")},d))})]})]})]})]})]})},E=()=>e.jsx("div",{className:"space-y-6",children:(l==null?void 0:l.content_pillars)&&Object.entries(l.content_pillars).map(([i,c])=>e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsx("span",{className:"capitalize",children:c.name}),e.jsxs(u,{variant:"secondary",children:[c.recommended_percentage,"%"]})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:c.description}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Content Ideas"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:(c.content_ideas||[]).map((h,N)=>e.jsx(u,{variant:"outline",className:"text-center",children:h},N))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Examples"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(c.examples||[]).map((h,N)=>e.jsx(u,{className:"bg-blue-100 text-blue-800",children:h},N))})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm",children:["Engagement Multiplier: ",c.engagement_multiplier,"x"]})]})})]})]},i))}),V=()=>{var i,c;return e.jsxs("div",{className:"space-y-6",children:[((i=l==null?void 0:l.competitive_analysis)==null?void 0:i.market_landscape)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Market Landscape"})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l.competitive_analysis.market_landscape.total_competitors}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Competitors"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.competitive_analysis.market_landscape.active_competitors}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Competitors"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600 capitalize",children:l.competitive_analysis.market_landscape.market_saturation}),e.jsx("p",{className:"text-sm text-gray-600",children:"Market Saturation"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.competitive_analysis.market_landscape.growth_rate}),e.jsx("p",{className:"text-sm text-gray-600",children:"Growth Rate"})]})]})})]}),((c=l==null?void 0:l.competitive_analysis)==null?void 0:c.competitor_profiles)&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(l.competitive_analysis.competitor_profiles).map(([h,N])=>e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsx(y,{className:"capitalize",children:h.replace("_"," ")}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(u,{variant:"outline",children:[N.market_share," market share"]}),e.jsxs(u,{className:N.growth_rate.includes("-")?"bg-red-100 text-red-800":"bg-green-100 text-green-800",children:[N.growth_rate," growth"]})]})]}),e.jsxs(o,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-green-700 mb-1",children:"Strengths"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(N.strengths||[]).map((d,g)=>e.jsx(u,{className:"bg-green-100 text-green-800 text-xs",children:d.replace("_"," ")},g))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-red-700 mb-1",children:"Weaknesses"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(N.weaknesses||[]).map((d,g)=>e.jsx(u,{className:"bg-red-100 text-red-800 text-xs",children:d.replace("_"," ")},g))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-700 mb-1",children:"Opportunities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(N.opportunities||[]).map((d,g)=>e.jsx(u,{className:"bg-blue-100 text-blue-800 text-xs",children:d.replace("_"," ")},g))})]})]})]},h))})]})},U=()=>{var i;return e.jsx("div",{className:"space-y-6",children:((i=l==null?void 0:l.growth_roadmap)==null?void 0:i.growth_phases)&&e.jsx("div",{className:"space-y-4",children:Object.entries(l.growth_roadmap.growth_phases).map(([c,h],N)=>e.jsxs(m,{className:"relative",children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white font-bold",children:N+1}),e.jsx("span",{className:"capitalize",children:c}),e.jsx(u,{variant:"outline",children:h.duration})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Objectives"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(h.objectives||[]).map((d,g)=>e.jsx(u,{className:"bg-blue-100 text-blue-800",children:d.replace("_"," ")},g))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Key Activities"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(h.key_activities||[]).map((d,g)=>e.jsx(u,{variant:"outline",children:d.replace("_"," ")},g))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Milestones"}),e.jsx("div",{className:"space-y-2",children:(h.milestones||[]).map((d,g)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:d.replace("_"," ")})]},g))})]})]})]},c))})})},a=()=>e.jsxs("div",{className:"space-y-6",children:[(l==null?void 0:l.success_metrics)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Success Metrics"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Primary Metrics"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(l.success_metrics.primary_metrics||{}).map(([i,c])=>e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:i.replace("_"," ").toUpperCase()}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:c})]},i))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Milestone Targets"}),e.jsx("div",{className:"space-y-3",children:Object.entries(l.success_metrics.milestone_targets||{}).map(([i,c])=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"font-medium",children:i.replace("_"," ")})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(c||[]).map((h,N)=>e.jsx(u,{variant:"outline",children:h},N))})]},i))})]})]})]}),(l==null?void 0:l.budget_recommendations)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Budget Recommendations"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Recommended Monthly Budget"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.budget_recommendations.monthly_budget_range})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Budget Allocation"}),e.jsx("div",{className:"space-y-2",children:Object.entries(l.budget_recommendations.allocation_breakdown||{}).map(([i,c])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm capitalize",children:i.replace("_"," ")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{value:c,className:"w-20"}),e.jsxs("span",{className:"text-sm font-medium",children:[c,"%"]})]})]},i))})]})]})]})]}),t=()=>e.jsx("div",{className:"space-y-6",children:(l==null?void 0:l.risk_analysis)&&e.jsx(e.Fragment,{children:["market_risks","operational_risks","platform_risks"].map(i=>e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"capitalize flex items-center space-x-2",children:[e.jsx(ge,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{children:i.replace("_"," ")})]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(l.risk_analysis[i]||{}).map(([c,h])=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-medium capitalize",children:c.replace("_"," ")}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(u,{className:`${h.probability==="high"?"bg-red-100 text-red-800":h.probability==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[h.probability," probability"]}),e.jsxs(u,{className:`${h.impact==="high"?"bg-red-100 text-red-800":h.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[h.impact," impact"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Mitigation: ",h.mitigation.replace("_"," ")]})]})]},c))})})]},i))})});return s?e.jsx(m,{children:e.jsx(o,{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Generating comprehensive content strategy..."})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Strategy Configuration"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"timeframe",children:"Timeframe"}),e.jsxs(Fe,{value:S.timeframe,onValueChange:i=>k({...S,timeframe:i}),children:[e.jsx(Re,{children:e.jsx($e,{})}),e.jsxs(Ve,{children:[e.jsx(ie,{value:"30d",children:"30 Days"}),e.jsx(ie,{value:"90d",children:"90 Days"}),e.jsx(ie,{value:"180d",children:"6 Months"}),e.jsx(ie,{value:"365d",children:"1 Year"})]})]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"industry",children:"Industry"}),e.jsxs(Fe,{value:S.industry,onValueChange:i=>k({...S,industry:i}),children:[e.jsx(Re,{children:e.jsx($e,{})}),e.jsx(Ve,{children:O.map(i=>e.jsx(ie,{value:i.value,children:i.label},i.value))})]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Platforms"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Object.keys(j).map(i=>e.jsxs("label",{className:"flex items-center space-x-1 cursor-pointer",children:[e.jsx(zs,{checked:S.platforms.includes(i),onCheckedChange:c=>{k(c?{...S,platforms:[...S.platforms,i]}:{...S,platforms:S.platforms.filter(h=>h!==i)})}}),e.jsxs("span",{className:"text-sm",children:[j[i]," ",i]})]},i))})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(R,{onClick:L,disabled:s,className:"w-full",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Generate Strategy"]})})]})})]}),P&&e.jsx(m,{children:e.jsx(o,{className:"py-6",children:e.jsxs("div",{className:"flex items-center space-x-3 text-red-600",children:[e.jsx(ge,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Error"}),e.jsx("p",{className:"text-sm text-red-500",children:P})]})]})})}),l&&e.jsxs(we,{value:$,onValueChange:I,children:[e.jsxs(ue,{className:"grid w-full grid-cols-6",children:[e.jsx(T,{value:"overview",children:"Overview"}),e.jsx(T,{value:"pillars",children:"Pillars"}),e.jsx(T,{value:"competitive",children:"Competitive"}),e.jsx(T,{value:"roadmap",children:"Roadmap"}),e.jsx(T,{value:"kpis",children:"KPIs"}),e.jsx(T,{value:"risks",children:"Risks"})]}),e.jsx(z,{value:"overview",children:C()}),e.jsx(z,{value:"pillars",children:E()}),e.jsx(z,{value:"competitive",children:V()}),e.jsx(z,{value:"roadmap",children:U()}),e.jsx(z,{value:"kpis",children:a()}),e.jsx(z,{value:"risks",children:t()})]})]})},oa=({video:r,contentId:l,contentType:n="video"})=>{var h,N;const[s,A]=b.useState(null),[P,v]=b.useState(null),[$,I]=b.useState(!1),[S,k]=b.useState("analysis"),[j,O]=b.useState({industry:"technology",target_keywords:["tech","tutorial","guide"],topic:"",content:{title:(r==null?void 0:r.title)||"How to Build Amazing Tech Products in 2024",description:(r==null?void 0:r.description)||"Learn the latest techniques and tools for building innovative tech products that users love. Complete guide with examples."}}),L=[{value:"technology",label:"Technology"},{value:"education",label:"Education"},{value:"entertainment",label:"Entertainment"},{value:"business",label:"Business"}],X=async()=>{var d;I(!0);try{const B=await(await fetch("/ai/seo-analyze",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""},body:JSON.stringify({content_id:l||(r==null?void 0:r.id)||1,content_type:n,industry:j.industry,target_keywords:j.target_keywords})})).json();B.success&&A(B.data)}catch(g){console.error("Error analyzing SEO:",g)}finally{I(!1)}},_=async()=>{var d;if(j.topic){I(!0);try{const B=await(await fetch("/ai/seo-keywords",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"))||""},body:JSON.stringify({topic:j.topic,industry:j.industry})})).json();B.success&&v(B.data)}catch(g){console.error("Error researching keywords:",g)}finally{I(!1)}}};b.useEffect(()=>{X()},[]);const C=d=>d>=80?"text-green-600":d>=60?"text-yellow-600":"text-red-600",E=d=>d>=80?"Excellent":d>=60?"Good":d>=40?"Needs Improvement":"Poor",V=()=>{var d,g,B,Q,ae,me,oe,te,re,ne;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(m,{children:e.jsxs(o,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"SEO Score"}),e.jsxs("p",{className:`text-2xl font-bold ${C((s==null?void 0:s.seo_score)||0)}`,children:[(s==null?void 0:s.seo_score)||0,"/100"]}),e.jsx("p",{className:"text-sm text-gray-500",children:E((s==null?void 0:s.seo_score)||0)})]}),e.jsx(ts,{className:"h-8 w-8 text-blue-600"})]}),e.jsx(ee,{value:(s==null?void 0:s.seo_score)||0,className:"mt-2"})]})}),e.jsx(m,{children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Search Visibility"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[((d=s==null?void 0:s.search_performance)==null?void 0:d.search_visibility)||65,"%"]})]}),e.jsx(pe,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(m,{children:e.jsx(o,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Mobile Score"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[((g=s==null?void 0:s.mobile_optimization)==null?void 0:g.mobile_friendly_score)||85,"/100"]})]}),e.jsx(He,{className:"h-8 w-8 text-green-600"})]})})})]}),(s==null?void 0:s.keyword_analysis)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Keyword Analysis"})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Target Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(s.keyword_analysis.target_keywords||[]).map((le,x)=>e.jsx(u,{className:"bg-blue-100 text-blue-800",children:le},x))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Found Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(s.keyword_analysis.found_keywords||[]).map((le,x)=>e.jsx(u,{variant:"outline",children:le},x))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Keyword Density"}),e.jsx("div",{className:"space-y-2",children:Object.entries(s.keyword_analysis.keyword_density||{}).map(([le,x])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:le}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{value:x*10,className:"w-20"}),e.jsxs("span",{className:"text-sm",children:[x,"%"]})]})]},le))})]})]})]}),(s==null?void 0:s.content_optimization)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Content Optimization Analysis"})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium",children:"Title Optimization"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Length"}),e.jsxs("span",{children:[((B=s.content_optimization.title_optimization)==null?void 0:B.current_length)||0,"/",((Q=s.content_optimization.title_optimization)==null?void 0:Q.optimal_length)||60]})]}),e.jsx(ee,{value:((ae=s.content_optimization.title_optimization)==null?void 0:ae.score)||75}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",((me=s.content_optimization.title_optimization)==null?void 0:me.score)||75,"/100"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium",children:"Description Optimization"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Length"}),e.jsxs("span",{children:[((oe=s.content_optimization.description_optimization)==null?void 0:oe.current_length)||0,"/",((te=s.content_optimization.description_optimization)==null?void 0:te.optimal_length)||160]})]}),e.jsx(ee,{value:((re=s.content_optimization.description_optimization)==null?void 0:re.score)||70}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Score: ",((ne=s.content_optimization.description_optimization)==null?void 0:ne.score)||70,"/100"]})]})]})]})})]})]})},U=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Keyword Research"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"topic",children:"Topic/Subject"}),e.jsx(Ke,{id:"topic",value:j.topic,onChange:d=>O({...j,topic:d.target.value}),placeholder:"Enter topic for keyword research"})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"industry",children:"Industry"}),e.jsxs(Fe,{value:j.industry,onValueChange:d=>O({...j,industry:d}),children:[e.jsx(Re,{children:e.jsx($e,{})}),e.jsx(Ve,{children:L.map(d=>e.jsx(ie,{value:d.value,children:d.label},d.value))})]})]})]}),e.jsxs(R,{onClick:_,disabled:$||!j.topic,children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),"Research Keywords"]})]})]}),P&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Primary Keywords"})}),e.jsx(o,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(P.primary_keywords||[]).map((d,g)=>e.jsx(u,{className:"bg-blue-100 text-blue-800",children:d},g))})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Long-tail Keywords"})}),e.jsx(o,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(P.long_tail_keywords||[]).map((d,g)=>e.jsx(u,{className:"bg-green-100 text-green-800",children:d},g))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Trending Keywords"})}),e.jsx(o,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(P.trending_keywords||[]).map((d,g)=>e.jsxs(u,{className:"bg-purple-100 text-purple-800",children:["🔥 ",d]},g))})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Related Keywords"})}),e.jsx(o,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:(P.related_keywords||[]).map((d,g)=>e.jsx(u,{variant:"outline",children:d},g))})})]})]})]})]}),a=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Content Optimization"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"title",children:"Title"}),e.jsx(Ke,{id:"title",value:j.content.title,onChange:d=>O({...j,content:{...j.content,title:d.target.value}}),placeholder:"Enter content title"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[j.content.title.length,"/60 characters (optimal for SEO)"]})]}),e.jsxs("div",{children:[e.jsx(ce,{htmlFor:"description",children:"Description"}),e.jsx(fs,{id:"description",value:j.content.description,onChange:d=>O({...j,content:{...j.content,description:d.target.value}}),placeholder:"Enter content description",rows:4}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[j.content.description.length,"/160 characters (optimal for meta description)"]})]}),e.jsxs("div",{children:[e.jsx(ce,{children:"Target Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.target_keywords.map((d,g)=>e.jsxs(u,{className:"bg-blue-100 text-blue-800",children:[d,e.jsx("button",{onClick:()=>{const B=j.target_keywords.filter((Q,ae)=>ae!==g);O({...j,target_keywords:B})},className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},g))}),e.jsx(Ke,{className:"mt-2",placeholder:"Add keyword and press Enter",onKeyPress:d=>{if(d.key==="Enter"){const g=d.currentTarget.value.trim();g&&!j.target_keywords.includes(g)&&(O({...j,target_keywords:[...j.target_keywords,g]}),d.currentTarget.value="")}}})]}),e.jsxs(R,{onClick:X,disabled:$,children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Optimize Content"]})]})]}),(s==null?void 0:s.optimization_recommendations)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Optimization Recommendations"})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:(s.optimization_recommendations.suggestions||[]).map((d,g)=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Ce,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:d})]},g))})})]})]}),t=()=>{var d,g,B,Q,ae,me,oe,te,re,ne;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(m,{children:e.jsxs(o,{className:"pt-6 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[((d=s==null?void 0:s.search_performance)==null?void 0:d.search_visibility)||65,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Search Visibility"})]})}),e.jsx(m,{children:e.jsxs(o,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:((g=s==null?void 0:s.search_trends)==null?void 0:g.trending_up)||3}),e.jsx("p",{className:"text-sm text-gray-600",children:"Trending Up"})]})}),e.jsx(m,{children:e.jsxs(o,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((B=s==null?void 0:s.ranking_opportunities)==null?void 0:B.low_competition)||5}),e.jsx("p",{className:"text-sm text-gray-600",children:"Low Competition"})]})}),e.jsx(m,{children:e.jsxs(o,{className:"pt-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((Q=s==null?void 0:s.ranking_opportunities)==null?void 0:Q.high_potential)||3}),e.jsx("p",{className:"text-sm text-gray-600",children:"High Potential"})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Technical SEO Health"})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-green-600",children:((ae=s==null?void 0:s.technical_seo)==null?void 0:ae.url_structure)||"Good"}),e.jsx("p",{className:"text-sm text-gray-600",children:"URL Structure"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:((me=s==null?void 0:s.technical_seo)==null?void 0:me.meta_tags)||"Present"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Meta Tags"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-yellow-600",children:((oe=s==null?void 0:s.technical_seo)==null?void 0:oe.schema_markup)||"Partial"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Schema Markup"})]})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Mobile Optimization"})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Mobile Friendly Score"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{value:((te=s==null?void 0:s.mobile_optimization)==null?void 0:te.mobile_friendly_score)||85,className:"w-20"}),e.jsxs("span",{className:"text-sm font-bold",children:[((re=s==null?void 0:s.mobile_optimization)==null?void 0:re.mobile_friendly_score)||85,"/100"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Page Speed"}),e.jsx(u,{className:"bg-green-100 text-green-800",children:((ne=s==null?void 0:s.mobile_optimization)==null?void 0:ne.page_speed)||"Good"})]})]})})]})]})},i=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-yellow-600"}),e.jsx("span",{children:"SEO Recommendations"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"Quick Wins"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600 mt-0.5"}),e.jsxs("span",{className:"text-sm",children:["Optimize title length (currently ",j.content.title.length,"/60)"]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Add more target keywords to description"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(xe,{className:"h-4 w-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Improve meta description with call-to-action"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 mb-2",children:"Long-term Improvements"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"h-4 w-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Build backlinks from authority sites"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"h-4 w-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Create topic clusters for related content"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(se,{className:"h-4 w-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Optimize for featured snippets"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-700 mb-2",children:"Technical Improvements"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ge,{className:"h-4 w-4 text-orange-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Implement structured data markup"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ge,{className:"h-4 w-4 text-orange-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Optimize image alt text"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ge,{className:"h-4 w-4 text-orange-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Improve internal linking structure"})]})]})]})]})})]})}),c=()=>{var d,g;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Competitive SEO Analysis"})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((d=s==null?void 0:s.competitor_analysis)==null?void 0:d.competitors_found)||18}),e.jsx("p",{className:"text-sm text-gray-600",children:"Competitors Found"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((g=s==null?void 0:s.competitor_analysis)==null?void 0:g.average_score)||72,"/100"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Average SEO Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["#",Math.floor(Math.random()*5)+3]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your Ranking"})]})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Competitor Insights"})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Top Performing Competitors"}),e.jsx("div",{className:"space-y-2",children:["TechChannel Pro","Code Academy","Dev Tutorials"].map((B,Q)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:B}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(u,{className:"bg-green-100 text-green-800",children:[80+Q*5,"/100 SEO"]}),e.jsxs(u,{variant:"outline",children:["#",Q+1]})]})]},Q))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Competitive Opportunities"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:'Target "beginner tutorial" keywords with low competition'})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Focus on long-form content (2000+ words)"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(J,{className:"h-4 w-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-sm",children:"Improve video SEO optimization"})]})]})]})]})})]})]})};return $?e.jsx(m,{children:e.jsx(o,{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Analyzing SEO performance..."})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{className:"border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-purple-50",children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg",children:e.jsx(ts,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"AI SEO Optimizer"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Search Engine Optimization Analysis & Recommendations"})]})]})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-2xl font-bold ${C((s==null?void 0:s.seo_score)||78)}`,children:[(s==null?void 0:s.seo_score)||78,"/100"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overall SEO Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.target_keywords.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Target Keywords"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((h=s==null?void 0:s.search_performance)==null?void 0:h.search_visibility)||72,"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Search Visibility"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((N=s==null?void 0:s.mobile_optimization)==null?void 0:N.mobile_friendly_score)||89}),e.jsx("p",{className:"text-sm text-gray-600",children:"Mobile Score"})]})]})})]}),e.jsxs(we,{value:S,onValueChange:k,children:[e.jsxs(ue,{className:"grid w-full grid-cols-6",children:[e.jsx(T,{value:"analysis",children:"Analysis"}),e.jsx(T,{value:"keywords",children:"Keywords"}),e.jsx(T,{value:"optimization",children:"Optimize"}),e.jsx(T,{value:"performance",children:"Performance"}),e.jsx(T,{value:"recommendations",children:"Tips"}),e.jsx(T,{value:"competitor",children:"Competitor"})]}),e.jsx(z,{value:"analysis",children:V()}),e.jsx(z,{value:"keywords",children:U()}),e.jsx(z,{value:"optimization",children:a()}),e.jsx(z,{value:"performance",children:t()}),e.jsx(z,{value:"recommendations",children:i()}),e.jsx(z,{value:"competitor",children:c()})]})]})},xa=({videoPath:r})=>{var re,ne,le;const[l,n]=b.useState("generation"),[s,A]=b.useState(null),[P,v]=b.useState(!1),[$,I]=b.useState({}),[S,k]=b.useState({}),[j,O]=b.useState("en"),[L,X]=b.useState("simple"),[_,C]=b.useState("bottom_center"),[E,V]=b.useState({x:50,y:85}),[U,a]=b.useState([]),[t,i]=b.useState(null),c={bottom_center:{x:50,y:85,name:"Bottom Center"},bottom_left:{x:10,y:85,name:"Bottom Left"},bottom_right:{x:90,y:85,name:"Bottom Right"},top_center:{x:50,y:15,name:"Top Center"},top_left:{x:10,y:15,name:"Top Left"},top_right:{x:90,y:15,name:"Top Right"},center:{x:50,y:50,name:"Center"},center_left:{x:10,y:50,name:"Center Left"},center_right:{x:90,y:50,name:"Center Right"}};b.useEffect(()=>{h(),N()},[]),b.useEffect(()=>{if(s&&s.processing_status==="processing"){const x=setInterval(()=>{g()},2e3);return i(x),()=>clearInterval(x)}else t&&(clearInterval(t),i(null))},[s==null?void 0:s.processing_status]);const h=async()=>{try{const M=await(await fetch("/ai/subtitle-languages")).json();M.success&&I(M.data)}catch(x){console.error("Error loading languages:",x)}},N=async()=>{try{const M=await(await fetch("/ai/subtitle-styles")).json();M.success&&k(M.data)}catch(x){console.error("Error loading styles:",x)}},d=async()=>{var x;v(!0);try{const D=await(await fetch("/ai/subtitle-generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({video_path:r,language:j,style:L,position:_})})).json();D.success?(A(D.data),n("timing")):console.error("Generation failed:",D.message)}catch(M){console.error("Error starting generation:",M)}finally{v(!1)}},g=async()=>{var x,M;if(s!=null&&s.generation_id)try{const Z=await(await fetch("/ai/subtitle-progress",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({generation_id:s.generation_id})})).json();Z.success&&(A(Z.data),Z.data.processing_status==="completed"&&a(((M=Z.data.subtitles)==null?void 0:M.map(je=>je.id))||[]))}catch(D){console.error("Error polling progress:",D)}},B=async(x,M)=>{var D;if(s!=null&&s.generation_id)try{(await(await fetch("/ai/subtitle-style",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((D=document.querySelector('meta[name="csrf-token"]'))==null?void 0:D.getAttribute("content"))||""},body:JSON.stringify({generation_id:s.generation_id,style:x,custom_properties:M})})).json()).success&&(X(x),g())}catch(Z){console.error("Error updating style:",Z)}},Q=async x=>{var M;if(s!=null&&s.generation_id)try{(await(await fetch("/ai/subtitle-position",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""},body:JSON.stringify({generation_id:s.generation_id,position:x})})).json()).success&&(V(x),g())}catch(D){console.error("Error updating position:",D)}},ae=async x=>{var M;if(s!=null&&s.generation_id)try{const Z=await(await fetch("/ai/subtitle-export",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""},body:JSON.stringify({generation_id:s.generation_id,format:x})})).json();Z.success&&window.open(Z.data.file_url,"_blank")}catch(D){console.error("Error exporting subtitles:",D)}},me=x=>x>=90?"text-green-600 bg-green-100":x>=75?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",oe=x=>{switch(x){case"simple":return e.jsx(ds,{className:"w-4 h-4"});case"modern":return e.jsx(ke,{className:"w-4 h-4"});case"neon":return e.jsx(Se,{className:"w-4 h-4"});case"typewriter":return e.jsx(it,{className:"w-4 h-4"});case"bounce":return e.jsx(Ht,{className:"w-4 h-4"});case"confetti":return e.jsx(Le,{className:"w-4 h-4"});case"glass":return e.jsx(pe,{className:"w-4 h-4"});default:return e.jsx(ds,{className:"w-4 h-4"})}},te=x=>{const M=Math.floor(x/60),D=(x%60).toFixed(2);return`${M}:${D.padStart(5,"0")}`};return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-purple-50 to-blue-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg",children:e.jsx(cs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"AI Subtitle Generator"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically generate subtitles with precise timing and customizable styles"})]})]})}),e.jsx("div",{className:"border-b bg-gray-50",children:e.jsx("nav",{className:"flex space-x-1 p-4",children:[{id:"generation",label:"Generation",icon:ke},{id:"timing",label:"Timing",icon:se},{id:"styles",label:"Styles",icon:ls},{id:"position",label:"Position",icon:bs},{id:"export",label:"Export",icon:is}].map(x=>e.jsxs("button",{onClick:()=>n(x.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l===x.id?"bg-white text-purple-600 shadow-sm border":"text-gray-600 hover:text-purple-600 hover:bg-white/50"}`,children:[e.jsx(x.icon,{className:"w-4 h-4"}),x.label]},x.id))})}),e.jsxs("div",{className:"p-6",children:[l==="generation"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(yt,{className:"w-4 h-4 inline mr-2"}),"Language"]}),e.jsx("select",{value:j,onChange:x=>O(x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:P,children:Object.entries($).map(([x,M])=>e.jsxs("option",{value:x,children:[M.name," (",M.accuracy,"% accuracy)"]},x))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(ls,{className:"w-4 h-4 inline mr-2"}),"Style"]}),e.jsx("select",{value:L,onChange:x=>X(x.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:P,children:Object.entries(S).map(([x,M])=>e.jsx("option",{value:x,children:M.name},x))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(bs,{className:"w-4 h-4 inline mr-2"}),"Position"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(c).map(([x,M])=>e.jsx("button",{onClick:()=>C(x),className:`p-3 rounded-lg border text-sm transition-colors ${_===x?"bg-purple-50 border-purple-300 text-purple-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,disabled:P,children:M.name},x))})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:d,disabled:P||!r,className:"flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:P?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Starting Generation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4"}),"Generate Subtitles"]})})})]}),l==="timing"&&e.jsxs("div",{className:"space-y-6",children:[(s==null?void 0:s.processing_status)==="processing"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent"}),e.jsxs("span",{className:"font-medium text-blue-900",children:["Processing: ",s.progress.current_step]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.progress.percentage}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[e.jsxs("span",{children:[s.progress.percentage,"% complete"]}),e.jsxs("span",{children:[te(s.progress.processed_duration)," / ",te(s.progress.total_duration)]})]})]}),(s==null?void 0:s.processing_status)==="completed"&&s.subtitles&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Generated Subtitles"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(se,{className:"w-4 h-4"}),s.subtitles.length," segments"]})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:s.subtitles.map(x=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("span",{className:"text-sm font-mono text-gray-500",children:[te(x.start_time)," → ",te(x.end_time)]})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-gray-900",children:x.text}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me(x.confidence)}`,children:[x.confidence,"% confidence"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[x.words.length," words"]})]})]})]},x.id))}),s.quality_metrics&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-green-900 mb-2",children:"Quality Metrics"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[s.quality_metrics.accuracy_score,"%"]}),e.jsx("div",{className:"text-sm text-green-600",children:"Accuracy"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[s.quality_metrics.timing_precision,"%"]}),e.jsx("div",{className:"text-sm text-green-600",children:"Timing"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[s.quality_metrics.word_recognition,"%"]}),e.jsx("div",{className:"text-sm text-green-600",children:"Recognition"})]})]})]})]})]}),l==="styles"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Subtitle Styles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(S).map(([x,M])=>e.jsxs("button",{onClick:()=>B(x),className:`p-4 border rounded-lg text-left transition-all hover:shadow-md ${L===x?"border-purple-300 bg-purple-50":"border-gray-200 bg-white hover:border-gray-300"}`,disabled:!s||s.processing_status!=="completed",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[oe(x),e.jsx("span",{className:"font-medium text-gray-900",children:M.name})]}),e.jsx("p",{className:"text-sm text-gray-600",children:M.description}),e.jsxs("div",{className:"mt-3 p-2 bg-gray-100 rounded text-sm font-mono",children:[e.jsxs("div",{className:"truncate",children:["Font: ",M.properties.font_family]}),e.jsxs("div",{className:"truncate",children:["Size: ",M.properties.font_size]})]})]},x))})]})}),l==="position"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Subtitle Position"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Positions"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(c).map(([x,M])=>e.jsx("button",{onClick:()=>Q(M),className:`p-3 rounded-lg border text-sm transition-colors ${_===x?"bg-purple-50 border-purple-300 text-purple-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,disabled:!s||s.processing_status!=="completed",children:M.name},x))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Custom Position"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"X Position (%)"}),e.jsx("input",{type:"range",min:"0",max:"100",value:E.x,onChange:x=>V({...E,x:parseInt(x.target.value)}),className:"w-full",disabled:!s||s.processing_status!=="completed"}),e.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[E.x,"%"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Y Position (%)"}),e.jsx("input",{type:"range",min:"0",max:"100",value:E.y,onChange:x=>V({...E,y:parseInt(x.target.value)}),className:"w-full",disabled:!s||s.processing_status!=="completed"}),e.jsxs("div",{className:"text-center text-sm text-gray-600 mt-1",children:[E.y,"%"]})]})]}),e.jsx("button",{onClick:()=>Q(E),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 transition-colors",disabled:!s||s.processing_status!=="completed",children:"Apply Custom Position"})]})]})}),l==="export"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Export Subtitles"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{format:"srt",name:"SRT",description:"Standard subtitle format"},{format:"vtt",name:"WebVTT",description:"Web video text tracks"},{format:"ass",name:"ASS",description:"Advanced SubStation Alpha"},{format:"sub",name:"SUB",description:"MicroDVD subtitle"}].map(x=>e.jsxs("button",{onClick:()=>ae(x.format),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-colors disabled:opacity-50",disabled:!s||s.processing_status!=="completed",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(is,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:x.name})]}),e.jsx("p",{className:"text-sm text-gray-600",children:x.description})]},x.format))}),s&&s.processing_status==="completed"&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mt-6",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Export Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Total Subtitles:"}),e.jsx("span",{className:"ml-2 font-medium",children:((re=s.subtitles)==null?void 0:re.length)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Language:"}),e.jsx("span",{className:"ml-2 font-medium",children:((ne=$[s.language])==null?void 0:ne.name)||s.language})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Style:"}),e.jsx("span",{className:"ml-2 font-medium",children:((le=S[s.style])==null?void 0:le.name)||s.style})]})]})]})]})}),!s&&l!=="generation"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(cs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Subtitles Generated"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Generate subtitles first to access this feature"}),e.jsx("button",{onClick:()=>n("generation"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Start Generation"})]})]})]})},ha={youtube:xt,instagram:ot,tiktok:Ne,facebook:Ne,snapchat:Ne,pinterest:Ne,twitter:Ne},pa={pending:se,processing:ge,success:xe,failed:Me},ja={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"};function cl({video:r}){var U;const l=[{title:"My channels",href:"/dashboard"},{title:"Videos",href:"/videos"},{title:r.title,href:`/videos/${r.id}/edit`}],{data:n,setData:s,put:A,processing:P,errors:v}=Hs({title:r.title||"",description:r.description||"",tags:r.tags||[],thumbnail:null}),[$,I]=b.useState("overview"),[S,k]=b.useState(!1),[j,O]=b.useState("tikomat"),L=a=>{a.preventDefault(),A(`/videos/${r.id}`)},X=a=>{a.content_tags&&a.content_tags.length>0&&console.log("Video analysis completed:",a)},_=()=>{k(!0)},C=()=>{Ze.delete(`/videos/${r.id}`,{data:{delete_option:j},onSuccess:()=>{Ze.visit("/videos")}})},E=(a,t)=>{confirm(`Are you sure you want to remove this video from ${t}?`)&&Ze.delete(`/video-targets/${a}`,{preserveScroll:!0,onSuccess:()=>{},onError:i=>{console.error("Failed to remove video from platform:",i),alert("Failed to remove video from platform. Please try again.")}})},V=a=>{if(a.platform_url)return a.platform_url;switch(a.platform){case"youtube":return a.platform_video_id?`https://youtube.com/watch?v=${a.platform_video_id}`:null;case"instagram":return a.platform_video_id?`https://instagram.com/p/${a.platform_video_id}`:null;case"tiktok":return a.platform_video_id?`https://tiktok.com/@username/video/${a.platform_video_id}`:null;default:return null}};return e.jsxs(st,{breadcrumbs:l,children:[e.jsx(Us,{title:`Edit: ${r.title}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ds,{href:"/videos",children:e.jsxs(R,{variant:"outline",size:"sm",children:[e.jsx(dt,{className:"mr-2 h-4 w-4"}),"Back to Videos"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.title}),e.jsx("p",{className:"text-muted-foreground",children:"Edit and optimize your video with AI-powered tools"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(R,{variant:"outline",onClick:_,className:"text-red-600 hover:text-red-700",children:[e.jsx(mt,{className:"mr-2 h-4 w-4"}),"Delete"]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(we,{value:$,onValueChange:I,className:"w-full",children:[e.jsxs(ue,{className:"grid w-full grid-cols-4 lg:grid-cols-6 xl:grid-cols-12 gap-1",children:[e.jsx(T,{value:"overview",className:"text-xs px-2 py-1",children:"Overview"}),e.jsx(T,{value:"edit",className:"text-xs px-2 py-1",children:"Edit"}),e.jsx(T,{value:"ai-optimize",className:"text-xs px-2 py-1",children:"AI Optimize"}),e.jsx(T,{value:"ai-analyze",className:"text-xs px-2 py-1",children:"AI Analyze"}),e.jsx(T,{value:"ai-performance",className:"text-xs px-2 py-1",children:"Performance"}),e.jsx(T,{value:"ai-thumbnails",className:"text-xs px-2 py-1",children:"Thumbnails"}),e.jsx(T,{value:"ai-calendar",className:"text-xs px-2 py-1",children:"Calendar"}),e.jsx(T,{value:"ai-trends",className:"text-xs px-2 py-1",children:"Trends"}),e.jsx(T,{value:"ai-audience",className:"text-xs px-2 py-1",children:"Audience"}),e.jsx(T,{value:"ai-strategy",className:"text-xs px-2 py-1",children:"Strategy"}),e.jsx(T,{value:"ai-seo",className:"text-xs px-2 py-1",children:"SEO"}),e.jsx(T,{value:"ai-subtitles",className:"text-xs px-2 py-1",children:"Subtitles"})]}),e.jsxs(z,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-5 h-5"}),"Video Preview"]})}),e.jsx(o,{children:e.jsxs("div",{className:"aspect-video w-full bg-black rounded-lg overflow-hidden",children:[r.video_path||r.file_path?e.jsx("video",{src:r.video_path||r.file_path,controls:!0,className:"w-full h-full",onError:a=>{console.error("Video failed to load:",a),a.currentTarget.style.display="none";const t=a.currentTarget.nextElementSibling;t&&(t.style.display="flex")}}):e.jsx("div",{className:"flex items-center justify-center h-full text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No video file available"})]})}),e.jsx("div",{className:"flex items-center justify-center h-full text-white",style:{display:"none"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(Me,{className:"w-12 h-12 mx-auto mb-2 text-red-500"}),e.jsx("p",{children:"Failed to load video"}),e.jsx("p",{className:"text-sm opacity-75",children:"Check if the video file exists"})]})})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{children:"Video Details"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Title"}),e.jsx("p",{className:"mt-1",children:r.title})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Description"}),e.jsx("p",{className:"mt-1",children:r.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Duration"}),e.jsx("p",{className:"mt-1",children:r.formatted_duration})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground",children:"Upload Date"}),e.jsx("p",{className:"mt-1",children:new Date(r.created_at).toLocaleString()})]})]})]})]}),r.targets&&r.targets.length>0&&e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsx(y,{children:"Publishing Status"}),e.jsx(ps,{children:"Current status for each platform"})]}),e.jsx(o,{children:e.jsx("div",{className:"space-y-4",children:r.targets.map(a=>{const t=pa[a.status],i=ha[a.platform],c=V(a);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium capitalize",children:a.platform}),a.publish_at&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scheduled: ",new Date(a.publish_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(u,{className:ja[a.status],children:[e.jsx(t,{className:"w-3 h-3 mr-1"}),a.status]}),c&&a.status==="success"&&e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700",children:e.jsx(Nt,{className:"w-4 h-4"})}),a.status==="success"&&e.jsxs(R,{size:"sm",variant:"outline",onClick:()=>E(a.id,a.platform),className:"text-red-600 hover:text-red-700",children:[e.jsx(tt,{className:"w-3 h-3 mr-1"}),"Remove"]})]})]},a.id)})})})]}),r.targets&&r.targets.some(a=>a.status==="failed"&&a.error_message)&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsx(y,{className:"text-red-600",children:"Error Details"})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:r.targets.filter(a=>a.status==="failed"&&a.error_message).map(a=>e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Me,{className:"h-4 w-4 text-red-600"}),e.jsxs("span",{className:"font-medium capitalize text-red-600",children:[a.platform," Error"]})]}),e.jsx("p",{className:"text-sm text-red-700",children:a.error_message})]},a.id))})})]})]}),e.jsx(z,{value:"edit",className:"space-y-6",children:e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsx(y,{children:"Video Information"}),e.jsx(ps,{children:"Edit the basic information for your video"})]}),e.jsx(o,{children:e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg dark:bg-gray-800",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Duration"}),e.jsx("p",{className:"text-lg dark:text-gray-400",children:r.formatted_duration})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Upload Date"}),e.jsx("p",{className:"text-lg dark:text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"title",children:"Title"}),e.jsx(Ke,{id:"title",value:n.title,onChange:a=>s("title",a.target.value),placeholder:"Enter video title"}),v.title&&e.jsx("p",{className:"text-sm text-red-600",children:v.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"description",children:"Description"}),e.jsx(fs,{id:"description",value:n.description,onChange:a=>s("description",a.target.value),placeholder:"Enter video description",rows:4}),v.description&&e.jsx("p",{className:"text-sm text-red-600",children:v.description})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>I("overview"),children:"Cancel"}),e.jsxs(R,{type:"submit",disabled:P,children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"}),P?"Saving...":"Save Changes"]})]})]})})]})}),e.jsx(z,{value:"ai-optimize",className:"space-y-6",children:e.jsx(ea,{title:n.title,description:n.description,platforms:((U=r.targets)==null?void 0:U.map(a=>a.platform))||["youtube"],onTitleChange:a=>s("title",a),onDescriptionChange:a=>s("description",a),onTagsUpdate:(a,t)=>{console.log(`Tags for ${a}:`,t)}})}),e.jsx(z,{value:"ai-analyze",className:"space-y-6",children:e.jsx(la,{children:e.jsx(Zt,{videoPath:r.original_file_path,onAnalysisComplete:X})})}),e.jsx(z,{value:"ai-performance",children:e.jsx(ia,{videoId:r.id,className:"mb-4"})}),e.jsx(z,{value:"ai-thumbnails",children:e.jsx(ra,{videoId:r.id,videoPath:r.original_file_path||"/path/to/video",title:n.title,className:"mb-4"})}),e.jsx(z,{value:"ai-calendar",children:e.jsx(na,{userId:1,className:"mb-4"})}),e.jsx(z,{value:"ai-trends",children:e.jsx(ca,{userId:1,className:"mb-4"})}),e.jsx(z,{value:"ai-audience",children:e.jsx(da,{videoId:r.id})}),e.jsx(z,{value:"ai-strategy",children:e.jsx(ma,{video:r})}),e.jsx(z,{value:"ai-seo",children:e.jsx(oa,{video:r,contentId:r.id,contentType:"video"})}),e.jsx(z,{value:"ai-subtitles",children:e.jsx(xa,{videoPath:r.original_file_path||"/path/to/video"})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs(m,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-blue-50",children:[e.jsx(f,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg",children:e.jsx(be,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx(y,{className:"text-lg bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Powered by advanced AI"})]})]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ke,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-sm",children:"AI Content Optimization"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Generate platform-specific titles, descriptions, and hashtags optimized for maximum engagement."})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(be,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-sm",children:"AI Video Analysis"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Deep analysis of your video content including quality assessment, transcription, and engagement predictions."})]}),e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(cs,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-sm",children:"AI Subtitle Generator"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Automatically generate precise subtitles with perfect timing and customizable animated styles."})]})]}),e.jsx("div",{className:"pt-3 border-t border-purple-100",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"✨ Switch between tabs to access different AI features"})})]})]})})]}),e.jsx(ws,{open:S,onOpenChange:k,children:e.jsxs(_s,{className:"sm:max-w-md",children:[e.jsxs(ks,{children:[e.jsx(Ss,{children:"Delete Video"}),e.jsx(Cs,{children:"Choose how you want to handle this video deletion. This action cannot be undone."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>O("tikomat"),children:[e.jsx("input",{type:"radio",id:"delete-tikomat",name:"delete-option",value:"tikomat",checked:j==="tikomat",onChange:a=>O(a.target.value),className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"delete-tikomat",className:"text-sm font-medium cursor-pointer",children:"Remove only from Tikomat"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Video will remain published on all platforms but removed from Tikomat's tracking"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>O("all"),children:[e.jsx("input",{type:"radio",id:"delete-all",name:"delete-option",value:"all",checked:j==="all",onChange:a=>O(a.target.value),className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"delete-all",className:"text-sm font-medium cursor-pointer",children:"Take down from all platforms"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Video will be completely removed from all platforms and Tikomat"})]})]})]})}),e.jsxs(at,{children:[e.jsx(R,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsx(R,{variant:"destructive",onClick:C,children:j==="all"?"Take Down Video":"Remove from Tikomat"})]})]})})]})]})}export{cl as default};
