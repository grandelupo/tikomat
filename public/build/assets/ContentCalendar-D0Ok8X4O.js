import{r as h,j as e,$ as V}from"./app-DbvbM8G9.js";import{C as v,I as b,A as q}from"./app-layout-COnWVxxa.js";import{C as r,a as c,b as y,c as _}from"./card-BSsI2gFm.js";import{c as m,B}from"./button-BDb64g5D.js";import{B as i}from"./badge-CKN_7PQj.js";import{T as L,a as U,b as u,c as j}from"./tabs-DFAp-cv2.js";import{A as p,a as g}from"./alert-CYspxCAw.js";import{u as Q}from"./use-toast-GT02HxfV.js";import{C as H}from"./calendar-E1rZCJFg.js";import{R as I}from"./refresh-cw-OsZtceSF.js";import{S as J,C as K,T as X}from"./workflow-DBvnAgQ8.js";import{S as Y}from"./star-jbKedLVu.js";import{C as W}from"./clock-DBjIJopD.js";import{C as Z}from"./circle-check-big-WmtM1YDf.js";import{E as D}from"./ErrorBoundary-CfzorruR.js";import"./index-CDRf_5HS.js";import"./index-xOYYBGVs.js";import"./video-BjQhueDL.js";import"./triangle-alert-BKEOrKhw.js";const ee=({userId:N,className:C})=>{var A;const[a,k]=h.useState(null),[x,w]=h.useState(!1),[P,R]=h.useState("calendar"),[se,te]=h.useState("all"),{toast:S}=Q(),T=async()=>{var t;w(!0);try{const n=await(await fetch("/ai/generate-content-calendar",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||""},body:JSON.stringify({user_id:N,platforms:["youtube","instagram","tiktok"],days:30})})).json();if(n.success)k(n.data),S({title:n.data.has_data?"Calendar Generated! 📅":"Basic Calendar Generated 📅",description:n.message});else throw new Error(n.message||"Failed to generate calendar")}catch(s){console.error("Calendar generation error:",s),S({title:"Error",description:"Failed to generate calendar. Please try again.",variant:"destructive"})}finally{w(!1)}},z=t=>{switch(t){case"excellent":return"text-green-600 bg-green-50";case"good":return"text-blue-600 bg-blue-50";case"fair":return"text-yellow-600 bg-yellow-50";case"poor":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},f=t=>{switch(t){case"high":return e.jsx(Z,{className:"h-4 w-4 text-green-500"});case"medium":return e.jsx(W,{className:"h-4 w-4 text-yellow-500"});case"low":return e.jsx(v,{className:"h-4 w-4 text-red-500"});default:return e.jsx(b,{className:"h-4 w-4 text-gray-500"})}},d=t=>({youtube:"📺",instagram:"📷",tiktok:"🎵",twitter:"🐦",facebook:"👥"})[t]||"📱",E=()=>{if(!(a!=null&&a.data_sources))return null;const{data_sources:t}=a;return e.jsxs(r,{className:"mb-6",children:[e.jsx(y,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5"}),"Data Sources"]})}),e.jsxs(c,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:t.total_videos}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Videos"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:t.published_videos}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Published Videos"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:t.connected_platforms.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Connected Platforms"})]}),e.jsxs("div",{className:"text-center p-3 bg-muted rounded-lg",children:[e.jsx(i,{className:m("text-xs",z(t.data_quality)),children:t.data_quality}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Data Quality"})]})]}),!t.has_sufficient_data&&e.jsxs(p,{className:"mt-4",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx(g,{children:"Upload more videos and publish to platforms to get personalized insights and better recommendations."})]})]})]})},F=()=>{if(!(a!=null&&a.setup_guide))return null;const{setup_guide:t}=a;return e.jsxs(r,{className:"mb-6",children:[e.jsx(y,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Get Started"]})}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Follow these steps to unlock AI-powered personalized insights:"}),e.jsx("div",{className:"space-y-3",children:t.steps.map((s,n)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted rounded-lg",children:[e.jsx("div",{className:m("w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",s.importance==="high"?"bg-red-950/20 text-red-300":"bg-blue-950/20 text-blue-300"),children:n+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description}),e.jsx(i,{variant:"outline",className:"mt-2 text-xs",children:s.action})]})]},n))}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-950/20 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-300",children:"Benefits of Setup:"}),e.jsx("ul",{className:"mt-2 space-y-1",children:t.benefits.map((s,n)=>e.jsxs("li",{className:"text-sm text-blue-200 flex items-center gap-2",children:[e.jsx(Y,{className:"h-3 w-3"}),s]},n))}),e.jsxs("p",{className:"text-xs text-blue-300 mt-3",children:["Estimated time: ",t.estimated_time]})]})]})})]})},M=()=>{var t;return(t=a==null?void 0:a.best_performing_content)!=null&&t.length?e.jsxs(r,{className:"mb-6",children:[e.jsx(y,{children:e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Your Best Performing Content"]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:a.best_performing_content.map((s,n)=>e.jsx("div",{className:"p-3 border rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:[d(s.best_platform)," Best on ",s.best_platform]}),e.jsxs("span",{children:["Score: ",s.total_engagement]}),e.jsx("span",{children:s.content_type})]}),s.success_factors.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.success_factors.map((l,o)=>e.jsx(i,{variant:"secondary",className:"text-xs",children:l},o))})]}),e.jsxs(i,{className:"bg-green-100 text-green-800",children:["#",n+1]})]})},s.id))})})]}):null},O=()=>{var s;if(!((s=a==null?void 0:a.optimal_schedule)!=null&&s.length))return null;const t=a.optimal_schedule.slice(0,7);return e.jsx("div",{className:"space-y-4",children:t.map(n=>e.jsx(r,{children:e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium capitalize",children:n.day_of_week}),e.jsx("p",{className:"text-sm text-gray-600",children:n.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.has_data&&n.confidence_level&&f(n.confidence_level),e.jsxs(i,{variant:n.recommended_posts>0?"default":"secondary",children:[n.recommended_posts," posts"]})]})]}),n.note&&e.jsxs(p,{className:"mb-3",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx(g,{children:n.note})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.values(n.platforms).map(l=>e.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{children:d(l.platform)}),e.jsx("span",{className:"font-medium capitalize",children:l.platform}),l.confidence&&f(l.confidence)]}),e.jsxs("div",{className:"text-sm space-y-1",children:[l.recommended_posts>0&&e.jsxs("p",{children:["Recommended posts: ",l.recommended_posts]}),e.jsxs("p",{children:["Best times: ",l.optimal_times.join(", ")]}),a.has_data&&l.video_count!==void 0&&e.jsxs("p",{className:"text-muted-foreground",children:["Based on ",l.video_count," videos",l.success_rate&&` (${l.success_rate}% success rate)`]}),l.note&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:l.note})]})]},l.platform))})]})},n.date))})},G=()=>{var t;return(t=a==null?void 0:a.content_recommendations)!=null&&t.length?e.jsx("div",{className:"space-y-4",children:a.content_recommendations.map((s,n)=>e.jsx(r,{children:e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.title||`${s.type.charAt(0).toUpperCase()+s.type.slice(1)} Content`}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),s.performance_score&&e.jsxs(i,{className:"bg-blue-100 text-blue-800",children:["Score: ",Math.round(s.performance_score)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Frequency:"})," ",s.suggested_frequency]}),s.optimal_duration&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Optimal Duration:"})," ",Math.round(s.optimal_duration),"s"]}),s.platforms&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Best Platforms:"})," ",s.platforms.map(l=>d(l)).join(" ")]})]}),a.has_data&&s.video_count!==void 0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Based on:"})," ",s.video_count," videos"]}),s.success_rate&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Success Rate:"})," ",Math.round(s.success_rate),"%"]})]})]}),s.example_titles&&s.example_titles.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Example titles from your content:"}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:s.example_titles.map((l,o)=>e.jsxs("li",{children:["• ",l]},o))})]}),s.tips&&s.tips.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Tips:"}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:s.tips.map((l,o)=>e.jsxs("li",{children:["• ",l]},o))})]}),s.note&&e.jsxs(p,{children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx(g,{children:s.note})]})]})},n))}):null},$=()=>a!=null&&a.platform_insights?e.jsx("div",{className:"space-y-4",children:Object.values(a.platform_insights).map(t=>e.jsx(r,{children:e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-xl",children:d(t.platform)}),e.jsx("h3",{className:"font-medium capitalize",children:t.platform})]}),t.status==="no_data"?e.jsxs(p,{children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx(g,{children:t.message})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-bold",children:t.total_videos}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Videos"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-bold",children:t.successful_videos}),e.jsx("div",{className:"text-xs text-gray-600",children:"Successful"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"font-bold",children:[Math.round(t.success_rate||0),"%"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Success Rate"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-bold",children:Math.round(t.avg_performance||0)}),e.jsx("div",{className:"text-xs text-gray-600",children:"Avg Performance"})]})]}),t.best_content_type&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Best Content Type:"})," ",t.best_content_type]}),t.recommendations&&t.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Recommendations:"}),e.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:t.recommendations.map((s,n)=>e.jsxs("li",{children:["• ",s]},n))})]})]})]})},t.platform))}):null;return a?e.jsxs("div",{className:m("space-y-6",C),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Content Calendar"}),e.jsx("p",{className:"text-gray-600",children:a.has_data?`Personalized insights based on your ${((A=a.data_sources)==null?void 0:A.total_videos)||0} videos`:"Basic recommendations - upload videos for personalized insights"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{className:m(a.has_data?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:["Score: ",a.calendar_score,"/100"]}),e.jsxs(B,{onClick:T,disabled:x,variant:"outline",children:[x&&e.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"}),"Regenerate"]})]})]}),!a.has_data&&e.jsx(F,{}),e.jsx(E,{}),a.has_data&&e.jsx(M,{}),e.jsxs(L,{value:P,onValueChange:R,children:[e.jsxs(U,{className:"grid w-full grid-cols-4",children:[e.jsx(u,{value:"calendar",children:"Schedule"}),e.jsx(u,{value:"recommendations",children:"Content Ideas"}),e.jsx(u,{value:"insights",children:"Platform Insights"}),e.jsx(u,{value:"analytics",children:"Analytics"})]}),e.jsx(j,{value:"calendar",className:"space-y-4",children:e.jsx(O,{})}),e.jsx(j,{value:"recommendations",className:"space-y-4",children:e.jsx(G,{})}),e.jsx(j,{value:"insights",className:"space-y-4",children:e.jsx($,{})}),e.jsx(j,{value:"analytics",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(a.posting_frequency).map(([t,s])=>e.jsx(r,{children:e.jsxs(c,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{children:d(t)}),e.jsx("h3",{className:"font-medium capitalize",children:t}),f(s.confidence)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Recommended:"})," ",s.posts_per_week," posts/week"]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Daily average:"})," ",s.posts_per_day," posts"]}),e.jsx("p",{className:"text-xs text-gray-600 italic",children:s.note})]})]})},t))})})]})]}):e.jsx("div",{className:m("space-y-6",C),children:e.jsx(r,{children:e.jsxs(c,{className:"p-8 text-center",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"AI Content Calendar"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Generate a personalized content calendar based on your video performance data and AI insights."}),e.jsxs(B,{onClick:T,disabled:x,className:"w-full max-w-sm",children:[x&&e.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"}),"Generate Content Calendar"]})]})})})};function ye(){const N=[{title:"AI Tools",href:"/ai/content-calendar"},{title:"Content Calendar",href:"/ai/content-calendar"}];return e.jsxs(q,{breadcrumbs:N,children:[e.jsx(V,{title:"AI Content Calendar"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"AI Content Calendar"}),e.jsx("p",{className:"text-muted-foreground",children:"Plan and schedule your content with AI-powered insights"})]})}),e.jsx(D,{children:e.jsx(ee,{userId:1})})]})]})}export{ye as default};
