import{j as e,$ as w,Y as c,U as v,m as j}from"./app-DGswcp_G.js";import{A as $,S as k}from"./app-layout-CsNiOwCl.js";import{B as l}from"./button-CwZdtYtg.js";import{C as d,a as u,b as f,c as m,d as S}from"./card-DNYGgm9k.js";import{B as n}from"./badge-CAsB8S7N.js";import{C as D}from"./crown-DZFGP7HC.js";import{P as x}from"./plus-Ddt5bXW6.js";import{V as h,I as z,Y as P}from"./youtube-BtBuqx3P.js";import{Z as V}from"./zap-sKZwgAGS.js";import{C as I}from"./circle-x-CCtZ9Wla.js";import{C as U}from"./circle-check-big-4GXqZ1Mk.js";import{C as A}from"./circle-alert-CnZQkT2f.js";import{C as B}from"./clock-CnN-8-eR.js";import"./index-BfdbNgSz.js";import"./index-C5vS8yi1.js";import"./app-logo-icon-C3_X4wxS.js";import"./chart-column-oWGzqR77.js";const g={youtube:P,instagram:z,tiktok:h},Y={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},_={pending:B,processing:A,success:U,failed:I};function ae({channel:t,socialAccounts:R,videos:o,availablePlatforms:p,allowedPlatforms:E}){const N=[{title:"Dashboard",href:"/dashboard"},{title:t.name,href:`/channels/${t.slug}`}],b=s=>{window.location.href=`/channels/${t.slug}/auth/${s}`},y=s=>{confirm(`Are you sure you want to disconnect ${s} from this channel?`)&&j.delete(`/channels/${t.slug}/social/${s}`)},C=s=>{j.post(`/video-targets/${s}/retry`)};return e.jsxs($,{breadcrumbs:N,children:[e.jsx(w,{title:`${t.name} - Channel`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.name}),t.is_default&&e.jsxs(n,{variant:"secondary",className:"flex items-center",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsx("p",{className:"text-muted-foreground",children:t.description||"Manage your social media connections and videos"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(c,{href:`/channels/${t.slug}/videos/create`,children:e.jsxs(l,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Video"]})}),e.jsx(c,{href:`/channels/${t.id}/edit`,children:e.jsxs(l,{variant:"outline",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Platform Connections"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:p.map(s=>{const a=g[s.name],i=s.connected,r=s.coming_soon;return e.jsxs(d,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:s.label}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(m,{children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:r?e.jsx(n,{variant:"secondary",className:"bg-gray-100 text-gray-600",children:"Coming Soon"}):e.jsx(n,{variant:i?"default":"secondary",className:i?"bg-green-100 text-green-800":"",children:i?"Connected":"Not Connected"})}),e.jsx("div",{className:"flex flex-col gap-2",children:r?e.jsxs("div",{className:"text-xs text-gray-500 text-center py-2",children:[e.jsx(V,{className:"w-4 h-4 mx-auto mb-1"}),"Upgrade to Pro to unlock ",s.label]}):i?e.jsx(l,{variant:"outline",size:"sm",onClick:()=>y(s.name),className:"w-full",children:"Disconnect"}):e.jsxs(l,{size:"sm",onClick:()=>b(s.name),className:"w-full",children:["Connect ",s.label]})})]})]},s.name)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Videos"}),e.jsx(c,{href:`/channels/${t.slug}/videos/create`,children:e.jsxs(l,{size:"sm",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Video"]})})]}),o.data.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.data.map(s=>e.jsxs(d,{children:[e.jsxs(u,{children:[e.jsx(f,{className:"text-base",children:s.title}),e.jsxs(S,{children:[Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")," â€¢ ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:s.thumbnail_path?e.jsx("img",{src:s.thumbnail_path,alt:s.title,className:"w-full h-full object-cover rounded-lg"}):e.jsx(h,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"space-y-2",children:s.targets.map((a,i)=>{const r=_[a.status];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[v.createElement(g[a.platform],{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm capitalize",children:a.platform})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(n,{className:Y[a.status],children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),a.status]}),a.status==="failed"&&e.jsx(l,{size:"sm",variant:"outline",onClick:()=>C(a.id),className:"text-xs px-2 py-1 h-auto",children:"Retry"})]})]},i)})}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(c,{href:`/videos/${s.id}`,children:e.jsx(l,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})}),e.jsx(c,{href:`/videos/${s.id}/edit`,children:e.jsx(l,{size:"sm",variant:"outline",className:"text-xs",children:"Edit"})})]})]})})]},s.id))}),o.links&&e.jsx("div",{className:"flex justify-center"})]}):e.jsx(d,{children:e.jsxs(m,{className:"text-center py-12",children:[e.jsx(h,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No videos yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your first video to this channel to get started."}),e.jsx(c,{href:`/channels/${t.slug}/videos/create`,children:e.jsxs(l,{children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Upload Your First Video"]})})]})})]})]})]})}export{ae as default};
