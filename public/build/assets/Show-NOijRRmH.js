import{j as e,$,Y as l,U as k,m as x}from"./app-ozfEpo_I.js";import{A as P,S as U}from"./app-layout-s3LkRgpS.js";import{B as r}from"./button-CsYLtmsg.js";import{C as c,a as n,b as D,c as S,d as T}from"./card-QOP9n2Sn.js";import{B as d}from"./badge-NJ_G1r72.js";import{V}from"./VideoThumbnail-D1F-pd8d.js";import{C as u}from"./crown-DLS0Aukl.js";import{P as g}from"./plus-G-9iCkxP.js";import{T as z,P as A,C as F,F as I}from"./twitter-DkJ7n-Fg.js";import{V as p,I as R,Y as B}from"./youtube-CdNSo5sW.js";import{C as N}from"./circle-check-big-DI0dRkbP.js";import{Z as Y}from"./zap-ChVDbYrb.js";import{C as _}from"./circle-x-DJXCcZoq.js";import{C as E}from"./circle-alert-BNnJHDS2.js";import{C as M}from"./clock-C9xbf533.js";import"./index-CGxPRdp5.js";import"./index-BapqW0YF.js";import"./chart-column-CG83j-w0.js";const f={youtube:B,instagram:R,tiktok:p,facebook:I,snapchat:F,pinterest:A,twitter:z},L={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},Z={pending:M,processing:E,success:N,failed:_};function me({channel:a,socialAccounts:H,videos:o,availablePlatforms:h,allowedPlatforms:O}){const b=[{title:"Dashboard",href:"/dashboard"},{title:a.name,href:`/channels/${a.slug}`}],v=s=>{window.location.href=`/channels/${a.slug}/auth/${s}`},w=s=>{confirm(`Are you sure you want to disconnect ${s} from this channel?`)&&x.delete(`/channels/${a.slug}/social/${s}`)},y=s=>{confirm(`Force reconnect ${s}? This will revoke current permissions and ask you to choose an account again.`)&&(window.location.href=`/channels/${a.slug}/auth/${s}?force=true`)},C=s=>{x.post(`/video-targets/${s}/retry`)},j=()=>{x.visit("/subscription/plans")};return e.jsxs(P,{breadcrumbs:b,children:[e.jsx($,{title:`${a.name} - Channel`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:a.name}),a.is_default&&e.jsxs(d,{variant:"secondary",className:"flex items-center",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsx("p",{className:"text-muted-foreground",children:a.description||"Manage your videos and content"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(l,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(r,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Upload Video"]})}),e.jsx(l,{href:`/channels/${a.id}/edit`,children:e.jsxs(r,{variant:"outline",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Connected Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect social media accounts to publish videos"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(s=>{const t=s.connected,i=s.allowed,m=f[s.name];return e.jsx(c,{className:`transition-all ${t?"border-green-200 bg-green-50":"border-gray-200"}`,children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t?"bg-green-100":"bg-gray-100"}`,children:e.jsx(m,{className:`w-5 h-5 ${t?"text-green-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t?"Connected":"Not connected"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:t?e.jsxs(e.Fragment,{children:[e.jsxs(d,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),"Connected"]}),e.jsx(r,{size:"sm",variant:"outline",onClick:()=>w(s.name),className:"text-red-600 hover:text-red-700",children:"Disconnect"})]}):e.jsxs(e.Fragment,{children:[!i&&e.jsx(d,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Pro Only"}),e.jsx(r,{size:"sm",onClick:()=>i?v(s.name):j(),disabled:!i,className:i?"":"opacity-50",children:i?"Connect":"Upgrade"})]})})]}),t&&e.jsx("div",{className:"mt-3 pt-3 border-t border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Account active"}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>y(s.name),className:"text-xs h-auto p-1",children:"Reconnect"})]})})]})},s.name)})}),h.filter(s=>!s.allowed).length>0&&e.jsx(c,{className:"mt-4 border-blue-200 bg-blue-50",children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(u,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Unlock More Platforms"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Upgrade to Pro to access Instagram, TikTok, and more platforms"})]})]}),e.jsxs(r,{onClick:j,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]})]})})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Videos"})}),o.data.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.data.map(s=>e.jsxs(c,{children:[e.jsxs(D,{children:[e.jsx(S,{className:"text-base",children:s.title}),e.jsxs(T,{children:[Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")," â€¢ ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(V,{src:s.thumbnail_path,alt:s.title,width:s.video_width??void 0,height:s.video_height??void 0,className:"h-32"})}),e.jsx("div",{className:"space-y-2",children:s.targets.map((t,i)=>{const m=Z[t.status];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[k.createElement(f[t.platform],{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm capitalize",children:t.platform})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(d,{className:L[t.status],children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),t.status]}),t.status==="failed"&&e.jsx(r,{size:"sm",variant:"outline",onClick:()=>C(t.id),className:"text-xs px-2 py-1 h-auto",children:"Retry"})]})]},i)})}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(l,{href:`/videos/${s.id}`,children:e.jsx(r,{size:"sm",variant:"outline",className:"text-xs",children:"View Details"})}),e.jsx(l,{href:`/videos/${s.id}/edit`,children:e.jsx(r,{size:"sm",variant:"outline",className:"text-xs",children:"Edit"})})]})]})})]},s.id))}),o.links&&e.jsx("div",{className:"flex justify-center"})]}):e.jsx(c,{children:e.jsxs(n,{className:"text-center py-12",children:[e.jsx(p,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No videos yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your first video to this channel to get started."}),e.jsx(l,{href:`/channels/${a.slug}/videos/create`,children:e.jsxs(r,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Upload Your First Video"]})})]})})]})]})]})}export{me as default};
