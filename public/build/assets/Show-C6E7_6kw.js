import{j as e,$ as C,Y as i,m as d}from"./app-q07ROoqf.js";import{A as $,S as k}from"./app-layout-RIHH3a4v.js";import{B as l}from"./button-D517XJU-.js";import{C as c,a as n}from"./card-DutEE086.js";import{B as m}from"./badge-CB2eIO0A.js";import{V as P}from"./VideoThumbnail-BJt2SoHc.js";import{C as f}from"./crown-CAnpc7jy.js";import{P as g}from"./plus-DN8bNjlO.js";import{T,P as S,C as U,F as V}from"./twitter-DItj9TTg.js";import{V as j}from"./video-1_16ZoGB.js";import{I,Y as z}from"./youtube-BE_VTxrd.js";import{Z as A}from"./zap-BeBf9aas.js";import{C as F}from"./circle-x-CJAxRjfC.js";import{C as B}from"./circle-check-big-Bz6sU0Qz.js";import{C as D}from"./circle-alert-BOPNCE4N.js";import{C as R}from"./clock-pIn-uWvV.js";import"./index-C8IGYvts.js";import"./index-CZKAHIZZ.js";const Y={youtube:z,instagram:I,tiktok:j,facebook:V,snapchat:U,pinterest:S,twitter:T},_={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800"},M={pending:R,processing:D,success:B,failed:F};function ne({channel:t,socialAccounts:E,videos:x,availablePlatforms:h,allowedPlatforms:L}){const p=[{title:"Dashboard",href:"/dashboard"},{title:t.name,href:`/channels/${t.slug}`}],N=s=>{window.location.href=`/channels/${t.slug}/auth/${s}`},b=s=>{confirm(`Are you sure you want to disconnect ${s} from this channel?`)&&d.delete(`/channels/${t.slug}/social/${s}`)},w=s=>{confirm(`Force reconnect ${s}? This will revoke current permissions and ask you to choose an account again.`)&&(window.location.href=`/channels/${t.slug}/auth/${s}?force=true`)},v=s=>{d.post(`/video-targets/${s}/retry`)},u=()=>{d.visit("/subscription/plans")};return e.jsxs($,{breadcrumbs:p,children:[e.jsx(C,{title:`${t.name} - Channel`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t.name}),t.is_default&&e.jsxs(m,{variant:"secondary",className:"flex items-center",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Default"]})]}),e.jsx("p",{className:"text-muted-foreground",children:t.description||"Manage your videos and content"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i,{href:`/channels/${t.slug}/videos/create`,children:e.jsxs(l,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Upload Video"]})}),e.jsx(i,{href:`/channels/${t.id}/edit`,children:e.jsxs(l,{variant:"outline",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Connected Platforms"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect social media accounts to publish videos"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:h.map(s=>{const a=s.connected,r=s.allowed,o=Y[s.name];return e.jsx(c,{className:`transition-all h-full ${a?"border-green-200 bg-green-50":"border-gray-200"}`,children:e.jsxs(n,{className:"p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3 flex-1",children:[e.jsx("div",{className:`p-3 rounded-lg ${a?"bg-green-100":"bg-gray-100"}`,children:e.jsx(o,{className:`w-6 h-6 ${a?"text-green-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm",children:s.label}),a&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Connected"})]})]}),e.jsx("div",{className:"flex flex-col space-y-2 mt-4",children:a?e.jsxs(e.Fragment,{children:[e.jsx(l,{size:"sm",variant:"outline",onClick:()=>b(s.name),className:"text-red-600 hover:text-red-700 w-full",children:"Disconnect"}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>w(s.name),className:"text-xs h-auto p-1 w-full",children:"Reconnect"})]}):e.jsxs(e.Fragment,{children:[!r&&e.jsx(m,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 justify-center",children:"Pro Only"}),e.jsx(l,{size:"sm",onClick:()=>r?N(s.name):u(),disabled:!r,className:`w-full ${r?"":"opacity-50"}`,children:r?"Connect":"Upgrade"})]})})]})},s.name)})}),h.filter(s=>!s.allowed).length>0&&e.jsx(c,{className:"mt-4 border-blue-200 bg-blue-50",children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(f,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Unlock More Platforms"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Upgrade to Pro to access Instagram, TikTok, and more platforms"})]})]}),e.jsxs(l,{onClick:u,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]})]})})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Videos"}),e.jsx(i,{href:"/videos",className:"text-sm text-blue-600 hover:text-blue-700",children:"View all videos →"})]}),x.data.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:x.data.map(s=>e.jsx(c,{className:"overflow-hidden",children:e.jsxs(n,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx(P,{src:s.thumbnail_path,alt:s.title,width:s.video_width??void 0,height:s.video_height??void 0,className:"w-full h-24"}),e.jsxs("div",{className:"absolute bottom-1 right-1 bg-black bg-opacity-75 text-white text-xs px-1 rounded",children:[Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2 leading-tight",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.targets.map((a,r)=>{const o=M[a.status],y={youtube:"YT",instagram:"IG",tiktok:"TT",facebook:"FB",twitter:"X",snapchat:"SC",pinterest:"PT"};return e.jsxs("div",{className:"flex items-center",children:[e.jsxs(m,{variant:"secondary",className:`text-xs px-1.5 py-0.5 ${_[a.status]}`,children:[e.jsx(o,{className:"w-2.5 h-2.5 mr-0.5"}),y[a.platform]||a.platform.toUpperCase()]}),a.status==="failed"&&e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>v(a.id),className:"text-xs px-1 py-0 h-auto ml-1 text-red-600",children:"↻"})]},r)})}),e.jsxs("div",{className:"flex gap-1 pt-1",children:[e.jsx(i,{href:`/videos/${s.id}`,className:"flex-1",children:e.jsx(l,{size:"sm",variant:"outline",className:"text-xs w-full h-6",children:"View"})}),e.jsx(i,{href:`/videos/${s.id}/edit`,className:"flex-1",children:e.jsx(l,{size:"sm",variant:"outline",className:"text-xs w-full h-6",children:"Edit"})})]})]})]})},s.id))}):e.jsx(c,{children:e.jsxs(n,{className:"text-center py-8",children:[e.jsx(j,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:"No videos yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload your first video to this channel to get started."}),e.jsx(i,{href:`/channels/${t.slug}/videos/create`,children:e.jsxs(l,{size:"sm",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),"Upload Video"]})})]})})]})]})]})}export{ne as default};
