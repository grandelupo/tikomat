import{r as b,j as e,$ as G,m as N}from"./app-DUsOoLcB.js";import{u as L,A as R,a as g,b as v,c as Y}from"./app-layout-CLwD6sIU.js";import{B as o}from"./button-Bi9frjTx.js";import{C,b as w,c as S,d as U,a as T}from"./card-D-yWmt0p.js";import{R as W,a as y}from"./radio-group-D2iMR_xY.js";import{L as B}from"./label-BKgvLaKQ.js";import{A as E,a as D}from"./alert-BFEV141f.js";import{A as M}from"./arrow-left-BTG9zl_5.js";import{C as _}from"./circle-check-big-CWIwRuGp.js";import{Y as A}from"./youtube-hfzczlLN.js";import{U as H}from"./workflow-CtamUz8V.js";import"./index-D8LsEh_L.js";import"./index-CUF4B9Uv.js";import"./video-D3UXl7Xw.js";import"./calendar-CZVBnsPk.js";import"./badge-Ca6ErgLP.js";import"./index-wMZUiMBe.js";function ce({channel:t,youtubeChannels:r,userProfile:d}){var u,h;const m=L(),[i,k]=b.useState(""),[c,n]=b.useState(!1),I=[{title:"My channels",href:"/dashboard"},{title:t.name,href:`/channels/${t.slug}`},{title:"Connect YouTube",href:"#"}],$=()=>{i&&(n(!0),N.post(`/channels/${t.slug}/youtube/select-channel`,{youtube_channel_id:i},{onFinish:()=>{n(!1)},onError:()=>{n(!1)}}))},x=()=>{N.visit(`/channels/${t.slug}`)},F=s=>{const a=parseInt(s);return a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:s},l=r.find(s=>s.id===i);return e.jsxs(R,{breadcrumbs:I,children:[e.jsx(G,{title:"Select YouTube Channel"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Select YouTube Channel"}),e.jsxs("p",{className:"text-muted-foreground",children:['Choose which YouTube channel to connect to "',t.name,'"']})]}),e.jsxs(o,{variant:"outline",onClick:x,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),e.jsxs(E,{children:[e.jsx(_,{className:"h-4 w-4"}),e.jsxs(D,{children:["Successfully authenticated with Google account: ",e.jsx("strong",{children:d.name})," (",d.email,")"]})]}),e.jsxs(C,{children:[e.jsxs(w,{children:[e.jsxs(S,{className:"flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-red-600"}),"Select Your YouTube Channel"]}),e.jsx(U,{children:r.length===1?"We found 1 YouTube channel associated with your Google account.":`We found ${r.length} YouTube channels associated with your Google account. Please select the one you want to connect.`})]}),e.jsxs(T,{children:[e.jsx(W,{value:i,onValueChange:k,className:"space-y-4",children:r.map(s=>{var a,p,j,f;return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{value:s.id,id:s.id}),e.jsxs(B,{htmlFor:s.id,className:"flex-1 flex items-center space-x-4 cursor-pointer p-4 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors",children:[e.jsxs(g,{className:"h-12 w-12",children:[e.jsx(v,{src:(p=(a=s.snippet.thumbnails)==null?void 0:a.default)==null?void 0:p.url,alt:s.snippet.title}),e.jsx(Y,{className:"bg-red-100 text-red-600",children:m(s.snippet.title)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.snippet.title}),s.snippet.customUrl&&e.jsx("span",{className:"text-sm text-gray-500",children:s.snippet.customUrl})]}),s.snippet.description&&e.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:s.snippet.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[((j=s.statistics)==null?void 0:j.subscriberCount)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsxs("span",{children:[F(s.statistics.subscriberCount)," subscribers"]})]}),((f=s.statistics)==null?void 0:f.videoCount)&&e.jsxs("span",{children:[s.statistics.videoCount," videos"]})]})]})]})]},s.id)})}),l&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Selected Channel"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(g,{className:"h-8 w-8",children:[e.jsx(v,{src:(h=(u=l.snippet.thumbnails)==null?void 0:u.default)==null?void 0:h.url,alt:l.snippet.title}),e.jsx(Y,{className:"bg-blue-100 text-blue-600 text-xs",children:m(l.snippet.title)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:l.snippet.title}),e.jsxs("p",{className:"text-sm text-blue-700",children:['Will be connected to "',t.name,'" channel']})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(o,{variant:"outline",onClick:x,disabled:c,children:"Cancel"}),e.jsxs(o,{onClick:$,disabled:!i||c,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),c?"Connecting...":"Connect YouTube Channel"]})]})]})]}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsx(S,{className:"text-lg",children:"What happens next?"})}),e.jsx(T,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-bold text-green-600 mt-0.5",children:"•"}),e.jsxs("span",{children:['Your selected YouTube channel will be linked to your "',t.name,'" channel']})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-bold text-green-600 mt-0.5",children:"•"}),e.jsx("span",{children:"You can upload videos directly to this YouTube channel from tikomat"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-bold text-green-600 mt-0.5",children:"•"}),e.jsx("span",{children:"Your connection is secure and can be disconnected at any time"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-bold text-green-600 mt-0.5",children:"•"}),e.jsx("span",{children:"You can connect different YouTube channels to different tikomat channels"})]})]})})]})]})]})}export{ce as default};
